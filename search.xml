<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo-theme-butterfly安裝文檔</title>
      <link href="/posts/21cfbf15/"/>
      <url>/posts/21cfbf15/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="note info">            <p>如果你對主題安装有疑問或者發現bugs，請點擊<a href="https://github.com/jerryc127/hexo-theme-butterfly/issues" rel="external nofollow noopener noreferrer" target="_blank">這裏</a>反饋/詢問</p>          </div><h1 id="快速開始"><a href="#快速開始" class="headerlink" title="快速開始"></a>快速開始</h1><p><code>hexo-theme-butterfly</code>是基於<a href="https://github.com/Molunerfinn" rel="external nofollow noopener noreferrer" target="_blank">Molunerfinn</a>的<a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-melody</a>的基礎上進行開發的。<br>文檔也是在<a href="https://molunerfinn.com/hexo-theme-melody-doc/" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-melody</a>的文檔基礎上修改。因為一些配置變更導致與原主題配置上有部分區別。故如果安裝<code>hexo-theme-butterfly</code>主題，請參考這篇文檔。</p><h2 id="主題安裝和升級"><a href="#主題安裝和升級" class="headerlink" title="主題安裝和升級"></a>主題安裝和升級</h2><h3 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h3><p>在你的博客根目錄裏</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><p>如果想要安裝比較新的dev分支，可以</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b div https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><h3 id="應用主題"><a href="#應用主題" class="headerlink" title="應用主題"></a>應用主題</h3><p>修改站點配置文件<code>_config.yml</code>，把主題改為<code>Butterfly</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">Butterfly</span></span><br></pre></td></tr></table></figure><blockquote><p>如果你沒有 pug 以及 stylus 的渲染器，請下載安裝： <code>npm install hexo-renderer-jade hexo-renderer-stylus --save</code> or <code>yarn add hexo-renderer-jade hexo-renderer-stylus</code></p></blockquote><h3 id="平滑升級"><a href="#平滑升級" class="headerlink" title="平滑升級"></a>平滑升級</h3><p>為了主題的平滑升級, <code>Butterfly</code> 使用了 <a href="https://hexo.io/docs/data-files.html" rel="external nofollow noopener noreferrer" target="_blank">data files</a>特性。</p><p>推薦把主題默認的配置文件<code>_config.yml</code>複製到 Hexo 工作目錄下的<code>source/_data/butterfly.yml</code>，如果<code>source/_data</code>的目錄不存在那就創建一個。</p><blockquote><p>注意，如果你創建了<code>butterfly.yml</code>, 它將會替換主題默認配置文件<code>_config.yml</code>裏的配置項 (<strong>不是合併而是替換</strong>), 之後你就只需要通過<code>git pull</code>的方式就可以平滑地升級 <code>theme-butterfly</code>了。</p></blockquote><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="配置文件説明"><a href="#配置文件説明" class="headerlink" title="配置文件説明"></a>配置文件説明</h2><ul><li>站點配置文件<code>_config.yml</code>是 hexo 工作目錄下的主配置文件</li><li><code>butterfly.yml</code> 是 <code>Butterfly</code> 的配置文件。它需要你手動將主題目錄下的<code>_config.yml</code>文件複製到 hexo 工作目錄的<code>source/_data/butterfly.yml</code>中。如果文件或者文件夾不存在，需要手動創建。</li></ul><h2 id="語言"><a href="#語言" class="headerlink" title="語言"></a>語言</h2><p>修改站點配置文件 <code>_config.yml</code></p><p>默認語言是 en</p><p>主題支持三種語言</p><ul><li>default(en)</li><li>zh-CN (簡體中文)</li><li>zh-TW (繁體中文)</li></ul><h2 id="自定義主題色"><a href="#自定義主題色" class="headerlink" title="自定義主題色"></a>自定義主題色</h2><p>可以修改大部分UI顏色</p><p>配置<code>butterfly.yml</code>，比如：</p><blockquote><p>顏色值必須被雙引號包裹，就像<code>&quot;#000&quot;</code>而不是<code>#000</code>。否則將會在構建的時候報錯！</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  main:</span> <span class="string">&quot;#9370DB&quot;</span></span><br><span class="line"><span class="attr">  paginator:</span> <span class="string">&quot;#7A7FF1&quot;</span></span><br><span class="line"><span class="attr">  button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line"><span class="attr">  text_selection:</span> <span class="string">&quot;#69c46d&quot;</span></span><br><span class="line"><span class="attr">  link_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line"><span class="attr">  hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line"><span class="attr">  read-mode-bg_color:</span> <span class="string">&apos;#FAF9DE&apos;</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_1.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_2.png" class="lozad"></p><h2 id="代碼高亮主題"><a href="#代碼高亮主題" class="headerlink" title="代碼高亮主題"></a>代碼高亮主題</h2><p><code>Butterfly</code> 支持了 <a href="https://github.com/equinusocio/material-theme" rel="external nofollow noopener noreferrer" target="_blank">Material Theme</a>全部 5 種代碼高亮樣式：</p><ul><li>default</li><li>darker</li><li>pale night</li><li>light</li><li>ocean</li></ul><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><blockquote><p>default</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" class="lozad"></p><blockquote><p>darker</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" class="lozad"></p><blockquote><p>pale night</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" class="lozad"></p><blockquote><p>light</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" class="lozad"></p><blockquote><p>ocean</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" class="lozad"></p><h2 id="代碼複製"><a href="#代碼複製" class="headerlink" title="代碼複製"></a>代碼複製</h2><p>主題支持代碼複製功能</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" class="lozad"></p><h2 id="代碼換行"><a href="#代碼換行" class="headerlink" title="代碼換行"></a>代碼換行</h2><p>在默認情況下，<code>hexo-highlight</code>在編譯的時候不會實現代碼自動換行。如果你不希望在代碼塊的區域裏有橫向滾動條的話，那麼你可以考慮開啟這個功能。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>然後找到你站點的 Hexo 配置文件<code>_config.yml</code>，將<code>line_number</code>改成<code>false</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br></pre></td></tr></table></figure><blockquote><p>設置<code>code_word_wrap</code>之前:</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" class="lozad"></p><blockquote><p>設置<code>code_word_wrap</code>之後:</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" class="lozad"></p><h2 id="社交圖標"><a href="#社交圖標" class="headerlink" title="社交圖標"></a>社交圖標</h2><p>Butterfly支持 <a href="https://fontawesome.com/v4.7.0/" rel="external nofollow noopener noreferrer" target="_blank">font-awesome v4</a>和 <a href="https://fontawesome.com/icons?from=io" rel="external nofollow noopener noreferrer" target="_blank">font-awesome v5</a>. 如需開啟<a href="https://fontawesome.com/icons?from=io" rel="external nofollow noopener noreferrer" target="_blank">font-awesome v5</a>,需要在<code>Butterfly.yml</code>上開啟</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cdn:</span></span><br><span class="line"><span class="attr">  css:</span></span><br><span class="line"><span class="attr">    fontawesome:</span> <span class="attr">https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css</span></span><br><span class="line"><span class="attr">    fontawesomeV5:</span> <span class="attr">https://use.fontawesome.com/releases/v5.8.1/css/all.css</span></span><br></pre></td></tr></table></figure><p>無論V4還是V5,書寫格式都是一樣的<code>圖標名：url</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="string">fa</span> <span class="attr">fa-github:</span> <span class="attr">https://github.com/jerryc127</span></span><br><span class="line">  <span class="string">fa</span> <span class="attr">fa-rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><p>圖標名可在這尋找</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png" class="lozad"></p><p>PC:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-social-icon-pc.png" class="lozad"></p><p>Mobile:</p><p><img alt="1560603353743" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-socila-icon-mobile.png" class="lozad"></p><h2 id="導航菜單"><a href="#導航菜單" class="headerlink" title="導航菜單"></a>導航菜單</h2><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首頁:</span> <span class="string">/||fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">時間軸:</span> <span class="string">/archives/||fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">標籤:</span> <span class="string">/tags/||fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分類:</span> <span class="string">/categories/||fa</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">留言板:</span> <span class="string">/messageboard/||fa</span> <span class="string">fa-coffee</span></span><br><span class="line">  <span class="string">友鏈:</span> <span class="string">/link/||fa</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">關於:</span> <span class="string">/about/||fa</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><blockquote><p>必須是 <code>/xxx/</code>，後面<code>||</code>分開，然後寫圖標名。菜單名稱可自己修改。</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-menu.png" class="lozad"></p><h2 id="主頁文章節選-自動節選和文章頁description"><a href="#主頁文章節選-自動節選和文章頁description" class="headerlink" title="主頁文章節選(自動節選和文章頁description)"></a>主頁文章節選(自動節選和文章頁description)</h2><p>因為主題UI的關係，<code>主頁文章節選</code>只支持<code>自動節選</code>和<code>文章頁description</code>。優先選擇<code>自動節選</code>。</p><p>在<code>butterfly.yml</code>裏可以開啟<code>auto_excerpt</code>的選項，你的文章將會在自動截取部分顯示在主頁。（默認顯示150個字）。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><p>如果沒有開啟<code>自動節選</code>，則會顯示文章頁front-matter裏面設置的<code>description</code>。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" class="lozad"></p><blockquote><p>注意：如果開啟了自動節選功能，代碼塊的顯示將有可能不正常。</p></blockquote><h2 id="頂部圖"><a href="#頂部圖" class="headerlink" title="頂部圖"></a>頂部圖</h2><p><code>頂部圖</code>有2種配置：具體url 和（留空，true和false，三個效果一樣）</p><h3 id="page頁"><a href="#page頁" class="headerlink" title="page頁"></a>page頁</h3><h4 id="當具體url時"><a href="#當具體url時" class="headerlink" title="當具體url時"></a>當具體url時</h4><p>主頁的頂部圖可以在<code>Butterfly.yml</code>設置<code>top_img</code></p><p>archives頁的頂部圖可以在<code>Butterfly.yml</code>設置<code>archive_img</code></p><p>其他<code>page</code>頁的頂部圖可以在各自的md頁面設置<code>front-matter</code>中的<code>top_img</code></p><blockquote><p>除<code>主頁</code>外，其他頁面如果沒有設置各自的<code>top_img</code>，則會顯示與主頁同樣的<code>top_img</code>圖片</p></blockquote><h4 id="當頂部圖留空，true和false"><a href="#當頂部圖留空，true和false" class="headerlink" title="當頂部圖留空，true和false"></a>當頂部圖留空，true和false</h4><p>主頁會顯示純顏色的頂部圖</p><p>其他page的頂部圖沒有設置時，也會顯示純顏色的頂部圖</p><h3 id="post頁"><a href="#post頁" class="headerlink" title="post頁"></a>post頁</h3><p><code>post</code>頁的頂部圖會優先顯示各自<code>front-matter</code>中的<code>top_img</code>,如果沒有設置，則會縮略圖（即各自<code>front-matter</code>中的<code>cover</code>)，如果沒有則會顯示默認的post頂部圖,可在<code>Butterfly.yml</code>設置<code>post_img</code></p><h2 id="文章相關項"><a href="#文章相關項" class="headerlink" title="文章相關項"></a>文章相關項</h2><p>這個選項是用來顯示文章的相關信息的。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line"><span class="attr">  date_type:</span> <span class="string">both</span> <span class="comment">#or created or updated 文章日期是創建日或者更新日或都顯示</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="literal">true</span> <span class="comment"># or false 是否顯示分類</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="literal">true</span> <span class="comment"># or false 是否顯示標籤</span></span><br></pre></td></tr></table></figure><p>在文章頂部的資料，</p><p><code>date_type</code>: 可設置文章日期顯示創建日期(<code>created</code>)或者更新日期(<code>updated</code>)或者兩種都顯示(<code>both</code>)</p><p><code>categories</code> 是否顯示分類</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-info.png" class="lozad"></p><p><code>tags</code>是否顯示標籤</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-tag.png" class="lozad"></p><h2 id="文章版權"><a href="#文章版權" class="headerlink" title="文章版權"></a>文章版權</h2><p>為你的博客文章展示文章版權和許可協議。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line"><span class="attr">  license_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-copyright.png" class="lozad"></p><h2 id="文章打賞"><a href="#文章打賞" class="headerlink" title="文章打賞"></a>文章打賞</h2><p>在你每篇文章的結尾，可以添加打賞按鈕。相關二維碼可以自行配置</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  QR_code:</span></span><br><span class="line"><span class="attr">    - itemlist:</span></span><br><span class="line"><span class="attr">        img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line"><span class="attr">        text:</span> <span class="string">微信</span></span><br><span class="line"><span class="attr">    - itemlist:</span></span><br><span class="line"><span class="attr">        img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line"><span class="attr">        text:</span> <span class="string">支付寶</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png" class="lozad"></p><h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><p>文章的markdown文檔上,在<code>Front-matter</code>添加<code>cover</code>,并填上要顯示的圖片地址。<br>如果不配置<code>cover</code>,可以設置顯示默認的cover.</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span> <span class="attr">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br></pre></td></tr></table></figure><p>當配置多張圖片時,會隨機選擇一張作爲cover.此時寫法應爲</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line"><span class="attr">  - https:</span><span class="string">//cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line"><span class="attr">  - https:</span><span class="string">//cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line"><span class="attr">  - https:</span><span class="string">//cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover-show.png" class="lozad"></p><h2 id="頭像"><a href="#頭像" class="headerlink" title="頭像"></a>頭像</h2><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="attr">https://xxxx/avatar.png</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-avatar.png" class="lozad"></p><h2 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h2><p>在文章頁，會有一個目錄，用於顯示TOC</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  number:</span> <span class="literal">true</span>   <span class="comment">#顯示章節數字</span></span><br></pre></td></tr></table></figure><h3 id="為特定的文章配置是否顯示TOC和特定的目錄章節數字"><a href="#為特定的文章配置是否顯示TOC和特定的目錄章節數字" class="headerlink" title="為特定的文章配置是否顯示TOC和特定的目錄章節數字"></a>為特定的文章配置是否顯示TOC和特定的目錄章節數字</h3><p>在你的文章<code>md</code>文件的頭部，加入<code>toc_number</code>和<code>toc</code>項，並配置<code>true</code>或者<code>false</code>即可。</p><p><code>toc</code>是否顯示文章TOC</p><p><code>toc_number</code> 是否顯示章節數</p><p>配置之後你的特定的文章將會擁有它自己的目錄數字的顯示與否，而不會受全局的配置影響。</p><blockquote><p><code>enable: true</code></p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-true.png" class="lozad"></p><blockquote><p><code>number: false</code></p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-number-false.png" class="lozad"></p><h3 id="設置是否自動打開TOC"><a href="#設置是否自動打開TOC" class="headerlink" title="設置是否自動打開TOC"></a>設置是否自動打開TOC</h3><p>可選擇進入文章頁面時，是否自動打開sidebar顯示TOC</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_open_sidebar:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="博客年份"><a href="#博客年份" class="headerlink" title="博客年份"></a>博客年份</h2><p><code>since</code>是一個來展示你站點起始時間的選項。它位於頁面的最底部。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png" class="lozad"></p><h2 id="頁腳自定義文本"><a href="#頁腳自定義文本" class="headerlink" title="頁腳自定義文本"></a>頁腳自定義文本</h2><p><code>footer_custom_text</code>是一個給你用來在頁腳自定義文本的選項。通常你可以在這裏寫聲明文本等。支持 HTML。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer_custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href=&quot;https://jerryc.me/&quot;&gt;blog&lt;/a&gt;!</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-text.png" class="lozad"></p><h2 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h2><p>對於部分有備案的域名，可以在ICP配置顯示。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ICP:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  url:</span> <span class="attr">http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action</span></span><br><span class="line"><span class="attr">  text:</span> <span class="string">粵ICP備xxxx</span></span><br></pre></td></tr></table></figure><h2 id="夜間模式"><a href="#夜間模式" class="headerlink" title="夜間模式"></a>夜間模式</h2><p>右下角會有夜間模式按鈕</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nightshift:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-dark-mode.png" class="lozad"></p><h2 id="閲讀模式"><a href="#閲讀模式" class="headerlink" title="閲讀模式"></a>閲讀模式</h2><p>閲讀模式下會去掉除文章外的內容，避免幹擾閲讀。</p><p>只會出現在文章頁面，右下角會有閲讀模式按鈕。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmode:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" class="lozad"></p><h2 id="簡繁轉換"><a href="#簡繁轉換" class="headerlink" title="簡繁轉換"></a>簡繁轉換</h2><p>簡體繁體互換</p><p>右下角會有簡繁轉換按鈕。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 默認按鈕顯示文字(網站是簡體，應設置為&apos;default: 繁&apos;)</span></span><br><span class="line"><span class="attr">  default:</span> <span class="string">簡</span></span><br><span class="line">  <span class="comment">#網站默認語言，1: 繁體中文, 2: 簡體中文</span></span><br><span class="line"><span class="attr">  defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#延遲時間,若不在前, 要設定延遲翻譯時間, 如100表示100ms,默認為0</span></span><br><span class="line"><span class="attr">  translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#博客網址</span></span><br><span class="line"><span class="attr">  cookieDomain:</span> <span class="string">&quot;https://jerryc.me/&quot;</span></span><br><span class="line">  <span class="comment">#當文字是簡體時，按鈕顯示的文字</span></span><br><span class="line"><span class="attr">  msgToTraditionalChinese:</span> <span class="string">&quot;繁&quot;</span></span><br><span class="line">  <span class="comment">#當文字是繁體時，按鈕顯示的文字</span></span><br><span class="line"><span class="attr">  msgToSimplifiedChinese:</span> <span class="string">&quot;簡&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>簡體</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" class="lozad"></p><blockquote><p>繁體</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" class="lozad"></p><h2 id="運行時間"><a href="#運行時間" class="headerlink" title="運行時間"></a>運行時間</h2><p>網頁已運行時間</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  start_date:</span> <span class="number">6</span><span class="string">/7/2018</span> <span class="number">00</span><span class="string">:00:00</span>  </span><br><span class="line">  <span class="comment">##網頁開通時間</span></span><br><span class="line">  <span class="comment">#格式: 月/日/年 時間</span></span><br><span class="line">  <span class="comment">#也可以寫成 年/月/日 時間</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" class="lozad"></p><h2 id="側邊排版"><a href="#側邊排版" class="headerlink" title="側邊排版"></a>側邊排版</h2><p>可自行決定哪個項目需要顯示</p><blockquote><p>至少需要顯示一個</p></blockquote><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line"><span class="attr">  card_author:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_announcement:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_recent_post:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_categories:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_tags:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_archives:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  card_webinfo:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="相關文章"><a href="#相關文章" class="headerlink" title="相關文章"></a>相關文章</h2><p>相關文章推薦的原理是根據文章tags的比重來推薦</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">6</span> <span class="comment"># 顯示推薦文章數目</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-relatedpost.png" class="lozad"></p><h2 id="自定義字體"><a href="#自定義字體" class="headerlink" title="自定義字體"></a>自定義字體</h2><p>可自行設置字體的<code>font-family</code></p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  font-family:</span> <span class="string">Lato,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number,</span> <span class="bullet">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">Segoe</span> <span class="string">UI,</span> <span class="string">Roboto,</span> <span class="string">PingFang</span> <span class="string">SC,</span> <span class="string">Hiragino</span> <span class="string">Sans</span> <span class="string">GB,&quot;Microsoft</span> <span class="string">JhengHei&quot;,</span> <span class="string">&quot;MicrMicrosoft YaHei&quot;</span><span class="string">,</span> <span class="string">Helvetica</span> <span class="string">Neue,</span> <span class="string">Helvetica,</span> <span class="string">Arial,</span> <span class="string">sans-serif</span></span><br><span class="line"><span class="attr">  code-font:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,&quot;Microsoft</span> <span class="string">YaHei&quot;,</span> <span class="string">monospace,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number</span></span><br></pre></td></tr></table></figure><h2 id="網站副標題"><a href="#網站副標題" class="headerlink" title="網站副標題"></a>網站副標題</h2><p>可設置主頁中顯示的網站副標題或者喜歡的座右銘。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subtitle:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  sub1:</span> <span class="string">今日事,今日畢</span></span><br><span class="line"><span class="attr">  sub2:</span> <span class="string">Never</span> <span class="string">put</span> <span class="string">off</span> <span class="string">till</span> <span class="string">tomorrow</span> <span class="string">what</span> <span class="string">you</span> <span class="string">can</span> <span class="string">do</span> <span class="string">today</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-subtitle.gif" class="lozad"></p><h1 id="主題頁面"><a href="#主題頁面" class="headerlink" title="主題頁面"></a>主題頁面</h1><h2 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">type: （tags,link,categories這三個頁面需要配置）</span><br><span class="line">comments: (是否需要顯示評論，默認true)</span><br><span class="line">description:</span><br><span class="line">top_img: (設置頂部圖)</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: （除非特定需要，可以不寫）</span><br><span class="line">comments  是否顯示評論（除非設置false,可以不寫）</span><br><span class="line">cover:  縮略圖</span><br><span class="line">toc:  是否顯示toc （除非特定文章設置，可以不寫）</span><br><span class="line">toc_number: 是否顯示toc數字 （除非特定文章設置，可以不寫）</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="標籤頁"><a href="#標籤頁" class="headerlink" title="標籤頁"></a>標籤頁</h2><ol><li><p>前往你的 Hexo 博客的根目錄</p></li><li><p>輸入<code>hexo new page tags</code></p></li><li><p>你會找到<code>source/tags/index.md</code>這個文件</p></li><li><p>修改這個文件：</p></li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 標籤</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="分類頁"><a href="#分類頁" class="headerlink" title="分類頁"></a>分類頁</h2><ol><li><p>前往你的 Hexo 博客的根目錄</p></li><li><p>輸入<code>hexo new page categories</code></p></li><li><p>你會找到<code>source/categories/index.md</code>這個文件</p></li><li><p>修改這個文件：</p></li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分類</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="相冊"><a href="#相冊" class="headerlink" title="相冊"></a>相冊</h2><p>為你的博客創建一個相冊頁！</p><h3 id="創建相冊頁"><a href="#創建相冊頁" class="headerlink" title="創建相冊頁"></a>創建相冊頁</h3><ol><li><p>前往你的 Hexo 博客的根目錄</p></li><li><p>輸入<code>hexo new page gallery</code></p></li><li><p>你會找到<code>source/gallery/index.md</code>這個文件</p></li><li><p>修改這個文件：</p></li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Gallery</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;gallery&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>Butterfly 提供了一個叫做<code>gallery</code>的標籤，讓你能夠在 markdown 文件裏生成<code>gallery-item</code>。</p><p>修改你剛剛創建的<code>source/gallery/index.md</code>，並加上<code>gallery</code> 標籤。</p><p><code>gallery img-url [title]</code></p><p>例子:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Gallery</span><br><span class="line">date: 2018-01-05 00:00:00</span><br><span class="line">type: &quot;gallery&quot;</span><br><span class="line">---</span><br><span class="line">{% gallery https://ws1.sinaimg.cn/large/8700af19gy1fp5i6o2vghj20ea0eajse melody %}</span><br><span class="line">{% gallery https://user-images.githubusercontent.com/12621342/37325500-23e8f77c-26c9-11e8-8e24-eb4346f1fff5.png background %}</span><br><span class="line">{% gallery https://ws1.sinaimg.cn/large/8700af19gy1fp5i64zaxqj20b40b474b demo1 %}</span><br><span class="line">{% gallery https://ws1.sinaimg.cn/large/8700af19ly1fn2h26q32uj21120kudqq demo2 %}</span><br><span class="line">{% gallery https://ws1.sinaimg.cn/large/8700af19ly1fnhdaimi40j218g0p0dic demo3 %}</span><br><span class="line">{% gallery https://ws1.sinaimg.cn/large/8700af19ly1fn2i5kjh2pj21120kuncd %}</span><br></pre></td></tr></table></figure><blockquote><p>gallery-item 也擁有 fancybox 的效果!</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gallery.png" class="lozad"></p><h2 id="友情鏈接"><a href="#友情鏈接" class="headerlink" title="友情鏈接"></a>友情鏈接</h2><p>為你的博客創建一個友情鏈接！</p><h3 id="創建友情鏈接頁面"><a href="#創建友情鏈接頁面" class="headerlink" title="創建友情鏈接頁面"></a>創建友情鏈接頁面</h3><ol><li>前往你的 Hexo 博客的根目錄</li><li>輸入 <code>hexo new page link</code></li><li>你會找到<code>source/link/index.md</code>這個文件</li><li>修改這個文件：</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情鏈接</span><br><span class="line">date: 2018-06-07 22:17:49</span><br><span class="line">type: &quot;link&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="友情鏈接添加"><a href="#友情鏈接添加" class="headerlink" title="友情鏈接添加"></a>友情鏈接添加</h3><p>在Hexo博客目錄中的<code>source/_data</code>，創建一個文件<code>link.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">class:</span></span><br><span class="line"><span class="attr">  class_name:</span> <span class="string">友情鏈接</span></span><br><span class="line"><span class="attr">  link_list:</span></span><br><span class="line">    <span class="number">1</span><span class="string">:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">xxx</span></span><br><span class="line"><span class="attr">      link:</span> <span class="attr">https://blog.xxx.com</span></span><br><span class="line"><span class="attr">      avatar:</span> <span class="attr">https://cdn.xxxxx.top/avatar.png</span></span><br><span class="line"><span class="attr">      descr:</span> <span class="string">xxxxxxx</span></span><br><span class="line">    <span class="number">2</span><span class="string">:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">xxxxxx</span></span><br><span class="line"><span class="attr">      link:</span> <span class="attr">https://www.xxxxxxcn/</span></span><br><span class="line"><span class="attr">      avatar:</span> <span class="attr">https://xxxxx/avatar.png</span></span><br><span class="line"><span class="attr">      descr:</span> <span class="string">xxxxxxx</span>  </span><br><span class="line"></span><br><span class="line"><span class="attr"> class2:</span></span><br><span class="line"><span class="attr">   class_name:</span> <span class="string">鏈接無效</span></span><br><span class="line"><span class="attr">   link_list:</span></span><br><span class="line">     <span class="number">1</span><span class="string">:</span></span><br><span class="line"><span class="attr">       name:</span> <span class="string">夢xxx</span></span><br><span class="line"><span class="attr">       link:</span> <span class="attr">https://blog.xxx.com</span></span><br><span class="line"><span class="attr">       avatar:</span> <span class="attr">https://xxxx/avatar.png</span></span><br><span class="line"><span class="attr">       descr:</span> <span class="string">xxxx</span></span><br><span class="line">     <span class="number">2</span><span class="string">:</span></span><br><span class="line"><span class="attr">       name:</span> <span class="string">xx</span></span><br><span class="line"><span class="attr">       link:</span> <span class="attr">https://www.axxxx.cn/</span></span><br><span class="line"><span class="attr">       avatar:</span> <span class="attr">https://x</span></span><br><span class="line"><span class="attr">       descr:</span> <span class="string">xx</span></span><br></pre></td></tr></table></figure><h3 id="友情鏈接界面設置"><a href="#友情鏈接界面設置" class="headerlink" title="友情鏈接界面設置"></a>友情鏈接界面設置</h3><p>需要添加友情鏈接，可以在<code>Butterfly.yml</code>配置<br>可在友情鏈接上寫上自己的個人資料，方便其他人添加。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Flink:</span></span><br><span class="line"><span class="attr">  headline:</span> <span class="string">友情鏈接</span></span><br><span class="line"><span class="attr">  info_headline:</span> <span class="string">我的Blog資料</span></span><br><span class="line"><span class="attr">  name:</span> <span class="string">Blog</span> <span class="string">名字：</span> <span class="string">JerryC</span></span><br><span class="line"><span class="attr">  address:</span> <span class="string">Blog</span> <span class="string">地址：</span> <span class="attr">https://jerryc.me/</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">Blog</span> <span class="string">頭像：</span> <span class="attr">https://jerryc.me/img/avatar.png</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">Blog</span> <span class="string">簡介：</span> <span class="string">今日事,今日畢</span></span><br><span class="line"><span class="attr">  comment:</span> <span class="string">如果需要交換友鏈,請留言</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-flink-headline.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-flink.png" class="lozad"></p><h1 id="第三方支持"><a href="#第三方支持" class="headerlink" title="第三方支持"></a>第三方支持</h1><h2 id="評論"><a href="#評論" class="headerlink" title="評論"></a>評論</h2><blockquote><p>只能選擇一個評論服務商</p></blockquote><h3 id="Disqus"><a href="#Disqus" class="headerlink" title="Disqus"></a>Disqus</h3><p>註冊 <a href="https://disqus.com/" rel="external nofollow noopener noreferrer" target="_blank">disqus</a>，配置你自己的 disqus，然後在<code>Butterfly</code>裏開啟它。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line"><span class="attr">  shortname:</span> <span class="string">你的disqus的</span> <span class="string">short-name</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-disqus.png" class="lozad"></p><h3 id="Laibili（來必力）"><a href="#Laibili（來必力）" class="headerlink" title="Laibili（來必力）"></a>Laibili（來必力）</h3><p>註冊<a href="http://www.laibili.com.cn/" rel="external nofollow noopener noreferrer" target="_blank">來必力</a>，配置你自己的來必力設置，然後在<code>Butterfly</code>裏開啟它。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">laibili:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line"><span class="attr">  uid:</span> <span class="string">你的laibili的uid</span></span><br></pre></td></tr></table></figure><p>laibili 的 uid 你能在這裏找到:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili.jpg" class="lozad"></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili_2.png" class="lozad"></p><h3 id="Gitment"><a href="#Gitment" class="headerlink" title="Gitment"></a>Gitment</h3><p>遵循 <a href="https://github.com/imsun/gitment" rel="external nofollow noopener noreferrer" target="_blank">gitment</a>的指示去獲取你的 github Oauth 應用的 client id 和 secret 值。</p><p>然後配置<code>butterfly.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitment:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line"><span class="attr">  owner:</span> <span class="string">你的github用户名</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">你的github倉庫</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="string">你的client</span> <span class="string">id</span></span><br><span class="line"><span class="attr">  client_secret:</span> <span class="string">你的client</span> <span class="string">secret</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gitment.png" class="lozad"></p><h3 id="Gitalk"><a href="#Gitalk" class="headerlink" title="Gitalk"></a>Gitalk</h3><p>遵循 <a href="https://github.com/gitalk/gitalk" rel="external nofollow noopener noreferrer" target="_blank">gitalk</a>的指示去獲取你的 github Oauth 應用的 client id 和 secret 值。以及查看它的相關配置説明。</p><p>然後配置<code>butterfly.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="string">你的client</span> <span class="string">id</span> </span><br><span class="line"><span class="attr">  client_secret:</span> <span class="string">你的client</span> <span class="string">secret</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">你的github倉庫</span></span><br><span class="line"><span class="attr">  owner:</span> <span class="string">你的github用户名</span></span><br><span class="line"><span class="attr">  admin:</span> <span class="string">該倉庫的擁有者或協作者</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gitalk.png" class="lozad"></p><h3 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h3><p>遵循 <a href="https://github.com/xCss/Valine" rel="external nofollow noopener noreferrer" target="_blank">Valine</a>的指示去配置你的 LeanCloud 應用。以及查看相應的配置説明。</p><p>然後配置<code>butterfly.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span> <span class="comment"># if you want use valine,please set this value is true</span></span><br><span class="line"><span class="attr">  appId:</span>   <span class="comment"># leancloud application app id</span></span><br><span class="line"><span class="attr">  appKey:</span>   <span class="comment"># leancloud application app key</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">false</span> <span class="comment"># valine mail notify (true/false) https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">false</span> <span class="comment"># valine verify code (true/false)</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line"><span class="attr">  lang:</span> <span class="string">en</span> <span class="comment"># i18n: zh-cn/en/tw</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">Please</span> <span class="string">leave</span> <span class="string">your</span> <span class="string">footprints</span> <span class="comment"># valine comment input placeholder(like: Please leave your footprints )</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment">#valine comment header inf</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-valine.png" class="lozad"></p><h2 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h2><blockquote><p>只能選擇一個分享服務商</p></blockquote><h3 id="AddThis"><a href="#AddThis" class="headerlink" title="AddThis"></a>AddThis</h3><blockquote><p>找到你的 pub-id</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addthis.jpg" class="lozad"></p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">addThis:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line"><span class="attr">  pubid:</span> <span class="string">你的pub-id</span></span><br></pre></td></tr></table></figure><h3 id="Sharejs"><a href="#Sharejs" class="headerlink" title="Sharejs"></a>Sharejs</h3><p>如果你不知道 <a href="https://github.com/overtrue/share.js/" rel="external nofollow noopener noreferrer" target="_blank">sharejs</a>，看看它的説明。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span>  <span class="comment">#想要顯示的內容</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-sharejs.png" class="lozad"></p><h3 id="Addtoany"><a href="#Addtoany" class="headerlink" title="Addtoany"></a>Addtoany</h3><p>可以到<a href="https://www.addtoany.com/" rel="external nofollow noopener noreferrer" target="_blank">addtoany</a>查看使用説明</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">addtoany:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  item:</span>   <span class="comment"># 顯示的內容</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">facebook</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">twitter</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">wechat</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">sina_weibo</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">facebook_messenger</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">email</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">copy_link</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png" class="lozad"></p><h2 id="搜索系統"><a href="#搜索系統" class="headerlink" title="搜索系統"></a>搜索系統</h2><h3 id="Algolia"><a href="#Algolia" class="headerlink" title="Algolia"></a>Algolia</h3><ol><li><p>你需要安裝 <a href="https://github.com/oncletom/hexo-algolia" rel="external nofollow noopener noreferrer" target="_blank">hexo-algolia</a>或 <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" rel="external nofollow noopener noreferrer" target="_blank">hexo-algoliasearch</a>. 根據它們的説明文檔去做相應的配置。</p></li><li><p>配置<code>butterfly.yml</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  hits:</span></span><br><span class="line"><span class="attr">    per_page:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  labels:</span></span><br><span class="line"><span class="attr">    input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line"><span class="attr">    hits_empty:</span> <span class="string">&quot;We didn&apos;t find any results for the search: ${query}&quot;</span> <span class="comment"># if there are no result</span></span><br><span class="line"><span class="attr">    hits_stats:</span> <span class="string">&quot;${hits} results found in ${time} ms&quot;</span></span><br></pre></td></tr></table></figure><h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><ol><li><p>你需要安裝 <a href="https://github.com/PaicHyperionDev/hexo-generator-search" rel="external nofollow noopener noreferrer" target="_blank">hexo-generator-search</a>. 根據它的文檔去做相應配置。<strong>注意格式只支持 xml</strong>。</p></li><li><p>配置<code>butterfly.yml</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  labels:</span></span><br><span class="line"><span class="attr">    input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line"><span class="attr">    hits_empty:</span> <span class="string">&quot;We didn&apos;t find any results for the search: ${query}&quot;</span> <span class="comment"># if there are no result</span></span><br></pre></td></tr></table></figure><h2 id="網站驗證"><a href="#網站驗證" class="headerlink" title="網站驗證"></a>網站驗證</h2><p>如果需要搜索引擎收錄網站，可能需要登錄對應搜索引擎的管理平台進行提交。<br>各自的驗證碼可從各自管理平台拿到</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Google Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.google.com/webmasters/</span></span><br><span class="line"><span class="attr">google_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bing Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.bing.com/webmaster/</span></span><br><span class="line"><span class="attr">bing_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Yandex Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://webmaster.yandex.ru/</span></span><br><span class="line"><span class="attr">yandex_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://ziyuan.baidu.com/site/</span></span><br><span class="line"><span class="attr">baidu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 360 Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># see http://zhanzhang.so.com/</span></span><br><span class="line"><span class="attr">qihu_site_verification:</span></span><br></pre></td></tr></table></figure><h2 id="分析統計"><a href="#分析統計" class="headerlink" title="分析統計"></a>分析統計</h2><h3 id="百度統計"><a href="#百度統計" class="headerlink" title="百度統計"></a>百度統計</h3><ol><li><p>登錄百度統計的<a href="https://tongji.baidu.com/web/welcome/login" rel="external nofollow noopener noreferrer" target="_blank">官方網站</a></p></li><li><p>找到你百度統計的統計代碼</p></li></ol><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-baidu-tongji.jpg" class="lozad"></p><p>3. 配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">你的代碼</span></span><br></pre></td></tr></table></figure><h3 id="谷歌分析"><a href="#谷歌分析" class="headerlink" title="谷歌分析"></a>谷歌分析</h3><ol><li><p>登錄谷歌分析的<a href="https://www.google.com/analytics/" rel="external nofollow noopener noreferrer" target="_blank">官方網站</a></p></li><li><p>找到你的谷歌分析的跟蹤 ID</p></li></ol><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-google-analytics.jpg" class="lozad"></p><ol start="3"><li>配置<code>butterfly.yml</code></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">你的代碼</span> <span class="comment"># 通常以`UA-`打頭</span></span><br></pre></td></tr></table></figure><h2 id="訪問人數-UV-和-PV"><a href="#訪問人數-UV-和-PV" class="headerlink" title="訪問人數 (UV 和 PV)"></a>訪問人數 (UV 和 PV)</h2><h3 id="busuanzi"><a href="#busuanzi" class="headerlink" title="busuanzi"></a>busuanzi</h3><p>訪問 busuanzi 的<a href="http://busuanzi.ibruce.info/" rel="external nofollow noopener noreferrer" target="_blank">官方網站</a>查看更多的介紹。</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line"><span class="attr">  site_uv:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  site_pv:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" class="lozad"></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png" class="lozad"></p><h2 id="MathJax"><a href="#MathJax" class="headerlink" title="MathJax"></a>MathJax</h2><blockquote><p>建議使用 KaTex 獲得更好的效果，下文有介紹！</p></blockquote><p>配置<code>butterfly.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line"><span class="attr">  cdn:</span> <span class="attr">https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span> <span class="comment"># required</span></span><br></pre></td></tr></table></figure><p>然後你需要修改一下默認的<code>markdown</code>渲染引擎來實現 MathJax 的效果。</p><p>查看: <a href="https://www.npmjs.com/package/hexo-renderer-kramed" rel="external nofollow noopener noreferrer" target="_blank">hexo-renderer-kramed</a></p><p>以下操作在你 hexo 博客的目錄下 (<strong>不是 Butterfly 的目錄!</strong>):</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png" class="lozad"></p><p>效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg" class="lozad"></p><h2 id="KaTeX"><a href="#KaTeX" class="headerlink" title="KaTeX"></a>KaTeX</h2><p>首先禁用<code>MathJax</code>（如果你配置過 MathJax 的話），然後修改你的<code>butterfly.yml</code>以便加載<code>katex.min.css</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  cdn:</span></span><br><span class="line"><span class="attr">    css:</span> <span class="attr">https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css</span></span><br></pre></td></tr></table></figure><p>你不需要添加<code>katex.min.js</code>來渲染數學方程。相應的你需要卸載你之前的 hexo 的 markdown 渲染器以及<code>hexo-math</code>，然後安裝新的<code>hexo-renderer-markdown-it-plus</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 替換 `hexo-renderer-kramed` 或者 `hexo-renderer-marked` 等hexo的markdown渲染器</span></span><br><span class="line"><span class="comment"># 你可以在你的package.json裏找到hexo的markdwon渲染器，並將其卸載</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-marked</span> <span class="bullet">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-kramed</span> <span class="bullet">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸載 `hexo-math`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-math</span> <span class="bullet">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 然後安裝 `hexo-renderer-markdown-it-plus`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">@upupming/hexo-renderer-markdown-it-plus</span> <span class="bullet">--save</span></span><br></pre></td></tr></table></figure><p>注意到 <a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus" rel="external nofollow noopener noreferrer" target="_blank"><code>hexo-renderer-markdown-it-plus</code></a>已經無人持續維護, 所以我們使用 <a href="https://github.com/upupming/hexo-renderer-markdown-it-plus" rel="external nofollow noopener noreferrer" target="_blank"><code>@upupming/hexo-renderer-markdown-it-plus</code></a>。 這份 fork 的代碼使用了 <a href="https://github.com/yzhang-gh/markdown-it-katex" rel="external nofollow noopener noreferrer" target="_blank"><code>@neilsustc/markdown-it-katex</code></a>同時它也是 VSCode 的插件 <a href="https://github.com/yzhang-gh/vscode-markdown" rel="external nofollow noopener noreferrer" target="_blank">Markdown All in One</a>所使用的, 所以我們可以獲得最新的 KaTex 功能例如 <code>\tag{}</code>。</p><p>你還可以通過 <a href="https://github.com/yzhang-gh/markdown-it-katex" rel="external nofollow noopener noreferrer" target="_blank"><code>@neilsustc/markdown-it-katex</code></a>控制 KaTeX 的設置，所有可配置的選項參見 <a href="https://katex.org/docs/options.html。" rel="external nofollow noopener noreferrer" target="_blank">https://katex.org/docs/options.html。</a> 比如你想要禁用掉 KaTeX 在命令行上輸出的宂長的警告信息，你可以在根目錄的 <code>_config.yml</code> 中使用下面的配置將 <code>strict</code> 設置為 false:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown_it_plus:</span></span><br><span class="line"><span class="attr">  plugins:</span></span><br><span class="line"><span class="attr">    - plugin:</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">&apos;@neilsustc/markdown-it-katex&apos;</span></span><br><span class="line"><span class="attr">      enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      options:</span></span><br><span class="line"><span class="attr">        strict:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>當然，你還可以利用這個特性來定義一些自己常用的 <code>macros</code>。</p><p>因為 KaTeX 更快更輕量，因此沒有 MathJax 的功能多（比如右鍵菜單）。為那些使用 MathJax 的用户，我們也為 KaTeX 默認添加了 <a href="https://github.com/upupming/katex-copytex" rel="external nofollow noopener noreferrer" target="_blank"><em>Copy As TeX Code</em></a>的功能。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-katex.gif" class="lozad"></p><h2 id="特效"><a href="#特效" class="headerlink" title="特效"></a>特效</h2><h3 id="打字效果"><a href="#打字效果" class="headerlink" title="打字效果"></a>打字效果</h3><p>打字效果<a href="https://github.com/disjukr/activate-power-mode" rel="external nofollow noopener noreferrer" target="_blank">activate-power-mode</a></p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif" class="lozad"></p><h3 id="靜止彩帶"><a href="#靜止彩帶" class="headerlink" title="靜止彩帶"></a>靜止彩帶</h3><p>好看的彩帶背景，可設置每次刷新更換彩帶，或者每次點擊更換彩帶</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  size:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">  alpha:</span> <span class="number">0.6</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="bullet">-1</span></span><br><span class="line"><span class="attr">  click_to_change:</span> <span class="literal">false</span>  <span class="comment">#設置是否每次點擊都更換彩帶</span></span><br></pre></td></tr></table></figure><p>相關配置可查看<a href="https://github.com/hustcc/ribbon.js" rel="external nofollow noopener noreferrer" target="_blank">canvas_ribbon</a></p><h3 id="動態彩帶"><a href="#動態彩帶" class="headerlink" title="動態彩帶"></a>動態彩帶</h3><p>好看的彩帶背景，會飄動</p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon_piao:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas-ribbon-piao.gif" class="lozad"></p><h3 id="煙花效果"><a href="#煙花效果" class="headerlink" title="煙花效果"></a>煙花效果</h3><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" class="lozad"></p><h2 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h2><p>要為<code>Butterfly</code>配上 PWA 特性, 你需要如下幾個步驟:</p><ol><li><p>打開 hexo 工作目錄</p></li><li><p><code>npm install hexo-offline --save</code> 或者 <code>yarn add hexo-offline</code></p></li><li><p>修改<code>_config.yml</code> 在站點<code>_config.yml</code>中增加以下內容。</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">offline:</span></span><br><span class="line"><span class="attr">  maximumFileSizeToCacheInBytes:</span> <span class="number">10485760</span> <span class="comment"># 緩存的最大文件大小，以字節為單位</span></span><br><span class="line"><span class="attr">  staticFileGlobs:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">public/**/*.{js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2}</span></span><br><span class="line">  <span class="comment"># 靜態文件合集，如果你的站點使用了例如webp格式的文件，請將文件類型添加進去。</span></span><br><span class="line"><span class="attr">  stripPrefix:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">  verbose:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  runtimeCaching:</span></span><br><span class="line">    <span class="comment"># CDNs - should be cacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line"><span class="attr">    - urlPattern:</span> <span class="string">/*</span> <span class="comment"># 如果你需要加載CDN資源，請配置該選項，如果沒有，可以不配置。</span></span><br><span class="line"><span class="attr">      handler:</span> <span class="string">cacheFirst</span></span><br><span class="line"><span class="attr">      options:</span></span><br><span class="line"><span class="attr">        origin:</span> <span class="string">your_websie_url</span> <span class="comment"># 可替換成你的 url</span></span><br></pre></td></tr></table></figure><p>更多內容請查看 <a href="https://github.com/JLHwung/hexo-offline" rel="external nofollow noopener noreferrer" target="_blank">hexo-offline</a>的官方文檔</p><ol start="4"><li>在<code>butterfly.yml</code>中開啟 pwa 選項。</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  manifest:</span> <span class="string">/img/pwa/manifest.json</span></span><br><span class="line"><span class="attr">  theme_color:</span> <span class="string">&quot;#fff&quot;</span></span><br><span class="line"><span class="attr">  apple_touch_icon:</span> <span class="string">/img/pwa/apple-touch-icon.png</span></span><br><span class="line"><span class="attr">  favicon_32_32:</span> <span class="string">/img/pwa/32.png</span></span><br><span class="line"><span class="attr">  favicon_16_16:</span> <span class="string">/img/pwa/16.png</span></span><br><span class="line"><span class="attr">  mask_icon:</span> <span class="string">/img/pwa/safari-pinned-tab.svg</span></span><br></pre></td></tr></table></figure><ol start="5"><li>在創建<code>source/</code>目錄中創建<code>manifest.json</code>文件。</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;name&quot;: &quot;string&quot;, //應用全稱</span><br><span class="line">    &quot;short_name&quot;: &quot;Junzhou&quot;, //應用簡稱</span><br><span class="line">    &quot;theme_color&quot;: &quot;#49b1f5&quot;, //匹配瀏覽器的地址欄顏色</span><br><span class="line">    &quot;background_color&quot;: &quot;#49b1f5&quot;,//加載應用時的背景色</span><br><span class="line">    &quot;display&quot;: &quot;standalone&quot;,//首選顯示模式 其他選項有：fullscreen,minimal-ui,browser</span><br><span class="line">    &quot;scope&quot;: &quot;/&quot;,</span><br><span class="line">    &quot;start_url&quot;: &quot;/&quot;,</span><br><span class="line">    &quot;icons&quot;: [ //該數組指定icons圖標參數，用來時適配不同設備（需為png，至少包含一個192px*192px的圖標）</span><br><span class="line">        {</span><br><span class="line">          &quot;src&quot;: &quot;images/pwaicons/36.png&quot;, //圖標文件的目錄，需在source/目錄下自行創建。</span><br><span class="line">          &quot;sizes&quot;: &quot;36x36&quot;,</span><br><span class="line">          &quot;type&quot;: &quot;image/png&quot;</span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/48.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;48x48&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/72.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;72x72&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/96.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;96x96&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/144.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;144x144&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/192.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;192x192&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">            <span class="attr">&quot;src&quot;</span>: <span class="string">&quot;images/pwaicons/512.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;</span>: <span class="string">&quot;512x512&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;image/png&quot;</span></span><br><span class="line">          }</span><br><span class="line">      ],</span><br><span class="line">      &quot;splash_pages&quot;: null //配置自定義啟動動畫。</span><br><span class="line">  }</span><br></pre></td></tr></table></figure><p>你也可以通過 <a href="https://app-manifest.firebaseapp.com/" rel="external nofollow noopener noreferrer" target="_blank">Web App Manifest</a>快速創建<code>manifest.json</code>。（Web App Manifest 要求至少包含一個 512*512 像素的圖標）</p><ol start="6"><li>可以通過<code>Chrome</code>插件<code>Lighthouse</code>檢查 PWA 配置是否生效以及配置是否正確。</li></ol><ul><li>打開博客頁面</li><li>啟動<code>Lighthouse</code>插件 (<code>Lighthouse</code>插件要求至少包含一個 512*512 像素的圖標)</li></ul><p>關於 PWA（漸進式增強 Web 應用）的更多內容請參閲 <a href="https://developers.google.com/web/tools/lighthouse/audits/address-bar" rel="external nofollow noopener noreferrer" target="_blank">Google Tools for Web Developers</a></p><h2 id="字數統計"><a href="#字數統計" class="headerlink" title="字數統計"></a>字數統計</h2><p>要為<code>Butterfly</code>配上字數統計特性, 你需要如下幾個步驟:</p><ol><li><p>打開 hexo 工作目錄</p></li><li><p><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></p></li><li><p>配置<code>butterfly.yml</code>:</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png" class="lozad"></p><h2 id="文章置頂"><a href="#文章置頂" class="headerlink" title="文章置頂"></a>文章置頂</h2><p>要為你一些文章置頂，你需要如下步驟:</p><ol><li>打開 hexo 工作目錄</li><li><code>npm uninstall hexo-generator-index --save</code> 然後 <code>npm install hexo-generator-index-pin-top --save</code></li><li>你要在文章的<code>front-matter</code>區域裏添加<code>top: True</code>屬性來把這篇文章置頂。</li><li>你可以參考 <a href="https://github.com/netcan/hexo-generator-index-pin-top" rel="external nofollow noopener noreferrer" target="_blank">hexo-generator-index-pin-top</a>這個倉庫來了解更多細節。</li></ol><p>舉個例子:</p><p>你的某篇文章開頭如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: xxxx</span><br><span class="line">tags:</span><br><span class="line">  - xxx</span><br><span class="line">date: 2018-08-08 08:08:08</span><br><span class="line">---</span><br><span class="line">// ....</span><br></pre></td></tr></table></figure><p>現在把<code>top: True</code>加進去：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: xxxx</span><br><span class="line">tags:</span><br><span class="line">  - xxx</span><br><span class="line">date: 2018-08-08 08:08:08</span><br><span class="line">top: True</span><br><span class="line">---</span><br><span class="line">// ....</span><br></pre></td></tr></table></figure><h1 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q &amp; A"></a>Q &amp; A</h1><p>Q. 頁面只顯示 <code>extends includes/layout.pug block content #recent-posts.recent-posts include includes/recent-posts.pug include includes/pagination.pug #aside_content.aside_content include includes/aside.pug</code></p><p>A. 请下载安装：<code>npm install hexo-renderer-jade hexo-renderer-stylus --save</code> or <code>yarn add hexo-renderer-jade hexo-renderer-stylus</code></p><p>Q. 報錯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ERROR C:\Users\Shawn\Desktop\Blog\themes\Butterfly\layout\includes\layout.pug:18</span><br><span class="line">16|</span><br><span class="line">17| - var pageDescription = page.description || page.title || config.description || ‘’</span><br><span class="line"></span><br><span class="line">18| - var pageKeywords = (config.keywords || []).join(‘,’)</span><br><span class="line">19| - if (page.tags &amp;&amp; page.tags.data) pageKeywords = page.tags.data.map(function(tag) {return tag.name;}).join(‘,’)</span><br><span class="line">20| - var pageAuthor = config.email ? config.author + ‘,’ + config.email : config.author</span><br><span class="line">21| - var pageCopyright = config.copyright || config.author</span><br><span class="line"></span><br><span class="line">(config.keywords || []).join is not a function</span><br></pre></td></tr></table></figure></p><p>A: 在Hexo的 <code>_config</code>文檔裏的<code>keywords</code>改成一下形式</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">keywords:</span> <span class="string">[Jerry,JerryC,blog,安卓博客,安卓,程序员,个人博客,安卓開發,安卓博客,程序員,安卓開發,個人博客,Android]</span></span><br></pre></td></tr></table></figure><p>Q: 配置友情鏈接頁面時出現報錯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">ERROR D:\Desktop\orxing-blog\themes\Butterfly\layout\flink.pug:2</span><br><span class="line">    1| .flink</span><br><span class="line">  &gt; 2|   each i in site.data.link</span><br><span class="line">    3|     p.comment-word= i.class_name</span><br><span class="line">    4|     .post-cards</span><br><span class="line">    5|       ul.md-links</span><br><span class="line"></span><br><span class="line">Cannot read property &apos;length&apos; of undefined</span><br><span class="line">TypeError: D:\Desktop\orxing-blog\themes\Butterfly\layout\flink.pug:2</span><br><span class="line">    1| .flink</span><br><span class="line">  &gt; 2|   each i in site.data.link</span><br><span class="line">    3|     p.comment-word= i.class_name</span><br><span class="line">    4|     .post-cards</span><br><span class="line">    5|       ul.md-links</span><br><span class="line"></span><br><span class="line">Cannot read property &apos;length&apos; of undefined</span><br><span class="line">    at eval (eval at wrap (D:\Desktop\orxing-blog\node_modules\pug-runtime\wrap.js:6:10), &lt;anonymous&gt;:1890:32)</span><br><span class="line">    at eval (eval at wrap (D:\Desktop\orxing-blog\node_modules\pug-runtime\wrap.js:6:10), &lt;anonymous&gt;:2017:4)</span><br><span class="line">    at template (eval at wrap (D:\Desktop\orxing-blog\node_modules\pug-runtime\wrap.js:6:10), &lt;anonymous&gt;:10152:72)</span><br><span class="line">    at Theme._View.View._compiled (D:\Desktop\orxing-blog\node_modules\hexo\lib\theme\view.js:123:48)</span><br><span class="line">    at Theme._View.View.View.render (D:\Desktop\orxing-blog\node_modules\hexo\lib\theme\view.js:29:15)</span><br><span class="line">    at D:\Desktop\orxing-blog\node_modules\hexo\lib\hexo\index.js:349:21</span><br><span class="line">    at tryCatcher (D:\Desktop\orxing-blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at D:\Desktop\orxing-blog\node_modules\bluebird\js\release\method.js:15:34</span><br><span class="line">    at RouteStream._read (D:\Desktop\orxing-blog\node_modules\hexo\lib\hexo\router.js:123:3)</span><br><span class="line">    at RouteStream.Readable.read (_stream_readable.js:457:10)</span><br><span class="line">    at resume_ (_stream_readable.js:936:12)</span><br><span class="line">    at processTicksAndRejections (internal/process/task_queues.js:84:9)</span><br></pre></td></tr></table></figure><p>A: 請檢查 <code>link.yml</code>文檔内代碼的空格</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 主題 </tag>
            
            <tag> 教程 </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>設置Windows電腦自動關機</title>
      <link href="/posts/19f9ade4/"/>
      <url>/posts/19f9ade4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>為了減少長時間沉迷電腦而忘記時間，設置Windows電腦自動關機是必要的事。<br>在我的電腦裏，每到晚上10點都會自動關機。當然不會立刻關機，而是設置了1分鐘的預留時間給自己保存一些文檔資料。<br>Windows內建的Shutdown指令讓人很方便的對這些進行操作。<br>你有沒有試過在使用電腦處理一些事時，因為臨時需要外出，而又不能立刻關掉電腦，這時就可以使用Shutdown設置xx時間後自動關閉電腦。</p><h2 id="shutdown的一些參數"><a href="#shutdown的一些參數" class="headerlink" title="shutdown的一些參數"></a>shutdown的一些參數</h2><h3 id="1-寫法"><a href="#1-寫法" class="headerlink" title="1. 寫法"></a>1. 寫法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown [/i | /l | /s | /sg | /r | /g | /a | /p | /h | /e | /o] [/hybrid] [/soft] [/fw] [/f][/m \\computer][/t xxx][/d [p|u:]xx:yy [/c &quot;comment&quot;]]</span><br></pre></td></tr></table></figure><p>也可以寫成</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown [-i | -l | -s | -sg | -r | -g | -a | -p | -h | -e | -o] [-hybrid] [-soft] [-fw] [-f] [-m \\computer][-t xxx][-d [p|u:]xx:yy [-c &quot;comment&quot;]]</span><br></pre></td></tr></table></figure><h3 id="2-參數"><a href="#2-參數" class="headerlink" title="2. 參數"></a>2. 參數</h3><table><thead><tr><th>參數</th><th>描述</th></tr></thead><tbody><tr><td>No args</td><td>顯示説明。與輸入 /? 意義相同。</td></tr><tr><td>/?</td><td>顯示説明。與不輸入任何選項意義相同。</td></tr><tr><td>/i</td><td>顯示圖形化使用者介面 (GUI)。<br>這必須是第一個選項。</td></tr><tr><td>/l</td><td>登出。不能和 /m 或 /d 選項一起使用。</td></tr><tr><td>/s</td><td>將電腦關機。</td></tr><tr><td>/sg</td><td>將電腦關機。如有啟用自動重新啟動登入，<br>會在系統重新開機後自動登入並鎖定上一個互動使用者。<br>登入後，會重新啟動所有已註冊應用程式。</td></tr><tr><td>/r</td><td>將電腦完全關機並重新開機。</td></tr><tr><td>/g</td><td>將電腦完全關機並重新啟動。如有啟用自動重新啟動登入，<br>會在系統重新開機後自動登入並鎖定上一個互動使用者。<br>登入後，會重新啟動所有已註冊應用程式。</td></tr><tr><td>/a</td><td>中止系統關機。<br>只有在逾時期間可以使用這個選項。<br>與 /fw 結合以清除任何擱置中的開機到韌體作業。</td></tr><tr><td>/p</td><td>沒有逾時或警告就關閉本機電腦<br>能和 /d 與 /f 選項一起使用。</td></tr><tr><td>/h</td><td>讓本機電腦休眠。<br>能和 /f 選項一起使用。</td></tr><tr><td>/hybrid</td><td>執行電腦關機作業，並準備電腦以用於快速啟動。<br>必須搭配 /s 選項使用。</td></tr><tr><td>/fw</td><td>與關機選項結合，讓下一次開機能進入<br>韌體使用者介面。</td></tr><tr><td>/e</td><td>記錄電腦意外關機的理由。</td></tr><tr><td>/o</td><td>移至 [進階開機選項] 功能表並重新啟動電腦。<br> 必須搭配 /r 選項使用。</td></tr><tr><td>/m \computer</td><td>指定目標電腦。</td></tr><tr><td>/t xxx</td><td>將關機前的逾時期間設定為 xxx 秒。<br>有效的範圍是 0-315360000 (10 年)，預設值為 30。<br>若逾時期間大於 0，則會隱含 /f參數。</td></tr><tr><td>/c “comment”</td><td>為重新啟動或關機理由加上註解。<br>最多僅允許 512 個字元。</td></tr><tr><td>/f</td><td>強制關閉執行中的應用程式，而不事先警告使用者。<br>為 /t 參數指定大於 0 的值時，<br> 會隱含 /f 參數。</td></tr><tr><td>/d [p|u:]xx:yy</td><td>提供重新啟動或關機的理由。<br> p 代表重新啟動或關機是已計劃的。<br> u 代表理由是由使用者所定義。<br> 若未指定 p 或 u，則重新啟動或關機<br> 是非計劃性。<br> xx 是主要的理由編號 (小於 256 的正整數)。<br> yy 是次要的理由編號 (小於 65536 的正整數)。</td></tr></tbody></table><p><code>shutdown /s /t 10</code>  指定10s後自動關機<br><code>shutdown /l /t 10</code>  指定10s後自動登出賬號<br><code>shutdown /i</code><br><img alt="shutdown -i" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/shutdown_i.png" class="lozad"></p><h2 id="設置自動關機的方法"><a href="#設置自動關機的方法" class="headerlink" title="設置自動關機的方法"></a>設置自動關機的方法</h2><h3 id="1-通過工作排程器"><a href="#1-通過工作排程器" class="headerlink" title="1. 通過工作排程器"></a>1. 通過工作排程器</h3><ol><li>在 <code>本機</code> 右鍵鼠標並選擇管理。</li><li>點擊左邊的工作排程器<br><img alt="工作排程器" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/TaskScheduler.png" class="lozad"></li><li>點擊右邊<code>動作</code>下的<code>建立基本工作</code><br><img alt="建立基本工作" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/create_basic_task.png" class="lozad"></li><li>輸入名稱和描述<br><img alt="輸入名稱和描述" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/create_basic_task_process_1.png" class="lozad"></li><li>選擇觸發程序時間（這裏選擇每天）<br><img alt="選擇觸發程序時間" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/trigger.png" class="lozad"></li><li>設置開始的時間和間隔，間隔的數值要大於0<br><img alt="設置開始的時間和間" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/set_start_time.png" class="lozad"></li><li>選擇<code>啟動程序</code><br><img alt="選擇啟動程序" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/action.png" class="lozad"></li><li>程序或指令碼填寫<code>shutdown</code>或者點擊右邊的瀏覽，選擇shutdown.exe，會變成<code>C:\Windows\System32\shutdown.exe</code>。新增引數填<code>-s</code><br><img alt="填寫程序或指令碼" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/start_a_program.png" class="lozad"></li><li>檢查所有填寫的資料的是否正確，點擊完成就可以了。這樣電腦就會按照你設定的時間，到時間後就會跳出提醒。<br><img alt="建立的基本工作詳情" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/finish.png" class="lozad"></li></ol><h3 id="2-通過執行程序"><a href="#2-通過執行程序" class="headerlink" title="2. 通過執行程序"></a>2. 通過<code>執行</code>程序</h3><p>按<code>win</code>+<code>R</code>，打開<code>執行</code>程序，直接輸入shutdown指令。<br><img alt="執行程序" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/Run_Command.png" class="lozad"></p><h3 id="3-通過CMD或者PowerShell"><a href="#3-通過CMD或者PowerShell" class="headerlink" title="3. 通過CMD或者PowerShell"></a>3. 通過<code>CMD</code>或者<code>PowerShell</code></h3><p>打開<code>CMD</code>或者<code>PowerShell</code>，然後直接輸入shutdown指令。</p><p><img alt="CMD" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/cmd.png" class="lozad"><br><img alt="PowerShell" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Set_Auto_Shutdown_in_Windows/powershell.png" class="lozad"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows必裝軟件推薦</title>
      <link href="/posts/59b77e20/"/>
      <url>/posts/59b77e20/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Windows上的軟件數不勝數,同一類型的軟件眾多。到底哪一款才是適合你自己的，只有自己親自試用過才知道。以下是我比較喜歡的軟件，特別推薦給各位。</p><ol><li>下載工具：<a href="https://www.qbittorrent.org/" rel="external nofollow noopener noreferrer" target="_blank">qBittorrent</a>和<a href="https://www.internetdownloadmanager.com/" rel="external nofollow noopener noreferrer" target="_blank">Internet Download Manager</a></li><li>聊天軟件：<a href="https://tim.qq.com/index.html" rel="external nofollow noopener noreferrer" target="_blank">tim</a>(雖然已經被騰訊放棄了，但是比起QQ那麼臃腫，這個好用點）和 <a href="https://www.microsoft.com/en-us/p/wechat-for-windows/9nblggh4slx7?activetab=pivot:overviewtab" rel="external nofollow noopener noreferrer" target="_blank">微信</a>(store轉製版）</li><li>截圖軟件： <a href="https://zh.snipaste.com/" rel="external nofollow noopener noreferrer" target="_blank">snipaste</a> 這個必須推薦</li><li>編輯器： <a href="https://code.visualstudio.com/" rel="external nofollow noopener noreferrer" target="_blank">vscode</a></li><li>瀏覽器： <a href="https://www.google.com/chrome/" rel="external nofollow noopener noreferrer" target="_blank">chrome</a></li><li>視頻播放器： <a href="https://potplayer.daum.net/" rel="external nofollow noopener noreferrer" target="_blank">potplayer</a> 和 <a href="https://www.microsoft.com/store/productId/9NBLGGH5Q5FV" rel="external nofollow noopener noreferrer" target="_blank">嗶哩嗶哩UWP</a></li><li>詞典： <a href="https://www.eudic.net/v4/en/app/eudic" rel="external nofollow noopener noreferrer" target="_blank">歐陸詞典</a> 和 <a href="http://goldendict.org/" rel="external nofollow noopener noreferrer" target="_blank">GoldenDict</a></li><li>筆記：<a href="https://products.office.com/zh-hk/onenote/digital-note-taking-app?rtc=1" rel="external nofollow noopener noreferrer" target="_blank">onenote</a>  和 <a href="https://evernote.com/intl/zh-tw" rel="external nofollow noopener noreferrer" target="_blank">evernote</a> (用這個截取網頁的內容，onenote的web clipper太差）</li><li>簡單視頻製作：<a href="https://www.adobe.com/hk_zh/products/premiere/free-trial-download.html" rel="external nofollow noopener noreferrer" target="_blank">Adobe Premiere Pro</a> (編輯視頻） <a href="https://www.4kdownload.com/download" rel="external nofollow noopener noreferrer" target="_blank">4K Video Downloader</a>（下載視頻） <a href="http://www.aegisub.org/" rel="external nofollow noopener noreferrer" target="_blank">Aegisub</a> (製作字幕） <a href="https://sourceforge.net/projects/megui/" rel="external nofollow noopener noreferrer" target="_blank">Megui</a>(壓制視頻）</li><li>搜索： <a href="https://www.voidtools.com/" rel="external nofollow noopener noreferrer" target="_blank">everything</a></li><li>圖片查看： <a href="https://www.faststone.org/FSViewerDetail.htm" rel="external nofollow noopener noreferrer" target="_blank">FastStone Image Viewer</a></li><li>壓縮軟件：<a href="https://www.rarlab.com/" rel="external nofollow noopener noreferrer" target="_blank">winrar</a> (7zip也不錯，但是不能設置解壓完自動打開解壓的文件夾，只能放棄）</li><li>清理軟件： <a href="https://www.wisecleaner.com/wise-care-365.html" rel="external nofollow noopener noreferrer" target="_blank">Wise Care 365</a>  和 <a href="https://www.ccleaner.com/" rel="external nofollow noopener noreferrer" target="_blank">CCleaner</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 軟件推薦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> 軟件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>關於字符編碼，你所需要知道的（ASCII,Unicode,Utf-8,GB2312…）</title>
      <link href="/posts/f5f84b52/"/>
      <url>/posts/f5f84b52/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="關於字符編碼，你所需要知道的（ASCII-Unicode-Utf-8-GB2312…）"><a href="#關於字符編碼，你所需要知道的（ASCII-Unicode-Utf-8-GB2312…）" class="headerlink" title="關於字符編碼，你所需要知道的（ASCII,Unicode,Utf-8,GB2312…）"></a>關於字符編碼，你所需要知道的（ASCII,Unicode,Utf-8,GB2312…）</h1><blockquote><p>轉自 <a href="http://www.imkevinyang.com/2010/06/%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%EF%BC%8C%E4%BD%A0%E6%89%80%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84.html" rel="external nofollow noopener noreferrer" target="_blank">Kevin Yang</a></p></blockquote><p>字符編碼的問題看似很小，經常被技術人員忽視，但是很容易導致一些莫名其妙的問題。這裏總結了一下字符編碼的一些普及性的知識，希望對大家有所幫助。</p><h2 id="還是得從ASCII碼説起"><a href="#還是得從ASCII碼説起" class="headerlink" title="還是得從ASCII碼説起"></a>還是得從ASCII碼説起</h2><p>説到字符編碼，不得不説ASCII碼的簡史。計算機一開始發明的時候是用來解決數字計算的問題，後來人們發現，計算機還可以做更多的事，例如文本處理。但由於計算機只識“數”，因此人們必須告訴計算機哪個數字來代表哪個特定字符，例如65代表字母‘A’，66代表字母‘B’，以此類推。但是<strong>計算機之間字符-數字的對應關係必須得一致，否則就會造成同一段數字在不同計算機上顯示出來的字符不一樣。</strong>因此美國國家標準協會ANSI制定了一個標準，規定了常用字符的集合以及每個字符對應的編號，這就是ASCII字符集（Character Set），也稱ASCII碼。</p><p>當時的計算機普遍使用8比特字節作為最小的存儲和處理單元，加之當時用到的字符也很少，26個大小寫英文字母還有數字再加上其他常用符號，也不到100個，因此使用7個比特位就可以高效的存儲和處理ASCII碼，剩下最高位1比特被用作一些通訊系統的奇偶校驗。</p><blockquote><p>注意，字節代表系統能夠處理的最小單位，不一定是8比特。只是現代計算機的事實標準就是用8比特來代表一個字節。在很多技術規格文獻中，為了避免產生歧義，更傾向於使用8位組（Octet）而不是字節（Byte）這個術語來強調8個比特的二進制流。下文中為了便於理解，我會延用大家熟悉的“字節”這個概念。</p></blockquote><p><img alt="ASCII table" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/ASCII_table.png" class="lozad"></p><p>ASCII字符集由95個可打印字符（0x20-0x7E）和33個控制字符（0x00-0x19，0x7F）組成。可打印字符用於顯示在輸出設備上，例如熒屏或者打印紙上，控制字符用於向計算機發出一些特殊指令，例如0x07會讓計算機發出嗶的一聲，0x00通常用於指示字符串的結束，0x0D和0x0A用於指示打印機的打印針頭退到行首（回車）並移到下一行（換行）。</p><p>那時候的字符編解碼系統非常簡單，就是簡單的查表過程。例如將字符序列編碼為二進制流寫入存儲設備，只需要在ASCII字符集中依次找到字符對應的字節，然後直接將該字節寫入存儲設備即可。解碼二進制流的過程也是類似。</p><h2 id="OEM字符集的衍生"><a href="#OEM字符集的衍生" class="headerlink" title="OEM字符集的衍生"></a>OEM字符集的衍生</h2><p>當計算機開始發展起來的時候，人們逐漸發現，ASCII字符集裏那可憐的128個字符已經不能再滿足他們的需求了。人們就在想，一個字節能夠表示的數字（編號）有256個，而ASCII字符只用到了0x00~0x7F，也就是佔用了前128個，後面128個數字不用白不用，因此很多人打起了後面這128個數字的主意。可是問題在於，很多人同時有這樣的想法，但是大家對於0x80-0xFF這後面的128個數字分別對應什麼樣的字符，卻有各自的想法。這就導致了當時銷往世界各地的機器上出現了大量各式各樣的OEM字符集。</p><p>下面這張表是IBM-PC機推出的其中一個OEM字符集，字符集的前128個字符和ASCII字符集的基本一致（為什麼説基本一致呢，是因為前32個控制字符在某些情況下會被IBM-PC機當作可打印字符解釋），後面128個字符空間加入了一些歐洲國家用到的重音字符，以及一些用於畫線條畫的字符。</p><p><img alt="IBM-PC OEM字符集" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/IBM_PC_OEM_character_set.png" class="lozad"></p><p>事實上，大部分OEM字符集是兼容ASCII字符集的，也就是説，大家對於0x00~0x7F這個範圍的解釋基本是相同的，而對於後半部分0x80~0xFF的解釋卻不一定相同。甚至有時候同樣的字符在不同OEM字符集中對應的字節也是不同的。</p><p>不同的OEM字符集導致人們無法跨機器交流各種文檔。例如職員甲發了一封簡歷résumés給職員乙，結果職員乙看到的卻是r?sum?s，因為é字符在職員甲機器上的OEM字符集中對應的字節是0x82，而在職員乙的機器上，由於使用的OEM字符集不同，對0x82字節解碼後得到的字符卻是?。</p><h2 id="多字節字符集（MBCS）和中文字符集"><a href="#多字節字符集（MBCS）和中文字符集" class="headerlink" title="多字節字符集（MBCS）和中文字符集"></a>多字節字符集（MBCS）和中文字符集</h2><p>上面我們提到的字符集都是基於單字節編碼，也就是説，一個字節翻譯成一個字符。這對於拉丁語系國家來説可能沒有什麼問題，因為他們通過擴展第8個比特，就可以得到256個字符了，足夠用了。但是對於亞洲國家來説，256個字符是遠遠不夠用的。因此這些國家的人為了用上電腦，又要保持和ASCII字符集的兼容，就發明了多字節編碼方式，相應的字符集就稱為多字節字符集。例如中國使用的就是雙字節字符集編碼（DBCS，Double Byte Character Set）。</p><p>對於單字節字符集來説，代碼頁中只需要有一張碼錶即可，上面記錄着256個數字代表的字符。程序只需要做簡單的查表操作就可以完成編解碼的過程。</p><blockquote><p>代碼頁是字符集編碼的具體實現，你可以把他理解為一張“字符-字節”映射表，通過查表實現“字符-字節”的翻譯。下面會有更詳細的描述。</p></blockquote><p>而對於多字節字符集，代碼頁中通常會有很多碼錶。那麼程序怎麼知道該使用哪張碼錶去解碼二進制流呢？答案是，<strong>根據第一個字節來選擇不同的碼錶進行解析。</strong></p><p>例如目前最常用的中文字符集GB2312，涵蓋了所有簡體字符以及一部分其他字符；GBK（K代表擴展的意思）則在GB2312的基礎上加入了對繁體字符等其他非簡體字符（GB18030字符集不是雙字節字符集，我們在講Unicode的時候會提到）。這兩個字符集的字符都是使用1-2個字節來表示。Windows系統採用936代碼頁來實現對GBK字符集的編解碼。在解析字節流的時候，如果遇到字節的最高位是0的話，那麼就使用936代碼頁中的第1張碼錶進行解碼，這就和單字節字符集的編解碼方式一致了。</p><p><img alt="936代碼頁" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Codepage_936.png" class="lozad"></p><p>當字節的高位是1的時候，確切的説，當第一個字節位於0x81–0xFE之間時，根據第一個字節不同找到代碼頁中的相應的碼錶，例如當第一個字節是0x81，那麼對應936中的下面這張碼錶：</p><p><img alt="936代碼頁2" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Codepage_936_2.png" class="lozad"></p><p>（關於936代碼頁中完整的碼錶信息，參見MSDN：<a href="http://msdn.microsoft.com/en-us/library/cc194913%28v=MSDN.10%29.aspx.）" rel="external nofollow noopener noreferrer" target="_blank">http://msdn.microsoft.com/en-us/library/cc194913%28v=MSDN.10%29.aspx.）</a></p><p>按照936代碼頁的碼錶，當程序遇到連續字節流0x81 0x40的時候，就會解碼為“丂”字符。</p><h2 id="ANSI標準、國家標準、ISO標準"><a href="#ANSI標準、國家標準、ISO標準" class="headerlink" title="ANSI標準、國家標準、ISO標準"></a>ANSI標準、國家標準、ISO標準</h2><p>不同ASCII衍生字符集的出現，讓文檔交流變得非常困難，因此各種組織都陸續進行了標準化流程。例如美國ANSI組織制定了ANSI標準字符編碼（注意，<strong>我們現在通常説到ANSI編碼，通常指的是平台的默認編碼，例如英文操作系統中是ISO-8859-1，中文系統是GBK</strong>），ISO組織制定的各種ISO標準字符編碼，還有各國也會制定一些國家標準字符集，例如中國的GBK，GB2312和GB18030。</p><p>操作系統在發佈的時候，通常會往機器裏預裝這些標準的字符集還有平台專用的字符集，這樣只要你的文檔是使用標準字符集編寫的，通用性就比較高了。例如你用GB2312字符集編寫的文檔，在中國大陸內的任何機器上都能正確顯示。同時，我們也可以在一台機器上閲讀多個國家不同語言的文檔了，前提是本機必須安裝該文檔使用的字符集。</p><h2 id="Unicode的出現"><a href="#Unicode的出現" class="headerlink" title="Unicode的出現"></a>Unicode的出現</h2><p>雖然通過使用不同字符集，我們可以在一台機器上查閲不同語言的文檔，但是我們仍然無法解決一個問題：<strong>在一份文檔中顯示所有字符</strong>。為了解決這個問題，我們需要一個全人類達成共識的巨大的字符集，這就是Unicode字符集。</p><h3 id="Unicode字符集概述"><a href="#Unicode字符集概述" class="headerlink" title="Unicode字符集概述"></a>Unicode字符集概述</h3><p>Unicode字符集涵蓋了目前人類使用的所有字符，併為每個字符進行統一編號，分配唯一的字符碼（Code Point）。Unicode字符集將所有字符按照使用上的頻繁度劃分為17個層面（Plane），每個層面上有2<sup>16</sup>=65536個字符碼空間。</p><p><img alt="Unicode" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Unicode.png" class="lozad"></p><p>其中第0個層面BMP，基本涵蓋了當今世界用到的所有字符。其他的層面要麼是用來表示一些遠古時期的文字，要麼是留作擴展。我們平常用到的Unicode字符，一般都是位於BMP層面上的。目前Unicode字符集中尚有大量字符空間未使用。</p><h3 id="編碼系統的變化"><a href="#編碼系統的變化" class="headerlink" title="編碼系統的變化"></a>編碼系統的變化</h3><p>在Unicode出現之前，所有的字符集都是和具體編碼方案綁定在一起的，都是直接將字符和最終字節流綁定死了，例如ASCII編碼系統規定使用7比特來編碼ASCII字符集；GB2312以及GBK字符集，限定了使用最多2個字節來編碼所有字符，並且規定了字節序。這樣的編碼系統通常用簡單的查表，也就是通過代碼頁就可以直接將字符映射為存儲設備上的字節流了。例如下面這個例子：</p><p><img alt="編碼系統" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Coding_system.png" class="lozad"></p><p>這種方式的缺點在於，字符和字節流之間耦合得太緊密了，從而限定了字符集的擴展能力。假設以後火星人入住地球了，要往現有字符集中加入火星文就變得很難甚至不可能了，而且很容易破壞現有的編碼規則。</p><p>因此Unicode在設計上考慮到了這一點，將字符集和字符編碼方案分離開。</p><p><img alt="字符編碼系統" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Character_encoding_system.png" class="lozad"></p><p>也就是説，<strong>雖然每個字符在Unicode字符集中都能找到唯一確定的編號（字符碼，又稱Unicode碼），但是決定最終字節流的卻是具體的字符編碼</strong>。例如同樣是對Unicode字符“A”進行編碼，UTF-8字符編碼得到的字節流是0x41，而UTF-16（大端模式）得到的是0x00 0x41。</p><h3 id="常見的Unicode編碼"><a href="#常見的Unicode編碼" class="headerlink" title="常見的Unicode編碼"></a>常見的Unicode編碼</h3><h4 id="UCS-2-UTF-16"><a href="#UCS-2-UTF-16" class="headerlink" title="UCS-2/UTF-16"></a>UCS-2/UTF-16</h4><p>如果要我們來實現Unicode字符集中BMP字符的編碼方案，我們會怎麼實現？由於BMP層面上有2<sup>16</sup>=65536個字符碼，因此我們只需要兩個字節就可以完全表示這所有的字符了。</p><p>舉個例子，“中”的Unicode字符碼是0x4E2D(01001110 00101101)，那麼我們可以編碼為01001110 00101101（大端）或者00101101 01001110 （小端）。</p><p>UCS-2和UTF-16對於BMP層面的字符均是使用2個字節來表示，並且編碼得到的結果完全一致。不同之處在於，<strong>UCS-2最初設計的時候只考慮到BMP字符，因此使用固定2個字節長度，也就是説，他無法表示Unicode其他層面上的字符，而UTF-16為了解除這個限制，支持Unicode全字符集的編解碼，採用了變長編碼，最少使用2個字節，如果要編碼BMP以外的字符，則需要4個字節結對</strong>，這裏就不討論那麼遠，有興趣可以參考維基百科：<a href="https://en.wikipedia.org/wiki/UTF-16" rel="external nofollow noopener noreferrer" target="_blank">UTF-16/UCS-2</a>。</p><p>Windows從NT時代開始就採用了UTF-16編碼，很多流行的編程平台，例如.Net，Java，Qt還有Mac下的Cocoa等都是使用UTF-16作為基礎的字符編碼。例如代碼中的字符串，在內存中相應的字節流就是用UTF-16編碼過的。</p><h4 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h4><p>UTF-8應該是目前應用最廣泛的一種Unicode編碼方案。由於UCS-2/UTF-16對於ASCII字符使用兩個字節進行編碼，存儲和處理效率相對低下，並且由於ASCII字符經過UTF-16編碼後得到的兩個字節，高字節始終是0x00，很多C語言的函數都將此字節視為字符串末尾從而導致無法正確解析文本。因此一開始推出的時候遭到很多西方國家的抵觸，大大影響了Unicode的推行。後來聰明的人們發明了UTF-8編碼，解決了這個問題。</p><p>UTF-8編碼方案採用1-4個字節來編碼字符，方法其實也非常簡單。</p><p><img alt="UTF-8編碼" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/UTF-8_encoding.png" class="lozad"></p><p>（上圖中的x代表Unicode碼的低8位，y代表高8位）</p><p><strong>對於ASCII字符的編碼使用單字節，和ASCII編碼一摸一樣，這樣所有原先使用ASCII編解碼的文檔就可以直接轉到UTF-8編碼了。對於其他字符，則使用2-4個字節來表示，其中，首字節前置1的數目代表正確解析所需要的字節數，剩餘字節的高2位始終是10。例如首字節是1110yyyy，前置有3個1，説明正確解析總共需要3個字節，需要和後面2個以10開頭的字節結合才能正確解析得到字符。</strong></p><p>關於UTF-8的更多信息，參考維基百科：<a href="https://en.wikipedia.org/wiki/UTF-8" rel="external nofollow noopener noreferrer" target="_blank">UTF-8</a>。</p><h4 id="GB18030"><a href="#GB18030" class="headerlink" title="GB18030"></a>GB18030</h4><p>任何能夠將Unicode字符映射為字節流的編碼都屬於Unicode編碼。中國的GB18030編碼，覆蓋了Unicode所有的字符，因此也算是一種Unicode編碼。只不過他的編碼方式並不像UTF-8或者UTF-16一樣，將Unicode字符的編號通過一定的規則進行轉換，而只能通過查表的手段進行編碼。</p><p>關於GB18030的更多信息，參考：<a href="https://en.wikipedia.org/wiki/GB_18030" rel="external nofollow noopener noreferrer" target="_blank">GB18030</a>。</p><h3 id="Unicode相關的常見問題"><a href="#Unicode相關的常見問題" class="headerlink" title="Unicode相關的常見問題"></a>Unicode相關的常見問題</h3><ul><li><p>Unicode是兩個字節嗎？<br>Unicode只是定義了一個龐大的、全球通用的字符集，併為每個字符規定了唯一確定的編號，具體存儲為什麼樣的字節流，取決於字符編碼方案。推薦的Unicode編碼是UTF-16和UTF-8。</p></li><li><p>帶簽名的UTF-8指的是什麼意思？</p><p>帶簽名指的是字節流以BOM標記開始。很多軟件會“智能”的探測當前字節流使用的字符編碼，這種探測過程出於效率考慮，通常會提取字節流前面若干個字節，看看是否符合某些常見字符編碼的編碼規則。由於UTF-8和ASCII編碼對於純英文的編碼是一樣的，無法區分開來，因此通過在字節流最前面添加BOM標記可以告訴軟件，當前使用的是Unicode編碼，判別成功率就十分準確了。但是需要注意，不是所有軟件或者程序都能正確處理BOM標記，例如PHP就不會檢測BOM標記，直接把它當普通字節流解析了。因此如果你的PHP文件是採用帶BOM標記的UTF-8進行編碼的，那麼有可能會出現問題。</p></li><li><p>Unicode編碼和以前的字符集編碼有什麼區別？</p><p>早期字符編碼、字符集和代碼頁等概念都是表達同一個意思。例如GB2312字符集、GB2312編碼，936代碼頁，實際上説的是同個東西。但是對於Unicode則不同，Unicode字符集只是定義了字符的集合和唯一編號，Unicode編碼，則是對UTF-8、UCS-2/UTF-16等具體編碼方案的統稱而已，並不是具體的編碼方案。所以當需要用到字符編碼的時候，你可以寫gb2312，codepage936，utf-8，utf-16，但請不要寫unicode（看過別人在網頁的meta標籤裏頭寫charset=unicode，有感而發）。</p></li></ul><h3 id="亂碼問題"><a href="#亂碼問題" class="headerlink" title="亂碼問題"></a>亂碼問題</h3><p>亂碼指的是程序顯示出來的字符文本無法用任何語言去解讀。一般情況下會包含大量?。亂碼問題是所有計算機用户或多或少會遇到的問題。<strong>造成亂碼的原因就是因為使用了錯誤的字符編碼去解碼字節流，因此當我們在思考任何跟文本顯示有關的問題時，請時刻保持清醒：當前使用的字符編碼是什麼</strong>。只有這樣，我們才能正確分析和處理亂碼問題。</p><p>例如最常見的網頁亂碼問題。如果你是網站技術人員，遇到這樣的問題，需要檢查以下原因：</p><ul><li>服務器返回的響應頭Content-Type沒有指明字符編碼</li><li>網頁內是否使用META HTTP-EQUIV標籤指定了字符編碼</li><li>網頁文件本身存儲時使用的字符編碼和網頁聲明的字符編碼是否一致<br><img alt="檢查網頁亂碼" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Check_webpage_garbled.png" class="lozad"></li></ul><p>注意，網頁解析的過程如果使用的字符編碼不正確，還可能會導致腳本或者樣式表出錯。具體細節可以參考我以前寫過的文章：<a href="http://www.imkevinyang.com/2009/08/%E6%96%87%E6%A1%A3%E5%AD%97%E7%AC%A6%E9%9B%86%E5%AF%BC%E8%87%B4%E7%9A%84%E8%84%9A%E6%9C%AC%E9%94%99%E8%AF%AF.html" rel="external nofollow noopener noreferrer" target="_blank">文檔字符集導致的腳本錯誤</a>和<a href="http://www.imkevinyang.com/2009/11/asp-net%E9%A1%B5%E9%9D%A2%E7%9A%84%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98.html" rel="external nofollow noopener noreferrer" target="_blank">Asp.Net頁面的編碼問題</a>。</p><p>不久前看到某技術論壇有人反饋，WinForm程序使用Clipboard類的GetData方法去訪問剪切板中的HTML內容時會出現亂碼的問題，我估計也是由於WinForm在獲取HTML文本的時候沒有用對正確的字符編碼導致的。Windows剪貼板只支持UTF-8編碼，也就是説你傳入的文本都會被UTF-8編解碼。這樣一來，只要兩個程序都是調用Windows剪切板API編程的話，那麼複製粘貼的過程中不會出現亂碼。除非一方在獲取到剪貼板數據之後使用了錯誤的字符編碼進行解碼，才會得到亂碼（我做了簡單的WinForm剪切板編程實驗，發現GetData使用的是系統默認編碼，而不是UTF-8編碼）。</p><p>關於亂碼中出現?或者?，這裏需要額外提一下，<strong>當程序使用特定字符編碼解析字節流的時候，一旦遇到無法解析的字節流時，就會用解碼失敗替換字符或者?來替代。因此，一旦你最終解析得到的文本包含這樣的字符，而你又無法得到原始字節流的時候，説明正確的信息已經徹底丟失了，嘗試任何字符編碼都無法從這樣的字符文本中還原出正確的信息來</strong>。</p><h3 id="必要的術語解釋"><a href="#必要的術語解釋" class="headerlink" title="必要的術語解釋"></a>必要的術語解釋</h3><p><strong>字符集（Character Set）</strong>，字面上的理解就是字符的集合，例如ASCII字符集，定義了128個字符；GB2312定義了7445個字符。而<strong>計算機系統中提到的字符集準確來説，指的是已編號的字符的有序集合（不一定是連續）</strong>。</p><p><strong>字符碼（Code Point）</strong>指的就是字符集中每個字符的數字編號。例如ASCII字符集用0-127這連續的128個數字分別表示128個字符；GBK字符集使用區位碼的方式為每個字符編號，首先定義一個94X94的矩陣，行稱為“區”，列稱為“位”，然後將所有國標漢字放入矩陣當中，這樣每個漢字就可以用唯一的“區位”碼來標識了。例如“中”字被放到54區第48位，因此字符碼就是5448。而Unicode中將字符集按照一定的類別劃分到0~16這17個層面（Planes）中，每個層面中擁有2<sup>16</sup>=65536個字符碼，因此Unicode總共擁有的字符碼，也即是Unicode的字符空間總共有17*65536=1114112。</p><p><img alt="Unicode Basic code structure" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/About_Character_Encoding/Unicode_Basic_code_structure.png" class="lozad"></p><p><strong>編碼</strong>的過程是將字符轉換成字節流。</p><p><strong>解碼</strong>的過程是將字節流解析為字符。</p><p><strong>字符編碼（Character Encoding）</strong>是將字符集中的字符碼映射為字節流的一種具體實現方案。例如ASCII字符編碼規定使用單字節中低位的7個比特去編碼所有的字符。例如‘A’的編號是65，用單字節表示就是0x41，因此寫入存儲設備的時候就是b’01000001’。GBK編碼則是將區位碼（GBK的字符碼）中的區碼和位碼的分別加上0xA0（160）的偏移（之所以要加上這樣的偏移，主要是為了和ASCII碼兼容），例如剛剛提到的“中”字，區位碼是5448，十六進制是0x3630，區碼和位碼分別加上0xA0的偏移之後就得到0xD6D0，這就是“中”字的GBK編碼結果。</p><p><strong>代碼頁（Code Page）</strong>一種字符編碼具體形式。早期字符相對少，因此通常會使用類似表格的形式將字符直接映射為字節流，然後通過查表的方式來實現字符的編解碼。現代操作系統沿用了這種方式。例如Windows使用936代碼頁、Mac系統使用EUC-CN代碼頁實現GBK字符集的編碼，名字雖然不一樣，但對於同一漢字的編碼肯定是一樣的。</p><p><strong>大小端</strong>的説法源自《格列佛遊記》。我們知道，雞蛋通常一端大一端小，小人國的人們對於剝蛋殼時應從哪一端開始剝起有着不一樣的看法。同樣，計算機界對於傳輸多字節字（由多個字節來共同表示一個數據類型）時，是先傳高位字節（大端）還是先傳低位字節（小端）也有着不一樣的看法，這就是計算機裏頭大小端模式的由來了。無論是寫文件還是網絡傳輸，實際上都是往流設備進行寫操作的過程，而且這個寫操作是從流的低地址向高地址開始寫（這很符合人的習慣），對於多字節字來説，如果先寫入高位字節，則稱作大端模式。反之則稱作小端模式。也就是説，大端模式下，字節序和流設備的地址順序是相反的，而小端模式則是相同的。一般網絡協議都採用大端模式進行傳輸，windows操作系統採用Utf-16小端模式。</p><p>參考鏈接：</p><ol><li><a href="https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/" rel="external nofollow noopener noreferrer" target="_blank">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></li><li><a href="http://developers.sun.com/dev/gadc/technicalpublications/articles/gb18030.html" rel="external nofollow noopener noreferrer" target="_blank">http://developers.sun.com/dev/gadc/technicalpublications/articles/gb18030.html</a></li><li><a href="http://en.wikipedia.org/wiki/Universal_Character_Set" rel="external nofollow noopener noreferrer" target="_blank">http://en.wikipedia.org/wiki/Universal_Character_Set</a></li><li><a href="http://en.wikipedia.org/wiki/Code_page" rel="external nofollow noopener noreferrer" target="_blank">http://en.wikipedia.org/wiki/Code_page</a></li></ol><h1 id="Unicode-和-UTF-8-有什么区别？"><a href="#Unicode-和-UTF-8-有什么区别？" class="headerlink" title="Unicode 和 UTF-8 有什么区别？"></a>Unicode 和 UTF-8 有什么区别？</h1><blockquote><p>轉發自知乎 盛世唐朝 <a href="https://www.zhihu.com/question/23374078" rel="external nofollow noopener noreferrer" target="_blank">https://www.zhihu.com/question/23374078</a></p></blockquote><p>很久很久以前，有一羣人，他們決定用8個可以開合的晶體管來組合成不同的狀態，以表示世界上的萬物。他們看到8個開關狀態是好的，於是他們把這稱為”<strong>字節</strong>“。再後來，他們又做了一些可以處理這些字節的機器，機器開動了，可以用字節來組合出很多狀態，狀態開始變來變去。他們看到這樣是好的，於是它們就這機器稱為”<strong>計算機</strong>“。</p><p>開始計算機只在美國用。八位的字節一共可以組合出256(2的8次方)種不同的狀態。<br>他們把其中的編號從0開始的32種狀態分別規定了特殊的用途，一但終端、打印機遇上約定好的這些字節被傳過來時，就要做一些約定的動作：<br>遇上0×10, 終端就換行；<br>遇上0×07, 終端就向人們嘟嘟叫；<br>遇上0x1b, 打印機就打印反白的字，或者終端就用彩色顯示字母。<br>他們看到這樣很好，於是就把這些0×20以下的字節狀態稱為”控制碼”。他們又把所有的空<br>格、標點符號、數字、大小寫字母分別用連續的字節狀態表示，一直編到了第127號，這樣計算機就可以用不同字節來存儲英語的文字了。大家看到這樣，都感覺很好，於是大家都把這個方案叫做 <strong>ANSI</strong> 的”Ascii”編碼（American Standard Code for Information Interchange，美國信息互換標準代碼）。當時世界上所有的計算機都用同樣的<strong>ASCII</strong>方案來保存英文文字。</p><p>後來，就像建造巴比倫塔一樣，世界各地都開始使用計算機，但是很多國家用的不是英文，他們的字母裏有許多是ASCII裏沒有的，為了可以在計算機保存他們的文字，他們決定採用 127號之後的空位來表示這些新的字母、符號，還加入了很多畫表格時需要用下到的橫線、豎線、交叉等形狀，一直把序號編到了最後一個狀態255。從128 到255這一頁的字符集被稱”<strong>擴展字符集</strong>“。從此之後，貪婪的人類再沒有新的狀態可以用了，美帝國主義可能沒有想到還有第三世界國家的人們也希望可以用到計算機吧！</p><p>等中國人們得到計算機時，已經沒有可以利用的字節狀態來表示漢字，況且有6000多個常用漢字需要保存呢。但是這難不倒智慧的中國人民，我們不客氣地把那些127號之後的奇異符號們直接取消掉, 規定：一個小於127的字符的意義與原來相同，但兩個大於127的字符連在一起時，就表示一個漢字，前面的一個字節（他稱之為高字節）從0xA1用到0xF7，後面一個字節（低字節）從0xA1到0xFE，這樣我們就可以組合出大約7000多個簡體漢字了。在這些編碼裏，我們還把數學符號、羅馬希臘的字母、日文的假名們都編進去了，連在 ASCII 裏本來就有的數字、標點、字母都統統重新編了兩個字節長的編碼，這就是常説的”全角”字符，而原來在127號以下的那些就叫”半角”字符了。中國人民看到這樣很不錯，於是就把這種漢字方案叫做 “<strong>GB2312</strong>“。GB2312 是對 ASCII 的中文擴展。</p><p>但是中國的漢字太多了，我們很快就就發現有許多人的人名沒有辦法在這裏打出來，特別是某些很會麻煩別人的國家領導人。於是我們不得不繼續把GB2312 沒有用到的碼位找出來老實不客氣地用上。後來還是不夠用，於是乾脆不再要求低字節一定是127號之後的內碼，只要第一個字節是大於127就固定表示這是一個漢字的開始，不管後面跟的是不是擴展字符集裏的內容。結果擴展之後的編碼方案被稱為<strong>GBK</strong> 標準，GBK包括了GB2312 的所有內容，同時又增加了近20000個新的漢字（包括繁體字）和符號。 後來少數民族也要用電腦了，於是我們再擴展，又加了幾千個新的少數民族的字，GBK擴成了 <strong>GB18030</strong>。從此之後，中華民族的文化就可以在計算機時代中傳承了。 中國的程序員們看到這一系列漢字編碼的標準是好的，於是通稱他們叫做 “<strong>DBCS</strong>“（Double Byte Charecter Set 雙字節字符集）。在DBCS系列標準裏，最大的特點是兩字節長的漢字字符和一字節長的英文字符並存於同一套編碼方案裏，因此他們寫的程序為了支持中文處理，必須要注意字串裏的每一個字節的值，如果這個值是大於127的，那麼就認為一個雙字節字符集裏的字符出現了。那時候凡是受過加持，會編程的計算機僧侶們都要每天念下面這個咒語數百遍： “一個漢字算兩個英文字符！一個漢字算兩個英文字符……”</p><p>因為當時各個國家都像中國這樣搞出一套自己的編碼標準，結果互相之間誰也不懂誰的編碼，誰也不支持別人的編碼，連大陸和台灣這樣只相隔了150海里，使用着同一種語言的兄弟地區，也分別採用了不同的 DBCS 編碼方案——當時的中國人想讓電腦顯示漢字，就必須裝上一個”漢字系統”，專門用來處理漢字的顯示、輸入的問題，像是那個台灣的愚昧封建人士寫的算命程序就必須加裝另一套支持 BIG5 編碼的什麼”倚天漢字系統”才可以用，裝錯了字符系統，顯示就會亂了套！這怎麼辦？而且世界民族之林中還有那些一時用不上電腦的窮苦人民，他們的文字又怎麼辦？ 真是計算機的巴比倫塔命題啊！</p><p>正在這時，大天使加百列及時出現了——一個叫 ISO（國際標誰化組織）的國際組織決定着手解決這個問題。他們採用的方法很簡單：廢了所有的地區性編碼方案，重新搞一個包括了地球上所有文化、所有字母和符號 的編碼！他們打算叫它”Universal Multiple-Octet Coded Character Set”，簡稱 <strong>UCS</strong>, 俗稱 “<strong>unicode</strong>“。</p><p>unicode開始制訂時，計算機的存儲器容量極大地發展了，空間再也不成為問題了。於是 ISO 就直接規定必須用兩個字節，也就是16位來統一表示所有的字符，對於ASCII裏的那些”半角”字符，unicode包持其原編碼不變，只是將其長度由原來的8位擴展為16位，而其他文化和語言的字符則全部重新統一編碼。由於”半角”英文符號只需要用到低8位，所以其高8位永遠是0，因此這種大氣的方案在保存英文文本時會多浪費一倍的空間。</p><p>這時候，從舊社會裏走過來的程序員開始發現一個奇怪的現象：他們的 strlen 函數靠不住了，一個漢字不再是相當於兩個字符了，而是一個！是的，從unicode開始，無論是半角的英文字母，還是全角的漢字，它們都是統一的”<strong>一個字符</strong>“！同時，也都是統一的”<strong>兩個字節</strong>“，請注意”<strong>字符</strong>“和”<strong>字節</strong>“兩個術語的不同，”<strong>字節</strong>“是一個8位的物理存貯單元，而”<strong>字符</strong>“則是一個文化相關的符號。在unicode中，一個字符就是兩個字節。一個漢字算兩個英文字符的時代已經快過去了。</p><p>unicode同樣也不完美，這裏就有兩個的問題，一個是，如何才能區別unicode和ascii？計算機怎麼知道三個字節表示一個符號，而不是分別表示三個符號呢？第二個問題是，我們已經知道，英文字母只用一個字節表示就夠了，如果unicode統一規定，每個符號用三個或四個字節表示，那麼每個英文字母前都必然有二到三個字節是0，這對於存儲空間來説是極大的浪費，文本文件的大小會因此大出二三倍，這是難以接受的。</p><p>unicode在很長一段時間內無法推廣，直到互聯網的出現，為解決unicode如何在網絡上傳輸的問題，於是面向傳輸的眾多 <strong>UTF</strong>（UCS Transfer Format）標準出現了，顧名思義，<strong>UTF-8</strong>就是每次8個位傳輸數據，而<strong>UTF-16</strong>就是每次16個位。UTF-8就是在互聯網上使用最廣的一種unicode的實現方式，這是為傳輸而設計的編碼，並使編碼無國界，這樣就可以顯示全世界上所有文化的字符了。UTF-8最大的一個特點，就是它是一種變長的編碼方式。它可以使用1~4個字節表示一個符號，根據不同的符號而變化字節長度，當字符在ASCII碼的範圍時，就用一個字節表示，保留了ASCII字符一個字節的編碼做為它的一部分，注意的是unicode一箇中文字符佔2個字節，而UTF-8一箇中文字符佔3個字節）。從unicode到utf-8並不是直接的對應，而是要過一些算法和規則來轉換。</p><table><thead><tr><th>Unicode符號範圍(十六進制)</th><th>UTF-8編碼方式（二進制）</th></tr></thead><tbody><tr><td>0000 0000-0000 007F</td><td>0xxxxxxx</td></tr><tr><td>0000 0080-0000 07FF</td><td>110xxxxx 10xxxxxx</td></tr><tr><td>0000 0800-0000 FFFF</td><td>1110xxxx 10xxxxxx 10xxxxxx</td></tr><tr><td>0001 0000-0010 FFFF</td><td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td></tr></tbody></table><p>最後簡單總結一下：</p><ul><li>中國人民通過對 ASCII 編碼的中文擴充改造，產生了 GB2312 編碼，可以表示6000多個常用漢字。</li><li>漢字實在是太多了，包括繁體和各種字符，於是產生了 GBK 編碼，它包括了 GB2312 中的編碼，同時擴充了很多。</li><li>中國是個多民族國家，各個民族幾乎都有自己獨立的語言系統，為了表示那些字符，繼續把 GBK 編碼擴充為 GB18030 編碼。</li><li>每個國家都像中國一樣，把自己的語言編碼，於是出現了各種各樣的編碼，如果你不安裝相應的編碼，就無法解釋相應編碼想表達的內容。</li><li>終於，有個叫 ISO 的組織看不下去了。他們一起創造了一種編碼 UNICODE ，這種編碼非常大，大到可以容納世界上任何一個文字和標誌。所以只要電腦上有 UNICODE 這種編碼系統，無論是全球哪種文字，只需要保存文件的時候，保存成 UNICODE 編碼就可以被其他電腦正常解釋。</li><li>UNICODE 在網絡傳輸中，出現了兩個標準 UTF-8 和 UTF-16，分別每次傳輸 8個位和 16個位。於是就會有人產生疑問，UTF-8 既然能保存那麼多文字、符號，為什麼國內還有這麼多使用 GBK 等編碼的人？因為 UTF-8 等編碼體積比較大，佔電腦空間比較多，如果面向的使用人羣絕大部分都是中國人，用 GBK 等編碼也可以。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>好用的新浪圖床工具推薦 - Weibo-Picture-Store</title>
      <link href="/posts/d786a301/"/>
      <url>/posts/d786a301/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="note danger">            <p>2019年5月28號更新<br>微博圖床已經開始現在外鏈了，導致在網站上使用微博圖床的圖片無法顯示，如果使用微博作爲圖床的，應考慮轉向其它的圖床。</p>          </div><p>對於運營靜態網站的人來説，圖片存儲在哪裏是一個值得深思的問題。<br>要考慮到連接速度和存儲持久問題。<br>像七牛、騰訊雲這些服務商，想要使用存儲服務，就需要付費使用。<br>就算有提供免費的存儲，但奈何存儲空間大小限制，加上要實名認證，就足以將人拒之門外。<br>只能考慮一些即免費又沒有空間限制的服務商。<br>國外的一些圖片上傳網站考慮到在中國大陸的連接速度和有可能被和諧的問題，暫時不考慮。<br>像sm.ms這些圖床，因爲怕隨時會關掉而導致所有鏈接失效，同時上傳後又沒有備份，所以也在排除之外。<br>偶然在Github上看到這個新浪圖床上傳工具，有上傳存儲記錄。同時，新浪作爲一個用戶量很大的網站，也不用擔心會被關閉的問題。</p><h2 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h2><p>這個圖床上傳工具叫做 Weibo-Picture-Store,由<a href="https://github.com/Semibold" rel="external nofollow noopener noreferrer" target="_blank">Semibold</a>開發。是一款上傳圖片到微博並生成外鏈的 Chrome 瀏覽器擴展。</p><blockquote><p>chrome webstore 下載地址： <a href="https://chrome.google.com/webstore/detail/微博图床/pinjkilghdfhnkibhcangnpmcpdpmehk" rel="external nofollow noopener noreferrer" target="_blank">https://chrome.google.com/webstore/detail/微博图床/pinjkilghdfhnkibhcangnpmcpdpmehk</a><br>Github: <a href="https://github.com/Semibold/Weibo-Picture-Store" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Semibold/Weibo-Picture-Store</a></p></blockquote><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ul><li>支持點選、拖拽、粘貼以及頁面右鍵菜單上傳圖片到微博並同步到微相冊</li><li>支持拖拽上傳文件夾中的圖片文件</li><li>支持 JPEG、PNG、GIF 三種圖片格式</li><li>支持 SVG、BMP、WebP、ico 有損轉換為 PNG</li><li>支持把 HTML5 視頻的當前幀上傳為 JPG 圖像</li><li>支持查看上傳記錄，簡單的瀏覽及刪除操作</li><li>支持生成 URL、HTML、UBB、Markdown 四種格式</li><li>支持單條、多條模式的複製操作</li><li>支持選擇協議（http、https 和相對協議）</li><li>支持三種固定裁剪尺寸和用户自定義尺寸</li><li>支持使用微博賬號和密碼自動登錄</li></ul><h2 id="界面介紹"><a href="#界面介紹" class="headerlink" title="界面介紹"></a>界面介紹</h2><h3 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h3><p><img alt="主界面" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Main_interface.png" class="lozad"></p><ol><li>地址協議選擇</li><li>圖片裁剪選擇</li><li>在單條和多條複製模式之間切換的按鈕</li><li>上傳記錄按鈕</li><li>選擇上傳圖片的按鈕</li><li>複製當前類型的地址，批量模式下會複製此類型的所有地址</li><li>粘貼區域及拖拽區域，彈窗任何區域都可以使用（這裏可以批量粘貼圖片鏈接）</li><li>隱藏菜單，用於放置反饋及其他信息（圖中是菜單展開狀態）</li><li>在 GitHub 上提交建議或者 BUG</li><li>通過電子郵件反饋問題（如果不方便使用 GitHub）</li><li>捐贈支持一下</li><li>查看更新日誌</li></ol><h3 id="上傳記錄界面"><a href="#上傳記錄界面" class="headerlink" title="上傳記錄界面"></a>上傳記錄界面</h3><p><img alt="上傳記錄界面" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Upload_record_interface.png" class="lozad"></p><ol><li>從微相冊中移除這張圖片</li><li>在圖片上右擊可以複製圖片地址</li><li>批量刪除選中的文件（按住 Ctrl 鍵可以多選）</li><li>圖片最近的修改時間</li><li>切換相冊（不可用狀態）</li><li>切換相冊（可用狀態）</li></ol><h2 id="上傳方式"><a href="#上傳方式" class="headerlink" title="上傳方式"></a>上傳方式</h2><p>支持單張上傳和多張上傳</p><h3 id="點擊上傳"><a href="#點擊上傳" class="headerlink" title="點擊上傳"></a>點擊上傳</h3><p><img alt="上傳方式" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Upload_method.jpg" class="lozad"></p><h3 id="拖拽上傳"><a href="#拖拽上傳" class="headerlink" title="拖拽上傳"></a>拖拽上傳</h3><p><img alt="拖拽上傳" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Drag_and_drop_file_upload.gif" class="lozad"></p><h3 id="瀏覽器右鍵上傳"><a href="#瀏覽器右鍵上傳" class="headerlink" title="瀏覽器右鍵上傳"></a>瀏覽器右鍵上傳</h3><p><img alt="瀏覽器右鍵上傳" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Browser_right_click_upload.jpg" class="lozad"></p><h2 id="存儲位置"><a href="#存儲位置" class="headerlink" title="存儲位置"></a>存儲位置</h2><p>因為上傳的時候會讀取cookies,所以你要提前登錄新浪微博。當然你也可以在擴展中填寫微博賬號和密碼(不推薦)。</p><p><img alt="設置微博賬號和密碼" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/Set_Weibo_account_and_password.jpg" class="lozad"></p><p>上傳後的圖片會存儲在新浪微博-我的相冊裏</p><p><img alt="存儲位置" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Weibo-Picture-Store/storage_location.jpg" class="lozad"></p><h2 id="其他資訊"><a href="#其他資訊" class="headerlink" title="其他資訊"></a>其他資訊</h2><ul><li><p>圖片上傳到哪兒了？<br>上傳到用户的微博上了</p></li><li><p>在擴展中填寫微博賬號和密碼，這樣做是否安全？<br>你填寫的賬號和密碼存在本地，不會上傳到任何服務器上</p></li><li><p>我的常用微博賬號是A，我可以在擴展中填寫另一個賬號B嗎？<br>可以但不推薦，因為一個瀏覽器同時只能有一個微博的登錄狀態，在使用B時，A可能會被強制登出。若有同時登錄兩個賬户的需求，請使用 Chrome 的多用户模式來避免上述這種情況</p></li><li><p>可以上傳的最大圖片大小是多少？<br>目前是 20MB</p></li><li><p>如何設置微博圖片水印？<br>請參考官方教程設置微博圖片水印</p></li><li><p>如何管理已上傳的圖片？<br>上傳記錄或者微相冊均可以管理</p></li><li><p>如何刪除已上傳的圖片？<br>目前無法刪除，微相冊中的刪除是針對相冊的操作，對圖片本身沒有影響</p></li><li><p>粘貼上傳沒有效果？<br>粘貼上傳只支持複製圖片文件，在資源文件管理器中的複製文件並粘貼是沒有效果的</p></li><li><p>上傳的是 PNG 圖片，返回的卻是 JPG 後綴的地址？<br>微博不支持 PNG 後綴，後綴對於瀏覽器判斷圖片的格式是沒有影響的</p></li><li><p>如何使用自定義裁剪？<br>自定義裁剪的格式需要微博支持，否則生成的地址是不能訪問的</p></li><li><p>裁剪操作對圖片的影響？<br>裁剪適用於 JPEG 格式的圖片。PNG 圖片裁剪後會丟失透明通道，GIF 則會變成靜態圖片</p></li><li><p>微相冊同步圖片的最大數量是多少？<br>1000 張。如果達到這個數量後繼續使用，會創建新的相冊，如果相冊也滿了，則不再同步圖片</p></li><li><p>微相冊數量已達到上限 100 個，不能同步圖片了怎麼辦？<br>前往微相冊清理陳舊的相冊即可</p></li><li><p>為什麼通過複製粘貼的方式上傳 GIF 會變成靜態圖片？<br>在瀏覽器或操作系統中複製 GIF 時，只有其中一幀被複制到了剪切板，因此上傳後會變成靜態圖片</p></li></ul><h2 id="相關文章"><a href="#相關文章" class="headerlink" title="相關文章"></a>相關文章</h2><p>  Weibo-Picture-Store：<a href="https://github.com/Semibold/Weibo-Picture-Store" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Semibold/Weibo-Picture-Store</a></p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
            <tag> 圖床 </tag>
            
            <tag> chrome插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java知識點複習(二)</title>
      <link href="/posts/46be9372/"/>
      <url>/posts/46be9372/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="面向對象程序設計-OOP"><a href="#面向對象程序設計-OOP" class="headerlink" title="面向對象程序設計(OOP)"></a>面向對象程序設計(OOP)</h2><p>面向對象的程序由對象組成的，每個對象包含對用户公開的特定功能部分和隱藏的實現部分。<br>oop將數據擺在第一位，然後考慮操作數據的算法。</p><h3 id="對象"><a href="#對象" class="headerlink" title="對象"></a>對象</h3><p>要使用OOP，要瞭解對象的三個主要特性：</p><ul><li>對象的行為(behavior) ———— 可以對對象施加哪些操作，或可以對對象施加哪些方法？</li><li>對象的狀態(state) ———— 當施加那些方法時，對象如何響應？</li><li>對象標識(identity) ———— 如何辨別具有相同行為與狀態的不同對象？</li></ul><h3 id="類之間的關係"><a href="#類之間的關係" class="headerlink" title="類之間的關係"></a>類之間的關係</h3><ul><li><p>依賴(“uses-a”)<br>如果一個類的方法操作另一個類的對象，我們就説一個類依賴另一個類</p></li><li><p>聚合(“has-a”)<br>聚合意味著類A的對象包含類B的對象</p></li><li><p>繼承(“is-a”)<br>類A擴展類B,類A不但包含從類B繼承的方法，還會擁有一些額外的功能</p></li></ul><h2 id="使用預定義類"><a href="#使用預定義類" class="headerlink" title="使用預定義類"></a>使用預定義類</h2><h3 id="對象與對象變量"><a href="#對象與對象變量" class="headerlink" title="對象與對象變量"></a>對象與對象變量</h3><p>要想使用對象，就必須首先構造對象，並指定其初始狀態。然後，對對象應用方法。<br><code>構造器(constructor)</code>用來構造新實例。構造器是一種特殊的方法，用來構造並初始化對象。</p><p>構造器的名字應與類名相同。<br>以Date類為例，Date類的構造器名為Date。構造一個Date對象，需要在構造器前面加上new操作符。<br><code>new Date()</code><br>這個表達式構造一個新對象，這個對象被初始化啊為當前的日期和時間。<br>為了讓構造的對象能多次使用，將對象存放在一個變量<br><code>Date birthday = new Date()</code></p><p>下圖顯示了引用新構造的對象變量birthday</p><p><img alt="創建一個新對象" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Java_review_2/Create_a_new_object.jpg" class="lozad"></p><p>在對象與對象變量之間存在一個重要的區別。例如<br><strong>Date deadline</strong>  //deadline doesn’t refer to any object<br>定義了一個對象變量deadline，它可以引用Date類型的對象。<br>但是，變量deadline不是一個對象，實際上也沒有引用對象。</p><p>必須初始化變量deadline,有兩個選擇。一是用新構造的對象初始化這個變量<br><code>deadline = new Date()</code><br>二是讓這個變量引用一個<strong>已存在</strong>的對象：<br><code>deadline = birthday</code><br>現在兩個變量引用同一個對象</p><p><img alt="引用同一個對象的對象變量" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Java_review_2/references_the_same_object.jpg" class="lozad"></p><p><strong>一個對象變量並沒有實際包含一個對象，而僅僅引用一個對象。</strong><br><strong>在Java中，任何對象變量的值都是對存儲在另外一個地方的一個對象的引用</strong></p><p><code>Date deadline = new Date()</code><br>表達式new Date()構造了一個Date類型的對象，並且它的值是對新創建對象的引用。這個引用存儲在變量deadline中。</p><p>可以將對象變量設為null,表明這個對象變量目前沒有引用任何對象。<br><code>deadline = null;</code></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-theme-melody 主題修改</title>
      <link href="/posts/23dcbb21/"/>
      <url>/posts/23dcbb21/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Blog創建到現在，主題由 <a href="https://github.com/theme-next/hexo-theme-next" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-next</a>換到<a href="https://github.com/yscoder/hexo-theme-indigo" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-indigo</a>，再換到<a href="https://github.com/iTimeTraveler/hexo-theme-hiker" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-hiker</a>。本以爲不會再這麽折騰下去，結果看到<a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-melody</a>這款主題，又呼喚起了我的折騰。在折騰中學習，參考各種主題文檔、網絡文章，進行各種修改。</p><h1 id="修改記錄"><a href="#修改記錄" class="headerlink" title="修改記錄"></a>修改記錄</h1><p>以下是修改記錄</p><h2 id="19-05-12"><a href="#19-05-12" class="headerlink" title="19.05.12"></a>19.05.12</h2><ul><li>替換fancybox為zooming</li><li>更改主題上所有依賴velocity.js的特效代碼,從而刪除velocity.min.js和velocity.ui.min.js(折騰了我好久)</li><li>刪除原先的menu圖標，更改為css繪製的圖標，添加動態效果</li><li>主題上的一些特效改爲animate,效果更流暢</li></ul><h2 id="歷史更新"><a href="#歷史更新" class="headerlink" title="歷史更新"></a>歷史更新</h2><ul><li>增加友情鏈接界面</li><li>簡體繁體轉換</li><li>夜間模式</li><li>Blog 標題打字特效（引入<a href="https://github.com/mattboldt/typed.js/" rel="external nofollow noopener noreferrer" target="_blank">typed.js</a>）</li><li>cookies支持（引入<a href="https://github.com/js-cookie/js-cookie" rel="external nofollow noopener noreferrer" target="_blank">js-cookie</a>）</li><li>添加圖片懶加載 lozad</li><li>page頁顯示改成雙欄（個人資料放在sidebar裏，基本很少人會打開，故刪除sideber,sideber只會在文章頁面顯示toc)</li><li>搜索按鈕獨立出menu</li><li>刪除slide相關文件和配置（用不上）</li><li>增加評論直達按鈕（有評論的地方會出現）</li><li>首頁增加文章cover顯示</li><li>把打賞和分享按鈕整合在一起</li><li>增加新的分享addtoany</li><li>修改文章頁面下pagination的樣式</li><li>標簽頁隨機大小和顔色來顯示標簽</li><li>首頁full page顯示</li><li>手機頁面和pc頁面樣式優化</li><li>增加顯示博客已運行時間</li><li>刪除fireworks.js,這樣可以去掉anima.js的引入</li><li>增加圖片onerror,預防圖片加載不出而直接顯示”x”</li><li>增加baidu推送</li><li>增加百度,bing,360和google的網站驗證</li><li>增加canvas-ribbon背景彩帶</li><li>除首頁外，其他page頁的banner會顯示對應的page名字，而不再是顯示blog名和blog介紹</li><li>page頁可以修改各自的banner圖片</li><li>增加一行meta，爲了防止Safari將一些數字識別成電話</li><li>增加相關文章板塊</li><li>post頁banner增加更新日期顯示</li><li>單獨文章可以設置是否顯示sidebar(toc)</li><li>添加valine評論繁體語言</li><li>添加facebook和twitter的相關meta</li><li>各種hover</li></ul><p>大大小小修改了很多，有些已經記不清的，有空就折騰，在折騰中學習。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 主題 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java知識點複習(一)</title>
      <link href="/posts/58a40d07/"/>
      <url>/posts/58a40d07/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>學習Java的一些筆記</p><h2 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h2><ol><li>Java對大小寫很敏感</li><li>類名必須以字母開頭，後面可以跟字母和數字,也可以用 _和$ 兩種符號。不能使用Java保留字。（標準類名：以大寫字母開頭，如果類名由多個單詞組成，每個單詞首字母應該要大寫</li><li>源代碼文件名必須與公共類的名字相同</li><li>為了代碼能夠執行，必須包含一個main方法</li></ol><h2 id="Java中的三種註釋"><a href="#Java中的三種註釋" class="headerlink" title="Java中的三種註釋"></a>Java中的三種註釋</h2><ol><li>單行註釋( // )</li><li>多行註釋( /<em>  </em>/)</li><li>多行註釋 可以自動生成文檔( /*<em>  </em>/)</li></ol><h2 id="數據類型"><a href="#數據類型" class="headerlink" title="數據類型"></a>數據類型</h2><table><thead><tr><th>類型</th><th></th><th>儲存需求</th><th>取值範圍</th></tr></thead><tbody><tr><td>boolean</td><td></td><td>1字節 (8 bit)</td><td>true, false</td></tr><tr><td>char</td><td></td><td>2字節(16 bit)</td><td>0 ~ 216-1</td></tr><tr><td>byte</td><td>整型</td><td>1字節 (8 bit)</td><td>-128 ~ 127</td></tr><tr><td>short</td><td>整型</td><td>2字節 (16 bit)</td><td>-32 768 ~ 32 767 <br>(-215 ~ 215-1)</td></tr><tr><td>int</td><td>整型</td><td>4字節 (32 bit)</td><td>-2 147 483 648 ~ 2 147 483 647<br>(-231 ~ 231-1)</td></tr><tr><td>long</td><td>整型</td><td>8字節 (64 bit)</td><td>-9 223 372 036 854 776 808 ~ 9 223 372 036 854 775 807 <br>(-263 ~ 263-1)</td></tr><tr><td>float</td><td>浮點類型</td><td>4字節 (32 bit)</td><td>大約±3.402 823 47E + 38F(有效位數為6~7位)</td></tr><tr><td>double</td><td>浮點類型</td><td>8字節 (64 bit)</td><td>大約±1.797 693 134 862 315 70E + 308(有效位數為15位)</td></tr></tbody></table><ol><li>長整數型有一個後綴L (如4000000000L)</li><li>十六進制數值有一個後綴0x (如0xCAFE)</li><li>八進制有一個前綴 0 (如010)</li><li>二進制有一個前綴 0b (如0b1001)</li><li>Float類型的數值有一個後綴F (如 3.14F)</li></ol><h2 id="final-關鍵字"><a href="#final-關鍵字" class="headerlink" title="final 關鍵字"></a>final 關鍵字</h2><p>final關鍵字表示變量只能被賦值一次，一旦被賦值後，就不能被更改。<br>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Final <span class="keyword">double</span> CMCC = <span class="number">2.54</span></span><br></pre></td></tr></table></figure><p>如果希望某個常量可以在一個類中的多個方法中使用，稱這個常量為類常量。可以使用關鍵字static final 設置一個類常量，定義的位置在main方法外部。因此，同一個類的其他方法中也可以使用這個常量。如果一個常量被聲明為public，那麼其他類的方法也可以使用這個常量。</p><h2 id="運算符"><a href="#運算符" class="headerlink" title="運算符"></a>運算符</h2><p>在java中，算術運算符可以用+ - * / 來代表加減乘除。<br>當參與除(/)運算的兩個操作數為整數時，表示整數除法，答案為整數。否則，表示浮點除法。<br>求餘數可以用%<br>例如 10%3等於1，10%3.0等於1.0</p><p>注意：整數除以0將會產生一個異常，而浮點數除以0將會得到無窮大或NaN結果。</p><h2 id="i-和-i-的-區別"><a href="#i-和-i-的-區別" class="headerlink" title="i++ 和 ++i 的 區別"></a>i++ 和 ++i 的 區別</h2><ol><li>如果只是看i++和++i，這兩個是等價的，都等同於i=i+1，都是變量自身加1。</li><li>在一般情況下，它們都是跟賦值聯繫在一起。<br>比如：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br><span class="line">a=i++; <span class="comment">//將i的值賦值給a，即a=i；然後再執行i=i+1；</span></span><br><span class="line">也就是【a=i++;】與【a=i; i=i+<span class="number">1</span>;】等價。</span><br><span class="line">a=++i;<span class="comment">//將i+1的值賦給a,即a=i+1;然後再執行i=i+1；</span></span><br><span class="line">也就是【a=++i;】與【a=i+<span class="number">1</span>;i=i+<span class="number">1</span>;】等價。</span><br></pre></td></tr></table></figure><p>總結一下</p><ul><li>前置++是將自身加1的值賦值給新變量，同時自身也加1；</li><li>後置++是將自身的值賦給新變量，然後才自身加1.</li></ul><h2 id="關係運算符"><a href="#關係運算符" class="headerlink" title="關係運算符"></a>關係運算符</h2><p><strong>三元操作符</strong><br><code>Condition? expression1: expression2</code><br>當Condition為true時，計算或返回第一個表達式expression1，如果為false,則計算第二個表達式expression2.<br>如 x &lt;y ? x: y<br>返回x和y中較小的那個值。</p><h2 id="數值類型之間的轉換"><a href="#數值類型之間的轉換" class="headerlink" title="數值類型之間的轉換"></a>數值類型之間的轉換</h2><p>整型、實型（常量）、字符型數據可以混合運算。運算中，不同類型的數據先轉化為同一類型，然後進行運算。轉換過程中可能導致溢出或損失精度</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">低----------------------------------------------------------高</span><br><span class="line"><span class="keyword">byte</span>, <span class="keyword">short</span>, <span class="keyword">char</span>—&gt; <span class="keyword">int</span> —&gt; <span class="keyword">long</span>—&gt; <span class="keyword">float</span> —&gt; <span class="keyword">double</span></span><br></pre></td></tr></table></figure><h3 id="自動類型轉換"><a href="#自動類型轉換" class="headerlink" title="自動類型轉換"></a>自動類型轉換</h3><p>必須滿足轉換前的數據類型的位數要低於轉換後的數據類型。<br>自動轉換由低到高的順序轉換</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n = <span class="number">123456789</span>;</span><br><span class="line"><span class="keyword">float</span> f = n;<span class="comment">//f值為1.234567892E8</span></span><br></pre></td></tr></table></figure><p>當使用上面兩個數值進行二元操作時（例如 n+f  , n是整數，f是浮點數），先要將兩個操作數轉換為同一種類型，然後再進行計算。</p><ul><li><p>如果兩個操作數中有一個是double類型，另一個操作數就會轉換為double類型；</p></li><li><p>否則，如果其中一個操作數是float類型，另一個操作數將會轉換為float類型；</p></li><li><p>否則，如果其中一個操作數是long類型，另一個操作數將會轉換為long類型。</p></li><li><p>否則，兩個操作數都將被轉換為int類型。</p></li></ul><h3 id="強制類型轉換"><a href="#強制類型轉換" class="headerlink" title="強制類型轉換"></a>強制類型轉換</h3><p>高的向低的順序轉換</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">3.94</span>;</span><br><span class="line"><span class="keyword">int</span> y = (<span class="keyword">int</span>) x;</span><br></pre></td></tr></table></figure><p>x的結果為3，強制類型轉換通過截斷小數部分將浮點值轉為整型。<br>如果想要四捨五入，得到最接近的整數。可以使用Math.round方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">int</span> y = (<span class="keyword">int</span>) Math.round(x);</span><br></pre></td></tr></table></figure><p>結果為 4，當調用round時，仍然需要使用強制類型轉換(int).其原理是因為round方法返回的結果為long類型。由於存在信息丟失的可能性，所以只有使用顯式的強制類型轉換才能夠將long類型轉換成int類型。</p><p>不要在boolean類型與任何類型之間進行強制類型轉換，這樣可以防止發生錯誤。</p><h2 id="運算符優先級"><a href="#運算符優先級" class="headerlink" title="運算符優先級"></a>運算符優先級</h2><table><thead><tr><th>優先級</th><th>運算符</th><th>簡介</th><th>結合性</th></tr></thead><tbody><tr><td>1</td><td>[ ]、 .、 ( )</td><td>方法調用，屬性獲取</td><td>從左向右</td></tr><tr><td>2</td><td>!、~、 ++、 –</td><td>一元運算符</td><td>從右向左</td></tr><tr><td>3</td><td>* 、/ 、%</td><td>乘、除、取模（餘數）</td><td>從左向右</td></tr><tr><td>4</td><td>+ 、 -</td><td>加減法</td><td>從左向右</td></tr><tr><td>5</td><td>&lt;&lt;、 &gt;&gt;、 &gt;&gt;&gt;</td><td>左位移、右位移、無符號右移</td><td>從左向右</td></tr><tr><td>6</td><td>&lt; 、&lt;= 、&gt;、 &gt;=、 instanceof</td><td>小於、小於等於、大於、大於等於，對象類型判斷是否屬於同類型</td><td>從左向右</td></tr><tr><td>7</td><td>== 、!=</td><td>2個值是否相等，2個值是否不等於。 下面有詳細的解釋</td><td>從左向右</td></tr><tr><td>8</td><td>&amp;</td><td>按位與</td><td>從左向右</td></tr><tr><td>9</td><td>^</td><td>按位異或</td><td>從左向右</td></tr><tr><td>10</td><td>|</td><td>按位或</td><td>從左向右</td></tr><tr><td>11</td><td>&amp;&amp;</td><td>短路與</td><td>從左向右</td></tr><tr><td>12</td><td>||</td><td>短路或</td><td>從左向右</td></tr><tr><td>13</td><td>?:</td><td>條件運算符</td><td>從右向左</td></tr><tr><td>14</td><td>=、 += 、-= 、*= 、/=、 %=、 &amp;=、 |=、 ^=、 &lt;、&lt;= 、&gt;、&gt;= 、&gt;&gt;=</td><td>混合賦值運算符</td><td>從右向左</td></tr></tbody></table><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="子串substring"><a href="#子串substring" class="headerlink" title="子串substring"></a>子串substring</h3><p>String類的substring方法可以從一個較大的字符串提取出一個子串。</p><p><code>substring(a,b)</code></p><ul><li>a 表示開始的位置（從0開始計數）</li><li>b表示不想複製的第一個位置</li></ul><p>例如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String greeting = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">String s = greeting.substring(<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// s = hel</span></span><br><span class="line"><span class="comment">//從0開始計數，直到3位置，但是不包括3，所以返回 hel</span></span><br></pre></td></tr></table></figure><p>substring的一個優點：容易計算子串的長度，長度為b-a。<br>例如 hel的長度為 3-0=3</p><h3 id="檢測字符串是否相等"><a href="#檢測字符串是否相等" class="headerlink" title="檢測字符串是否相等"></a>檢測字符串是否相等</h3><p>可以使用equals來檢測兩個字符串是否相等。<br><code>s.equals(t)</code><br>如果相等，會返回true,否則，返回false. s和t可以是字符串變量，也可以是字符串常量。<br>eg: “hello”.equals(greeting)</p><p>檢測是否相等，而且不區分大小寫，可以使用equalsIgnoreCase方法。<br>eg: “hello”.equalsIgnoreCase(“HeLLO)</p><p>不能使用==運算符來檢測兩個字符串是否相同，這個運算符只能夠確定兩個字符串是否放置在同一個位置。</p><h3 id="空串和Null串"><a href="#空串和Null串" class="headerlink" title="空串和Null串"></a>空串和Null串</h3><p>空串是一個Java對象，有自己的串長度(0)和內容(空)。可以通過調用以下代碼檢查字符串是否為空。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(str.length()==<span class="number">0</span>)</span><br><span class="line">或</span><br><span class="line"><span class="keyword">if</span> (str.equals(<span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure><p><code>null</code>表示目前沒有任何對象與該變量關聯。可以通過調用以下代碼檢查字符串是否為null</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (str == <span class="keyword">null</span>)</span><br><span class="line">要檢測一個字符串既不是<span class="keyword">null</span>也不是空串：</span><br><span class="line"><span class="keyword">if</span> (str != <span class="keyword">null</span> &amp;&amp; str.length()!=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="length-與-charAt"><a href="#length-與-charAt" class="headerlink" title="length() 與 charAt()"></a>length() 與 charAt()</h3><p>length方法會返回採用UTF-16編碼表示的給定字符串所需的代碼單元數量。<br>想要得到實際的長度，即代碼點數量，可以調用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx.codePointCount(<span class="number">0</span>,xxx.length())</span><br></pre></td></tr></table></figure><p>調用s.chatAt(n)將返回位置n的代碼單元，n介於0~ s.length()-1 之間。<br>eg:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String greeting = <span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="keyword">char</span> first = greeting.charAt(<span class="number">0</span>);    <span class="comment">// first is H</span></span><br><span class="line"><span class="keyword">char</span> last = greeting.charAt(<span class="number">4</span>);  <span class="comment">// last is o</span></span><br></pre></td></tr></table></figure><p>想得到i個的代碼點，可以使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> index= greeting.offsetByCodePoints(<span class="number">0</span>,i);</span><br><span class="line"><span class="keyword">int</span> cp = greeting.codePonintAt(index);</span><br></pre></td></tr></table></figure><h2 id="輸入輸出"><a href="#輸入輸出" class="headerlink" title="輸入輸出"></a>輸入輸出</h2><h3 id="讀取輸入"><a href="#讀取輸入" class="headerlink" title="讀取輸入"></a>讀取輸入</h3><p>為了能夠讀取用户在控制枱的輸入，首先需要創建一個Scanner對象，並與“標準輸入流”System.in關聯。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scanner in = <span class="keyword">new</span> Scanner (System.in)</span><br></pre></td></tr></table></figure><ul><li>next()<br>  讀取到輸入有效的字符才會結束輸入，對於輸入有效的字符<strong>之前</strong>的空白會自動去掉，輸入有效的字符<strong>之後</strong>的空白作為分隔符或者結束符。next() 不能得到帶有空格的字符串。</li><li>nextLine()<br>  以enter為結束符，nextLine()可以得到帶有空格的字符串，不會去掉空白，會全盤輸出。</li><li>nextInt()<br>  得到int類型的數據。nextDouble(),nextFloat()以此類推。</li><li>boolean hasNext()<br>檢測輸入中是否有還有其他單詞。</li></ul><p>記得要<code>import java.util.*;</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Input_and_Output</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">    <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;what is your name :&quot;</span>);</span><br><span class="line">        String name = in.nextLine();</span><br><span class="line">        System.out.print(<span class="string">&quot;age :&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> age = in.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;the name is &quot;</span> + name + <span class="string">&quot;,the age is &quot;</span>+age);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//輸入結果：</span></span><br><span class="line"><span class="comment">//what is your name :jerry</span></span><br><span class="line"><span class="comment">//age :24</span></span><br><span class="line"><span class="comment">//the name is jerry,the age is 24</span></span><br></pre></td></tr></table></figure><h3 id="格式化輸出"><a href="#格式化輸出" class="headerlink" title="格式化輸出"></a>格式化輸出</h3><p>System.out.print(X)會將以x對應的數據類型所允許的最大非0數字位數打印輸出x</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">10000.0</span>/<span class="number">3.0</span>;</span><br><span class="line">System.out.print(x);  <span class="comment">// x = 3333.3333333333335</span></span><br></pre></td></tr></table></figure><p>為了能夠方便格式輸出結果，可以使用printf()。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">10000.0</span>/<span class="number">3.0</span>;</span><br><span class="line">System.out.printf(<span class="string">&quot;8.2f&quot;</span>,x);</span><br><span class="line"><span class="comment">// x = 3333.33 使用8個字符的寬度和小數點後兩位字符的精度打印x</span></span><br><span class="line"><span class="comment">// 因為小數點後2位，為3333.33。但是指定要8個字符的寬度，所以左邊會補一個空格</span></span><br><span class="line"><span class="comment">// x結果為（1個空格）3333.33</span></span><br></pre></td></tr></table></figure><p>用於printf的轉換符</p><table><thead><tr><th>轉換符</th><th>類型</th><th>舉例</th></tr></thead><tbody><tr><td>%s</td><td>字符串類型</td><td>“Hello”</td></tr><tr><td>%c</td><td>字符類型</td><td>‘H’</td></tr><tr><td>%b</td><td>布爾類型</td><td>true OR false</td></tr><tr><td>%d</td><td>整數類型（十進制）</td><td>10</td></tr><tr><td>%x</td><td>整數類型（十六進制）</td><td>9f</td></tr><tr><td>%o</td><td>整數類型（八進制）</td><td>237</td></tr><tr><td>%f</td><td>浮點類型</td><td>15.9</td></tr><tr><td>%a</td><td>十六進制浮點類型</td><td>0x1.fccdp3</td></tr><tr><td>%e</td><td>指數類型</td><td>6.23e+24</td></tr><tr><td>%g</td><td>通用浮點類型（f和e類型中較短的）</td><td>42.5000</td></tr><tr><td>%h</td><td>散列碼</td><td>42628b2</td></tr><tr><td>%%</td><td>百分比類型</td><td>％</td></tr><tr><td>%n</td><td>換行符</td><td>相當於”\n”換行作用</td></tr><tr><td>%tx</td><td>日期與時間類型（x代表不同的日期與時間轉換符）</td><td>見博文下表</td></tr></tbody></table><h3 id="大數值"><a href="#大數值" class="headerlink" title="大數值"></a>大數值</h3><p>如果基本的整數和浮點數精度不夠滿足需求，那麼可以使用java.math包中的兩個很有用的類：<strong>BigInteger</strong>和<strong>BigDecimal</strong>。這兩個類可以處理包含任意長度數字序列的數值。</p><ul><li>BigInteger 實現任意精度的整數運算</li><li>BigDecimal 實現任意精度的浮點數運算</li></ul><p>把普通的數值轉換成大數值，可以使用靜態的valueOf()方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BigInteger a = BigInteger.valueOf(<span class="number">100</span>);</span><br></pre></td></tr></table></figure><p>大數值的運算不能使用常用的算術運算符（如+，*）處理，而是要使用大數值類中的<code>add</code>和<code>multiply</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BigInteger c = a.add(b); <span class="comment">// c=a+b</span></span><br><span class="line">BigInteger d = c.multiply(b.add(BigInteger.valueOf(<span class="number">2</span>))); <span class="comment">// d = c*(b+2)</span></span><br></pre></td></tr></table></figure><p>其他的運算包括有 <code>subtract(減)</code>，<code>divide(除)</code>和<code>mod(餘數)</code></p><h2 id="數組"><a href="#數組" class="headerlink" title="數組"></a>數組</h2><h3 id="數組聲明"><a href="#數組聲明" class="headerlink" title="數組聲明"></a>數組聲明</h3><p>數組是一種數據結構，用來存儲同一類型值的集合</p><p>數組聲明方式:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array 或者<span class="keyword">int</span> array[]</span><br></pre></td></tr></table></figure><p>數組初始化</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span>[] arry = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>}</span><br><span class="line"><span class="keyword">int</span>[] array = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>}</span><br></pre></td></tr></table></figure><p>創建一個數字數組時，所有的元素都初始化為0。<br>boolean數組的元素會初始化為false<br>對象數組的元素會初始化為一個特殊值null</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Array</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span>[] test = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;test.length;i++) {</span><br><span class="line">  System.out.println(test[i]);}</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>輸出的結果會是： 0 0 0 0 0</p><p><strong>重要：</strong><br>一旦創據數組，就不能再改變數組的大小。如果需要在運行中擴展數組的大小，則需要使用另一種數據結構——數組列表（array list)</p><h3 id="for-each循環"><a href="#for-each循環" class="headerlink" title="for each循環"></a>for each循環</h3><p>Java有一種很強的循環結構，可以用來依次處理數組中的每個元素而不必為指定下標值而分心。</p><p>格式：<br><code>for(variable:collection) statement</code><br>定義一個變量用於暫存集合中的每一個元素，並執行相應的語句。<br>collection這一集合表達式必須必須是一個數組或者是一個實現了Iterable接口的類對象（例如Arraylist)。<br>eg:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> element ：a)</span><br><span class="line">  System.out.println(element)  </span><br><span class="line">  <span class="comment">//打印數組a的每一個元素，一個元素佔一行</span></span><br><span class="line">  <span class="comment">// for each element in a</span></span><br></pre></td></tr></table></figure><h3 id="數組拷貝"><a href="#數組拷貝" class="headerlink" title="數組拷貝"></a>數組拷貝</h3><p>在java中，允許將一個數組變量拷貝到給另一個數組變量。這時，兩個變量將引用同一個數組</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = {<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">12</span>};</span><br><span class="line"><span class="keyword">int</span>[] b = a;</span><br><span class="line">a[<span class="number">5</span>] = <span class="number">12</span> <span class="comment">// b[2] = 12</span></span><br></pre></td></tr></table></figure><p>如果想將一個數組的所有值拷貝到一個新的數組去，使用Arrays類的copyTo方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] copieda = Arrays.copyTo(a,a.length);</span><br></pre></td></tr></table></figure><p>第二個參數是新數組的長度，可以通過這個方法來增加數組的大小。<br>eg: <code>Arrays.copyTo(a,2*a.length);</code> 增加到2倍大<br>如果數組元素是數字數組時，多餘的元素都賦值為0。<br>如果數組元素是boolean數組，多餘的元素會賦值為false<br>如果數組元素是對象數組的元素，多餘的元素賦值為特殊值null<br>如果長度小於原始數組的長度，則只拷貝前面的數據元素</p><h3 id="數組排序"><a href="#數組排序" class="headerlink" title="數組排序"></a>數組排序</h3><p>想要對數組排序，可以使用Arrays類的sort方法<code>Arrays.sort(數組a)</code></p><p>抽獎遊戲</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LotteryDrawing</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">//抽獎遊戲，設置總數n和抽取的數k,隨機抽取</span></span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;how many numbers do you need to draw?&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> k = in.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;what is the highest number you can draw?&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> n = in.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 給 總數賦值</span></span><br><span class="line">        <span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt; numbers.length;i++) {</span><br><span class="line">          numbers[i]= i+<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;result.length;i++) {</span><br><span class="line"></span><br><span class="line">          <span class="keyword">int</span> r = (<span class="keyword">int</span>)(Math.random()*n); <span class="comment">//隨機抽取</span></span><br><span class="line">          result[i] = numbers[r];    <span class="comment">//把抽取的值賦給result</span></span><br><span class="line"></span><br><span class="line">          numbers[r]=numbers[n-<span class="number">1</span>]; <span class="comment">//避免抽到相同的數，把最尾的值賦給被抽到的值</span></span><br><span class="line">          n--;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        Arrays.sort(result); <span class="comment">//排序</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Bet the foolowing combination. It&apos;ll make you rich!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r:result)</span><br><span class="line">          System.out.println(r);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="多維數組（矩陣）"><a href="#多維數組（矩陣）" class="headerlink" title="多維數組（矩陣）"></a>多維數組（矩陣）</h3><p>多維數組適用於表示表格或者更加複雜的排列方式。</p><h4 id="聲明和初始化"><a href="#聲明和初始化" class="headerlink" title="聲明和初始化"></a>聲明和初始化</h4><p>聲明：<code>type arrayName[][]</code>或者<code>type[][] arrayName</code><br>初始化：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- balance=<span class="keyword">new</span> <span class="keyword">double</span>[rownumber][columnNumber]</span><br><span class="line">- <span class="keyword">int</span>[][] abc = {{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>},{<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>},{<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>}}</span><br></pre></td></tr></table></figure><p>Java語言中，由於把二維數組看作是數組的數組，數組空間不是連續分配的，所以不要求二維數組每一維的大小相同。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio Code 插件推薦-VSC Netease Music</title>
      <link href="/posts/86e73295/"/>
      <url>/posts/86e73295/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/1.png" class="lozad"></p><p>最近在微博上看到有一位科技博主推薦了一款Visual Studio Code插件,名字叫做 VSC Netease Music。<br>Visual Studio Code的插件真是越來越多樣化，看漫畫、看小説，現在連聼音樂也都有了。<br>這款插件對我來説最吸引的，應該就是無地區版權限制了。畢竟因為版權原因，網易雲音樂早就把我拒之門外了。</p><h2 id="插件簡介"><a href="#插件簡介" class="headerlink" title="插件簡介"></a>插件簡介</h2><p>插件是一位叫做<a href="https://github.com/nondanee" rel="external nofollow noopener noreferrer" target="_blank">nondanee</a>的第三方開發者開發的。</p><blockquote><p>插件github地址: <a href="https://github.com/nondanee/vsc-netease-music" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/nondanee/vsc-netease-music</a><br>插件marketplace: <a href="https://marketplace.visualstudio.com/items?itemName=nondanee.vsc-netease-music" rel="external nofollow noopener noreferrer" target="_blank">https://marketplace.visualstudio.com/items?itemName=nondanee.vsc-netease-music</a></p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/2.gif" class="lozad"></p><h2 id="插件功能"><a href="#插件功能" class="headerlink" title="插件功能"></a>插件功能</h2><ul><li>發現音樂 (歌單 / 新歌 / 排行榜)</li><li>搜索 (單曲 / 歌手 / 專輯 / 歌單)</li><li>用户登錄 (手機號 / 郵箱)</li><li>用户收藏 (歌單 / 歌手 / 專輯)</li><li>每日歌曲推薦 / 推薦歌單 / 私人 FM</li><li>喜歡音樂 / 收藏音樂</li><li>播放模式切換 / 音量調節</li><li>逐行歌詞</li><li>熱門評論</li><li>快捷鍵支持</li><li>聽歌記錄 (不確定有效)</li><li>無海外限制</li></ul><h2 id="插件需求"><a href="#插件需求" class="headerlink" title="插件需求"></a>插件需求</h2><p>我在電腦上可以正常地使用<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/3.png" class="lozad"><br>但是Github上看到可能需要替換一些文件才可以正常使用。</p><p><strong>Github原文:</strong></p><p>VS Code for Windows 自 1.31.0 起自帶完整的 ffmpeg 動態鏈接庫 (可能是 bug)，無需替換；macOS 與 Linux 平台仍需替換。</p><p>VS Code 使用的 Electron 版本不包含 ffmpeg，需替換自帶的 ffmpeg 動態鏈接庫才能正常播放 (每次更新 VS Code 都需重新替換)</p><h3 id="手動替換"><a href="#手動替換" class="headerlink" title="手動替換"></a>手動替換</h3><p>通過 VS Code 版本在 <a href="https://raw.githubusercontent.com/Microsoft/vscode/%version%/.yarnrc" rel="external nofollow noopener noreferrer" target="_blank">https://raw.githubusercontent.com/Microsoft/vscode/%version%/.yarnrc</a> 查看其使用的 Electron 版本，並於 <a href="https://github.com/electron/electron/releases/tag/%version%" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/electron/electron/releases/tag/%version%</a> 下載對應的 Electron 完整版本進行替換</p><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下載 electron-%version%-win32-%arch%.zip</span><br><span class="line">替換 ./ffmpeg.dll</span><br></pre></td></tr></table></figure><h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下載 electron-%version%-darwin-x64.zip</span><br><span class="line">替換 ./Electron.app/Contents/Frameworks/Electron\ Framework.framework/Libraries/libffmpeg.dylib</span><br></pre></td></tr></table></figure><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下載 electron-%version%-linux-%arch%.zip</span><br><span class="line">替換 ./libffmpeg.so</span><br></pre></td></tr></table></figure><h3 id="自動替換"><a href="#自動替換" class="headerlink" title="自動替換"></a>自動替換</h3><p>使用 Python 腳本替換 (Python 2/3 均可，絕大部分發行版自帶環境)</p><p>默認安裝位置下 Linux 和 Windows 需要以管理員身份運行，macOS 不需要</p><h4 id="Windows-Powershell"><a href="#Windows-Powershell" class="headerlink" title="Windows Powershell"></a>Windows Powershell</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Invoke-RestMethod https://gist.githubusercontent.com/nondanee/f157bbbccecfe29e48d87273cd02e213/raw | python</span><br></pre></td></tr></table></figure><h4 id="Unix-Shell"><a href="#Unix-Shell" class="headerlink" title="Unix Shell"></a>Unix Shell</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://gist.githubusercontent.com/nondanee/f157bbbccecfe29e48d87273cd02e213/raw | python</span><br></pre></td></tr></table></figure><p>如果 VS Code 使用默認配置安裝，腳本會自動尋找並替換，若自定義了安裝位置，請自行修改 installation</p><h2 id="插件用法"><a href="#插件用法" class="headerlink" title="插件用法"></a>插件用法</h2><p>按<strong>F1</strong>或者<strong>Ctrl Shift P</strong>打開命令面板</p><p>輸入命令前綴 <code>網易雲音樂</code> 或 <code>NeteaseMusic</code>就可以使用。<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/4.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/5.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/6.png" class="lozad"></p><p>界面底部還會顯示歌詞和操作欄<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/VSC_Netease_Music/7.png" class="lozad"></p><p>一邊編程，一邊聽歌，是一種很享受的行為，不用另外開多一個音樂軟件。<br>不過涉及到音樂版權問題，這款插件感覺命不久矣。</p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 插件 </tag>
            
            <tag> Visual Studio Code </tag>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重裝系統後重新部署恢復 Hexo blog</title>
      <link href="/posts/dda8c81b/"/>
      <url>/posts/dda8c81b/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>以下方法只適用於沒有刪除 hexo blog 文件夾</p></blockquote><p>因為重裝系統後，Hexo 相關依賴插件/軟件和在 C 盤的緩存資料都會被刪除，以至於 Hexo 的相關命令都無法運行。所有，在重裝系統後，都要重新部署 Hexo。但是重新部署並不難，只需要幾個步驟就行。<br>因為我的 hexo blog 文件夾不存儲於 C 盤，並沒有因為重裝系統被刪掉。所有重新部署很容易。</p><h2 id="安裝-git-和-node"><a href="#安裝-git-和-node" class="headerlink" title="安裝 git 和 node"></a>安裝 git 和 node</h2><p>git for windows: <a href="https://git-scm.com/" rel="external nofollow noopener noreferrer" target="_blank">https://git-scm.com/</a><br>Node.js: <a href="https://nodejs.org/en/" rel="external nofollow noopener noreferrer" target="_blank">https://nodejs.org/en/</a></p><h2 id="生成-ssh-密鑰"><a href="#生成-ssh-密鑰" class="headerlink" title="生成 ssh 密鑰"></a>生成 ssh 密鑰</h2><p>配置 git 個人信息和生成 ssh 密鑰<br>打開 git bash，輸入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;xxxxx&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;xxxxxx@xx.com&quot;</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;xxxxxx@xx.com&quot;</span></span><br></pre></td></tr></table></figure><p>把上面的 xxxx 換成自己的資料，然後一直 Enter 就行。</p><h2 id="設置-Github-的-ssh-密鑰"><a href="#設置-Github-的-ssh-密鑰" class="headerlink" title="設置 Github 的 ssh 密鑰"></a>設置 Github 的 ssh 密鑰</h2><p>當上面的運行完成後，會在 <code>C:\Users\主用户</code>裏出現<code>.ssh</code>文件夾，裏面有 id_rsa 和 id_rsa.pub 兩個文件，複製 id_rsa.pub 的內容。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Rebuild_hexo_when_reinstall_the_system/1.png" class="lozad"></p><p>打開 Github 網頁，依次是 <code>右上角Settings - SSH and GPG keys - New SSH key</code> 把複製的內容粘貼到 <code>Key</code>欄，然後保存。<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Rebuild_hexo_when_reinstall_the_system/2.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Rebuild_hexo_when_reinstall_the_system/3.png" class="lozad"></p><p>PS：如果你有把 blog 同步到 coding 的，記得同樣把 id_rsa.pub 的內容複製到 coding 的 ssh 公鑰去，具體為<code>右上角個人設置 － SSH公鑰 - 新增公鑰</code><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Rebuild_hexo_when_reinstall_the_system/4.png" class="lozad"></p><h2 id="安裝-Hexo"><a href="#安裝-Hexo" class="headerlink" title="安裝 Hexo"></a>安裝 Hexo</h2><p>git bash 上 輸入 <code>npm install hexo-cli -g</code></p><h2 id="刪掉原-blog-文件夾部分文件"><a href="#刪掉原-blog-文件夾部分文件" class="headerlink" title="刪掉原 blog 文件夾部分文件"></a>刪掉原 blog 文件夾部分文件</h2><p>打開你原有的 blog 文件夾，只需保留_config.yml，theme/，source/，scaffolds/，package.json，.gitignore 這些項目，刪除其他的文件。</p><h2 id="安裝依賴文件"><a href="#安裝依賴文件" class="headerlink" title="安裝依賴文件"></a>安裝依賴文件</h2><p>git bash 上 輸入 <code>npm install</code></p><h2 id="安裝部署插件"><a href="#安裝部署插件" class="headerlink" title="安裝部署插件"></a>安裝部署插件</h2><p>git bash 上 輸入 <code>npm install hexo-deployer-git --save</code></p><p>最後 運行 hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 看看是否成功。</p><blockquote><p>本文章參考 <a href="https://helloqingfeng.github.io/2017/02/25/hexo-rebuilding/" rel="external nofollow noopener noreferrer" target="_blank">https://helloqingfeng.github.io/2017/02/25/hexo-rebuilding/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 主題 </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows上Java的環境變量配置</title>
      <link href="/posts/aa98736e/"/>
      <url>/posts/aa98736e/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>對於開發者來說，Java是電腦上必備安裝的軟件。安裝Java不單單只是安裝jdk就可以，還要配置Java的環境變量。這篇文章主要是介紹如何配置Java的環境變量。</p><blockquote><p>電腦系統： Windows 10 1809<br>Java版本： 1.8.0_181</p></blockquote><h2 id="安装Java"><a href="#安装Java" class="headerlink" title="安装Java"></a>安装Java</h2><p>第一步当然是安装Java文件。Java現在已經發現到Java11了，不一定要安裝最新的版本，可以根據自己的需要安裝對應的版本。<br>本文安裝的 Java SE 8u181<br>下載Java可以到oracle的官網：<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="external nofollow noopener noreferrer" target="_blank">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p><h2 id="新建Java-Home變量"><a href="#新建Java-Home變量" class="headerlink" title="新建Java_Home變量"></a>新建Java_Home變量</h2><p>右鍵This PC(即此電腦)，選擇Properties(屬性)選項。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/1.png" class="lozad"></p><p>點擊左邊欄的Advanced sysyem settings(高級系統設置)，點擊下面的Environment Variables(環境變量)</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/2.png" class="lozad"></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/3.png" class="lozad"></p><p>點擊System variable(系統變量)下的New(新建)。</p><blockquote><p>Variable name(變量名) 填爲 Java_Home<br>Variable value(變量值) 爲Java的安裝路徑。例如我的是 C:\Program Files\Java\jdk1.8.0_181<br>然後點擊OK(確定)</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/4.png" class="lozad"></p><h2 id="編輯-Path變量"><a href="#編輯-Path變量" class="headerlink" title="編輯 Path變量"></a>編輯 Path變量</h2><p>在System variable(系統變量)下找到<code>Path</code>並雙擊。<br>在打開的窗口中點擊右邊的編輯文本。<br>把 <code>%Java_Home%\bin;%Java_Home%\jre\bin;</code> 複製到 Variable value(變量值) 的開頭並保存。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/5.png" class="lozad"></p><h2 id="新建-CLASSPATH"><a href="#新建-CLASSPATH" class="headerlink" title="新建 CLASSPATH"></a>新建 CLASSPATH</h2><p>點擊System variable(系統變量)下的New(新建)。</p><blockquote><p>Variable name(變量名) 填爲 CLASSPATH<br>Variable value(變量值) 填爲  .;%Java_Home%\bin;%Java_Home%\lib\dt.jar;%Java_Home%\lib\tools.jar<br>然後點擊OK(確定)</p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/6.png" class="lozad"></p><h2 id="測試"><a href="#測試" class="headerlink" title="測試"></a>測試</h2><p>上面已經把相關的環境變量給配置好了，接下來測試下是否配置正確。<br>打開CMD或者PowerShell</p><p>輸入<code>Java</code></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/7.png" class="lozad"></p><p>接着輸入 <code>java -version</code></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/8.png" class="lozad"></p><p>接着輸入 <code>javac</code></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/setting_up_enviromental_variables_in_windows10/9.png" class="lozad"></p><p>如果你的結果跟上面圖片的結果一樣或者相似的話，恭喜你，Java的環境變量配置已經成功了。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Windows </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Adapter</title>
      <link href="/posts/d6615de0/"/>
      <url>/posts/d6615de0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Adapter 只是一個接口，其派生了ListAdapter和SpinnerAdater兩個子接口。<br>ListAdater為AbsListView提供列表項,SpinnerAdater為AbsSpinner提供列表項。<br>以下是Adapter相關類的關係圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Adapter/1.png" class="lozad"></p><p>Adapter常用的實現類:</p><ul><li>ArrayAdapter: 通常用於將數組或者List集合的多個值包裝成多個列表項。</li><li>SimpleAdapter: 用於將List集合的多個對象包裝成多個列表項。</li><li>SimpleCursorAdapter: 與SimpleAdapter基本相似,只是用於包裝Cursor提供的數據。</li><li>BaseAdapter: 通常用於被擴展。擴展BaseAdapter可以對各列表項進行最大限度地定製。</li></ul><h2 id="使用ArrayAdapter創建ListView"><a href="#使用ArrayAdapter創建ListView" class="headerlink" title="使用ArrayAdapter創建ListView"></a>使用ArrayAdapter創建ListView</h2><p><strong>修改<code>activity_main.xml</code></strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/list1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:divider</span>=<span class="string">&quot;#f00&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dividerHeight</span>=<span class="string">&quot;2px&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:headerDividersEnabled</span>=<span class="string">&quot;false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/list2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:divider</span>=<span class="string">&quot;#0f0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:dividerHeight</span>=<span class="string">&quot;2px&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:headerDividersEnabled</span>=<span class="string">&quot;false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>android:divider:</code> 可以實現分割線,可以用圖片或者顏色<br><code>android:dividerHeight</code> 設置分割線的高度<br><code>android:headerDividersEnabled</code> 是否顯示頭部的分割線，默認是true</p><p><strong>修改MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        ListView list1 = (ListView) findViewById(R.id.list1);</span><br><span class="line">        String [] arr1 = {<span class="string">&quot;孫悟空&quot;</span>,<span class="string">&quot;豬八戒&quot;</span>,<span class="string">&quot;牛魔王&quot;</span>};</span><br><span class="line">        ArrayAdapter&lt;String&gt; adapter1 = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,R.layout.array_item,arr1);</span><br><span class="line"></span><br><span class="line">        list1.setAdapter(adapter1);</span><br><span class="line">        ListView list2 = (ListView) findViewById(R.id.list2);</span><br><span class="line">        String[] arr2 = { <span class="string">&quot;java&quot;</span>,<span class="string">&quot;hibernate&quot;</span>,<span class="string">&quot;spring&quot;</span>,<span class="string">&quot;android&quot;</span>};</span><br><span class="line">        ArrayAdapter&lt;String&gt; adapter2 = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,R.layout.checked_item,arr2);</span><br><span class="line">        list2.setAdapter(adapter2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><code>ArrayAdapter&lt;String&gt; adapter1 = new ArrayAdapter&lt;String&gt;(this,R.layout.array_item,arr1);</code></p><p>ArrayAdapter傳入了三個參數:</p><ul><li><p>Context: 代表了訪問整個Android應用的接口。</p></li><li><p>textViewResourceId: 一個TextView的資源ID,該TextView組件將作為ArrayAdapter的列表項組件。</p></li><li><p>數組或者List: 提供數據。</p></li></ul><p>以上代碼可以看到,該數組或List包含多少個元素，就將會生成多少個列表項，每個列表項都是TextView組件。<br>arr1有三個數據,則會生成一個包含三個列表項的ArrayAdapter,每個列表項的組件外觀由R.layout.array_item佈局文件(該佈局文件只是一個TextView)控制。</p><p><strong>新建array_item.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/TextView&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textSize</span>=<span class="string">&quot;24dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">&quot;10px&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowColor</span>=<span class="string">&quot;#f0f&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowDx</span>=<span class="string">&quot;4&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowDy</span>=<span class="string">&quot;4&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:shadowRadius</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>TextView-shadow 陰影實現方式</p><ul><li><p>android:shadowColor：陰影的顏色</p></li><li><p>android:shadowDx：水平方向上的偏移量</p></li><li><p>android:shadowDy：垂直方向上的偏移量</p></li><li><p>android:shadowRadius：是陰影的的半徑大小,值也大，陰影越大</p></li></ul><p><strong>新建 checked_item.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">CheckedTextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/checktextview&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textSize</span>=<span class="string">&quot;24dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">&quot;10px&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:checked</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:checkMark</span>=<span class="string">&quot;?android:listChoiceIndicatorMultiple&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure><p>運行結果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Adapter/2.png" class="lozad"></p><h2 id="基於ListActivity實現列表"><a href="#基於ListActivity實現列表" class="headerlink" title="基於ListActivity實現列表"></a>基於ListActivity實現列表</h2><p>如果程序僅僅只是顯示一個列表，那麼可以無需通過設置xml來實現，而是直接讓Activity繼承ListActivity來實現。</p><p><strong>修改MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main2Activity</span> <span class="keyword">extends</span> <span class="title">ListActivity</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        String[] atr = {<span class="string">&quot;孫悟空&quot;</span>,<span class="string">&quot;豬八戒&quot;</span>,<span class="string">&quot;牛魔王&quot;</span>};</span><br><span class="line">        ArrayAdapter &lt;String&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,android.R.layout.simple_list_item_multiple_choice,atr);</span><br><span class="line">        setListAdapter(adapter);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>可以看到,不用使用setContentView()去調用佈局文件。</p><p>運行結果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Adapter/3.png" class="lozad"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Adapter </tag>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>9Patch 介紹</title>
      <link href="/posts/777fb9e9/"/>
      <url>/posts/777fb9e9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="9Patch圖片介紹"><a href="#9Patch圖片介紹" class="headerlink" title="9Patch圖片介紹"></a>9Patch圖片介紹</h1><p>9Patch圖片是一種特殊的png圖片,以.9.png結尾,它在原始的圖片四周各添加一個寬度為1像素的像條,這4條線條決定了該圖片的縮放規則、內容顯示規則。</p><p>在Android Studio 上編輯<code>.9.png</code>,具體是在Android Studio上右鍵點擊你要編輯的照片,選擇<code>Create 9-Patch file</code>就可以進入編輯界面。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png1.png" class="lozad"></p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png2.png" class="lozad"></p><p>這就是9-Patch的編輯界面</p><p>Optional controls include:</p><ul><li>Zoom: Adjust the zoom level of the graphic in the drawing area.</li><li>Patch scale: Adjust the scale of the images in the preview area.</li><li>Show lock: Visualize the non-drawable area of the graphic on mouse-over.</li><li>Show patches: Preview the stretchable patches in the drawing area (pink is a stretchable patch), as shown in figure 2, above.</li><li>Show content: Highlight the content area in the preview images (purple is the area in which content is allowed), as shown in figure 2.</li><li>Show bad patches: Adds a red border around patch areas that may produce artifacts in the graphic when stretched, as shown in figure 2. Visual coherence of your stretched image will be maintained if you eliminate all bad patches.</li></ul><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png3.png" class="lozad"></p><p>這3個從上到下依次是</p><ul><li>縱向拉伸的預覽</li><li>橫線拉伸的預覽</li><li>縱橫向一起拉伸的預覽</li></ul><p>9Patch的規則：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png4.png" class="lozad"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png5.png" class="lozad"></p><ul><li><p>上側和左側的黑色線段共同決定了圖片的縮放區域</p><ul><li>上側的黑色線段為上邊界繪製巨型,它覆蓋的區域可以水平縮放。</li><li>左側的黑色線段為左邊界繪製巨型,它覆蓋的區域可以縱向上縮放。</li><li>它們二者的交集區域可以在兩個方向上縮放</li></ul></li><li><p>下側和右側的黑色線段共同決定了圖片的內容顯示區域</p><ul><li>以下側的黑色線段為下邊界繪製巨型</li><li>以右側的黑色線段為右邊界繪製巨型</li><li>它們二者的交集區域為內容顯示區域</li></ul></li></ul><h1 id="9Patch-相關文章"><a href="#9Patch-相關文章" class="headerlink" title="9Patch 相關文章"></a>9Patch 相關文章</h1><h2 id="Android設計中如何切圖-9-png（點9圖）"><a href="#Android設計中如何切圖-9-png（點9圖）" class="headerlink" title="Android設計中如何切圖.9.png（點9圖）"></a>Android設計中如何切圖.9.png（點9圖）</h2><blockquote><p>轉自: <a href="http://www.miued.com/2074/" rel="external nofollow noopener noreferrer" target="_blank">http://www.miued.com/2074/</a></p></blockquote><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/1.png" class="lozad"></p><p>在Android的設計過程中,為了適配不同的手機分辨率,圖片大多需要拉伸或者壓縮,這樣就出現了可以任意調整大小的一種圖片格式“.9.png”。這種圖片是用於Android開發的一種特殊的圖片格式,它的好處在於可以用簡單的方式把一張圖片中哪些區域可以拉伸,哪些區域不可以拉伸設定好,同時可以把顯示內容區域的位置標示清楚。<br>本文結合一些具體的例子來看下.9.png的具體用法。</p><p>首先看下普通的.png資源與.9.png的資源區別：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/2.png" class="lozad"></p><p>普通的png資源就不多介紹了,可以明顯看到.9.png的外圍是有一些黑色的線條的,那這些線條是用來做什麼的呢？我們來看下放大的圖像：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/3.png" class="lozad"></p><p>放大後可以比較明顯的看到上下左右分別有一個像素的黑色線段,這裏分別標註了序號。簡單來説,序號1和2標識了可以拉伸的區域,序號3和4標識了內容區域。當設定了按鈕實際應用的寬和高之後,橫向會拉伸1區域的像素,縱向會拉伸2區域的像素。如下圖：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/5.png" class="lozad"></p><p>拉伸的含義應該比較容易理解,但是內容區域的標註有什麼意義呢？我們來看下圖：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/6.png" class="lozad"></p><p>這裏程序設置的文字垂直居中,水平居左的對齊方式。對齊方式是沒有問題的,但是對於這種大圓角同時又有些不規則邊框的的圖形來説,錯誤的標註方式會讓排版看起來很混亂。所以我們需要修正內容區域的線段位置和長度。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/7.png" class="lozad"></p><p>把橫向的內容區域縮短到圓角以內,縱向的內容區域控制在輸入框的高度以內,這樣文字就可以正常顯示了。</p><p>這裏還有一種特殊情況,就是本身是.9.png的資源,但是在修改過程中你希望這張.9.png不能被拉伸（在做皮膚的情況中有可能會遇到）,那怎麼辦呢？只要把拉伸區域的點點在透明像素的地方就可以了,這樣拉伸的時候會拉伸透明部分的像素,而不會拉伸圖像本身。如下圖:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/8.png" class="lozad"></p><p>大家可以看到拉伸區域的黑點是可以不連續的。</p><p>説了半天.9.png的用法,那.9.png如何輸出呢？有很多種方式可以輸出.9.png,比如説用draw9patch.bat這個工具,或者簡單一點,用photoshop直接輸出。輸出的方式是先輸出普通的png資源,然後擴大畫布大小,上下左右各空出一個像素,再用一個像素的鉛筆工具（顏色選擇純黑色）,上下左右分別畫點就可以了,保存的時候注意把後綴修改為.9.png。<br>有兩點需要特別注意下：<br>1.最外圍的一圈像素必須要麼是純黑色,要麼是透明,一點點的半透明的像素都不可以有,比如説99%的黑色或者是1%的投影都不可以有;<br>2.文件的後綴名必須是.9.png,不能是.png或者是.9.png.png,這樣的命名都會導致編譯失敗。</p><h2 id="A-simple-guide-to-9-patch-for-Android-UI"><a href="#A-simple-guide-to-9-patch-for-Android-UI" class="headerlink" title="A simple guide to 9-patch for Android UI"></a>A simple guide to 9-patch for Android UI</h2><blockquote><p>轉自:<a href="http://radleymarx.com/ux-dev/simple-guide-to-9-patch/" rel="external nofollow noopener noreferrer" target="_blank">http://radleymarx.com/ux-dev/simple-guide-to-9-patch/</a></p></blockquote><p>While I was working on my first Android app, I found 9-patch (aka 9.png) to be confusing and poorly documented. After a little while, I finally picked up on how it works and decided to throw together something to help others figure it out.</p><p>Basically, 9-patch uses png transparency to do an advanced form of 9-slice or scale9. The guides are straight, 1-pixel black lines drawn on the edge of your image that define the scaling and fill of your image. By naming your image file name.9.png, Android will recognize the 9.png format and use the black guides to scale and fill your bitmaps.</p><p>Here’s a basic guide map:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9.png" class="lozad"></p><p>9-patch-guides</p><p>As you can see, you have guides on each side of your image. The TOP and LEFT guides are for scaling your image (i.e. 9-slice), while the RIGHT and BOTTOM guides define the fill area.</p><p>The black guide lines are cut-off/removed from your image - they won’t show in the app.  Guides must only be one pixel wide, so if you want a 48x48 button, your png will actually be 50x50. Anything thicker than one pixel will remain part of your image. (My examples have 4-pixel wide guides for better visibility. They should really be only 1-pixel).</p><p>Your guides must be solid black (#000000). Even a slight difference in color (#000001) or alpha will cause it to fail and stretch normally. This failure won’t be obvious either*, it fails silently! Yes. Really. Now you know.</p><p>Also you should keep in mind that remaining area of the one-pixel outline must be completely transparent. This includes the four corners of the image - those should always be clear. This can be a bigger problem than you realize. For example, if you scale an image in Photoshop it will add anti-aliased pixels which may include almost-invisible pixels which will also cause it to fail*. If you must scale in Photoshop, use the Nearest Neighbor setting in the Resample Image pulldown menu (at the bottom of the Image Size pop-up menu) to keep sharp edges on your guides.</p><p> This is actually a “fix” in the latest dev kit. Previously it would manifest itself as all of your other images and resources suddenly breaking, not the actually broken 9-patch image.</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/10.png" class="lozad"></p><p>scalable-area</p><p>The TOP and LEFT guides are used to define the scalable portion of your image - LEFT for scaling height, TOP for scaling width. Using a button image as an example, this means the button can stretch horizontally and vertically within the black portion and everything else, such as the corners, will remain the same size. The allows you to have buttons that can scale to any size and maintain a uniform look.</p><p>It’s important to note that 9-patch images don’t scale down - they only scale up. So it’s best to start as small as possible.</p><p>Also, you can leave out portions in the middle of the scale line. So for example, if you have a button with a sharp glossy edge across the middle, you can leave out a few pixels in the middle of the LEFT guide. The center horizontal axis of your image won’t scale, just the parts above and below it, so your sharp gloss won’t get anti-aliased or fuzzy.</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/11.png" class="lozad"></p><p>Fill area guides are optional and provide a way define the area for stuff like your text label. Fill determines how much room there is within your image to place text, or an icon, or other things. 9-patch isn’t just for buttons, it works for background images as well.</p><p>The above button &amp; label example is exaggerated simply to explain the idea of fill - the label isn’t completely accurate. To be honest, I haven’t experienced how Android does multi-line labels since a button label is usually a single row of text.</p><p>Finally, here’s a good demonstration of how scale and fill guides can vary, such as a LinearLayout with a background image &amp; fully rounded sides:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/12.jpg" class="lozad"></p><p>With this example, the LEFT guide isn’t used but we’re still required to have a guide. The background image don’t scale vertically; it just scales horizontally (based on the TOP guide). Looking at the fill guides, the RIGHT and BOTTOM guides extend beyond where they meet the image’s curved edges. This allows me to place my round buttons close to the edges of the background for a tight, fitted look.</p><p>So that’s it. 9-patch is super easy, once you get it. It’s not a perfect way to do scaling, but the fill-area and multi-line scale-guides does offer more flexibility than traditional 9-slice and scale9. Give it a try and you’ll figure it out quickly.</p><h2 id="其他資料"><a href="#其他資料" class="headerlink" title="其他資料"></a>其他資料</h2><ol><li><a href="https://developer.android.com/studio/write/draw9patch" rel="external nofollow noopener noreferrer" target="_blank">Create resizable bitmaps (9-Patch files)</a></li><li><a href="https://developer.android.com/guide/topics/graphics/drawables#nine-patch" rel="external nofollow noopener noreferrer" target="_blank">Drawables overview</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> 9Patch </tag>
            
            <tag> UI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-RecyclerView</title>
      <link href="/posts/7029147f/"/>
      <url>/posts/7029147f/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView" rel="external nofollow noopener noreferrer" target="_blank">RecyclerView</a>是Android一個更強大的控件,其不僅可以實現和ListView同樣的效果,還有優化了ListView中的各種不足。其可以實現數據縱向滾動,也可以實現橫向滾動(ListView做不到橫向滾動)。接下來講解RecyclerView的用法。</p><h1 id="RecyclerView-基本用法"><a href="#RecyclerView-基本用法" class="headerlink" title="RecyclerView 基本用法"></a>RecyclerView 基本用法</h1><p>因為<code>RecyclerView</code>屬於新增的控件,Android將RecyclerView定義在support庫裏。若要使用RecyclerView,第一步是要在<code>build.gradle</code>中添加對應的依賴庫。</p><h2 id="添加RecyclerView-依賴庫"><a href="#添加RecyclerView-依賴庫" class="headerlink" title="添加RecyclerView 依賴庫"></a>添加RecyclerView 依賴庫</h2><p>在<code>app/build.gradle</code>中的<code>dependencies閉包</code>添加以下內容：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&apos;com.android.support:recyclerview-v7:27.1.1&apos;</span></span><br></pre></td></tr></table></figure><p>然後點擊頂部的Sync Now進行同步</p><h2 id="修改-activity-main-xml"><a href="#修改-activity-main-xml" class="headerlink" title="修改 activity_main.xml"></a>修改 activity_main.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/recycler_view&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>由於<code>RecyclerView</code>不是內置在系統SDK中,需要把其完整的包名路徑寫出來</p><h2 id="新建-Fruit-java"><a href="#新建-Fruit-java" class="headerlink" title="新建 Fruit.java"></a>新建 Fruit.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> imageId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruit</span><span class="params">(String name, <span class="keyword">int</span> imageId)</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImageId</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> imageId;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="新建-fruit-item-xml"><a href="#新建-fruit-item-xml" class="headerlink" title="新建 fruit_item.xml"></a>新建 fruit_item.xml</h2><p>創建ImageView來顯示水果圖片,TextView來顯示水果名字。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruit_image&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruitname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="新增適配器-FruitAdapter"><a href="#新增適配器-FruitAdapter" class="headerlink" title="新增適配器 FruitAdapter"></a>新增適配器 FruitAdapter</h2><p>為<code>RecyclerView</code>新增適配器<code>FruitAdapter</code>,並讓其繼承於<code>RecyclerView.Adapter</code>,把泛型指定為<code>FruitAdapter.ViewHolder</code>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">FruitAdapter</span>.<span class="title">ViewHolder</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  List&lt;Fruit&gt; mFruitList;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span></span>{</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span> <span class="params">(View view)</span></span></span><br><span class="line"><span class="function">        </span>{</span><br><span class="line">            <span class="keyword">super</span>(view);</span><br><span class="line">            fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">            fruitName = (TextView) view.findViewById(R.id.fruitname);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="title">FruitAdapter</span> <span class="params">(List &lt;Fruit&gt; fruitList)</span></span>{</span><br><span class="line">        mFruitList = fruitList;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span></span>{</span><br><span class="line">        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fruit_item,parent,<span class="keyword">false</span>);</span><br><span class="line">        ViewHolder holder = <span class="keyword">new</span> ViewHolder(view);</span><br><span class="line">        <span class="keyword">return</span> holder;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(ViewHolder holder, <span class="keyword">int</span> position)</span></span>{</span><br><span class="line"></span><br><span class="line">        Fruit fruit = mFruitList.get(position);</span><br><span class="line">        holder.fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        holder.fruitName.setText(fruit.getName());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> mFruitList.size();</span><br><span class="line">    }</span><br></pre></td></tr></table></figure><ul><li><p>定義內部類<code>ViewHolder</code>,並繼承<code>RecyclerView.ViewHolder</code>。傳入的View參數通常是RecyclerView子項的最外層佈局。</p></li><li><p>FruitAdapter構造函數,用於把要展示的數據源傳入,並賦予值給全局變量mFruitList。</p></li><li><p>FruitAdapter繼承RecyclerView.Adapter。因為必須重寫<code>onCreateViewHolder()</code>,<code>onBindViewHolder()</code>和<code>getItemCount()</code>三個方法</p><ul><li><code>onCreateViewHolder()</code>用於創建ViewHolder實例,並把加載的佈局傳入到構造函數去,再把ViewHolder實例返回。</li><li><code>onBindViewHolder()</code>則是用於對子項的數據進行賦值,會在每個子項被滾動到屏幕內時執行。<code>position</code>得到當前項的Fruit實例。</li><li><code>getItemCount()</code>返回RecyclerView的子項數目。</li></ul></li></ul><h2 id="修改-MainActivity-java"><a href="#修改-MainActivity-java" class="headerlink" title="修改 MainActivity.java"></a>修改 MainActivity.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        initFruits();</span><br><span class="line">        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">        LinearLayoutManager layoutManager = <span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>);</span><br><span class="line">        recyclerView.setLayoutManager(layoutManager);</span><br><span class="line">        FruitAdapter adapter = <span class="keyword">new</span> FruitAdapter(fruitList);</span><br><span class="line">        recyclerView.setAdapter(adapter);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {</span><br><span class="line">            Fruit apple = <span class="keyword">new</span> Fruit(<span class="string">&quot;Apple&quot;</span>, R.drawable.apple_pic);</span><br><span class="line">            fruitList.add(apple);</span><br><span class="line">            Fruit banana = <span class="keyword">new</span> Fruit(<span class="string">&quot;Banana&quot;</span>, R.drawable.banana_pic);</span><br><span class="line">            fruitList.add(banana);</span><br><span class="line">            Fruit orange = <span class="keyword">new</span> Fruit(<span class="string">&quot;Orange&quot;</span>, R.drawable.orange_pic);</span><br><span class="line">            fruitList.add(orange);</span><br><span class="line">            Fruit watermelon = <span class="keyword">new</span> Fruit(<span class="string">&quot;Watermelon&quot;</span>, R.drawable.watermelon_pic);</span><br><span class="line">            fruitList.add(watermelon);</span><br><span class="line">            Fruit pear = <span class="keyword">new</span> Fruit(<span class="string">&quot;Pear&quot;</span>, R.drawable.pear_pic);</span><br><span class="line">            fruitList.add(pear);</span><br><span class="line">            Fruit grape = <span class="keyword">new</span> Fruit(<span class="string">&quot;Grape&quot;</span>, R.drawable.grape_pic);</span><br><span class="line">            fruitList.add(grape);</span><br><span class="line">            Fruit pineapple = <span class="keyword">new</span> Fruit(<span class="string">&quot;Pineapple&quot;</span>, R.drawable.pineapple_pic);</span><br><span class="line">            fruitList.add(pineapple);</span><br><span class="line">            Fruit strawberry = <span class="keyword">new</span> Fruit(<span class="string">&quot;Strawberry&quot;</span>, R.drawable.strawberry_pic);</span><br><span class="line">            fruitList.add(strawberry);</span><br><span class="line">            Fruit cherry = <span class="keyword">new</span> Fruit(<span class="string">&quot;Cherry&quot;</span>, R.drawable.cherry_pic);</span><br><span class="line">            fruitList.add(cherry);</span><br><span class="line">            Fruit mango = <span class="keyword">new</span> Fruit(<span class="string">&quot;Mango&quot;</span>, R.drawable.mango_pic);</span><br><span class="line">            fruitList.add(mango);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><code>LayoutManager</code>用於指定RecyclerView的佈局方式。<code>LinearLayoutManager</code>指的是線性佈局。</p><p>運行效果：<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re1.png" class="lozad"></p><h1 id="修改RecyclerView-顯示效果"><a href="#修改RecyclerView-顯示效果" class="headerlink" title="修改RecyclerView 顯示效果"></a>修改RecyclerView 顯示效果</h1><h2 id="橫向滾動"><a href="#橫向滾動" class="headerlink" title="橫向滾動"></a>橫向滾動</h2><h3 id="修改-fruit-item-xml"><a href="#修改-fruit-item-xml" class="headerlink" title="修改 fruit_item.xml"></a>修改 fruit_item.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruit_image&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_horizontal&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruitname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_horizontal&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;10dp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>把LinearLayout改成垂直排列,因為水果名字長度不一樣,把寬度改為100dp。<br>ImageView和TextView都改為水平居中</p><h3 id="修改MainActivity-java"><a href="#修改MainActivity-java" class="headerlink" title="修改MainActivity.java"></a>修改MainActivity.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">       <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">       setContentView(R.layout.activity_main);</span><br><span class="line">       initFruits();</span><br><span class="line">       RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">       LinearLayoutManager layoutManager = <span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>);</span><br><span class="line">       layoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);</span><br><span class="line">       recyclerView.setLayoutManager(layoutManager);</span><br><span class="line">       FruitAdapter adapter = <span class="keyword">new</span> FruitAdapter(fruitList);</span><br><span class="line">       recyclerView.setAdapter(adapter);</span><br><span class="line">   }</span><br></pre></td></tr></table></figure><p>通過調用<code>setOrientation()</code>把佈局的排列方向改為水平排列。</p><p>得益於RecyclerView的設計,我們可以通過LayoutManager實現各種不同的排列方式的佈局。</p><p>運行結果:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re2.png" class="lozad"></p><p>除了<code>LinearLayoutManager</code>,<code>RecyclerView</code>還提供了<code>GridLayoutManager(網格佈局)</code>和<code>StaggeredGridLayoutManager(瀑布流佈局)</code></p><h2 id="GridLayoutManager"><a href="#GridLayoutManager" class="headerlink" title="GridLayoutManager"></a>GridLayoutManager</h2><p>GridLayoutManager(網格佈局)</p><h3 id="修改MainActivity-java-1"><a href="#修改MainActivity-java-1" class="headerlink" title="修改MainActivity.java"></a>修改MainActivity.java</h3><p>修改 <code>MainActivity.java</code>,把</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LinearLayoutManager layoutManager = <span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>);</span><br><span class="line">layoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);</span><br></pre></td></tr></table></figure><p>換成</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GridLayoutManager layoutManager = <span class="keyword">new</span> GridLayoutManager(<span class="keyword">this</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure><p><code>GridLayoutManager (Context context, int spanCount)</code></p><ul><li>Context: Current context, will be used to access resources.</li><li>spanCount int: The number of columns in the grid(網格的列數)</li></ul><p>運行結果:<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re3.png" class="lozad"></p><h2 id="StaggeredGridLayoutManager"><a href="#StaggeredGridLayoutManager" class="headerlink" title="StaggeredGridLayoutManager"></a>StaggeredGridLayoutManager</h2><p>StaggeredGridLayoutManager(瀑布流佈局)</p><h3 id="修改fruit-item-xml"><a href="#修改fruit-item-xml" class="headerlink" title="修改fruit_item.xml"></a>修改fruit_item.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_margin</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruit_image&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_horizontal&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruitname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;10dp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>把LinearLayout的寬度設為<code>match_parent</code>是因為瀑布流的寬度是 <strong>根據佈局的列數來自動適配的,而不是固定值</strong> 。(GridLayoutManager也是 <strong>根據佈局的列數來自動適配的</strong>）</p><h3 id="修改-MainActivity-java-1"><a href="#修改-MainActivity-java-1" class="headerlink" title="修改 MainActivity.java"></a>修改 MainActivity.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        initFruits();</span><br><span class="line">        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">        StaggeredGridLayoutManager layoutManager = <span class="keyword">new</span> StaggeredGridLayoutManager(<span class="number">3</span>,StaggeredGridLayoutManager.VERTICAL);</span><br><span class="line">        recyclerView.setLayoutManager(layoutManager);</span><br><span class="line">        FruitAdapter adapter = <span class="keyword">new</span> FruitAdapter(fruitList);</span><br><span class="line">        recyclerView.setAdapter(adapter);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {</span><br><span class="line">            Fruit apple = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Apple&quot;</span>), R.drawable.apple_pic);</span><br><span class="line">            fruitList.add(apple);</span><br><span class="line">            Fruit banana = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Banana&quot;</span>), R.drawable.banana_pic);</span><br><span class="line">            fruitList.add(banana);</span><br><span class="line">            Fruit orange = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Orange&quot;</span>), R.drawable.orange_pic);</span><br><span class="line">            fruitList.add(orange);</span><br><span class="line">            Fruit watermelon = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Watermelon&quot;</span>), R.drawable.watermelon_pic);</span><br><span class="line">            fruitList.add(watermelon);</span><br><span class="line">            Fruit pear = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Pear&quot;</span>), R.drawable.pear_pic);</span><br><span class="line">            fruitList.add(pear);</span><br><span class="line">            Fruit grape = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Grape&quot;</span>), R.drawable.grape_pic);</span><br><span class="line">            fruitList.add(grape);</span><br><span class="line">            Fruit pineapple = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Pineapple&quot;</span>), R.drawable.pineapple_pic);</span><br><span class="line">            fruitList.add(pineapple);</span><br><span class="line">            Fruit strawberry = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Strawberry&quot;</span>), R.drawable.strawberry_pic);</span><br><span class="line">            fruitList.add(strawberry);</span><br><span class="line">            Fruit cherry = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Cherry&quot;</span>), R.drawable.cherry_pic);</span><br><span class="line">            fruitList.add(cherry);</span><br><span class="line">            Fruit mango = <span class="keyword">new</span> Fruit(getRandomLengthName(<span class="string">&quot;Mango&quot;</span>), R.drawable.mango_pic);</span><br><span class="line">            fruitList.add(mango);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getRandomLengthName</span><span class="params">(String name)</span></span>{</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> length= random.nextInt(<span class="number">20</span>)+<span class="number">1</span>;  <span class="comment">// 產生1-20的隨機數</span></span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;length;i++){</span><br><span class="line">            builder.append(name);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span>  builder.<span class="function">function <span class="title">toString</span><span class="params">()</span> </span>{ [<span class="keyword">native</span> code] }();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><code>StaggeredGridLayoutManager layoutManager = new StaggeredGridLayoutManager(3,StaggeredGridLayoutManager.VERTICAL);</code><br>StaggeredGridLayoutManager傳入2個參數,第一個是佈局的列數,第二個是佈局的排列方向。</p><p><code>random.nextInt(20)+1</code> 產生1-20的隨機數<br>運行效果:</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re4.png" class="lozad"></p><h2 id="GridLayoutManager和StaggeredGridLayout的區別"><a href="#GridLayoutManager和StaggeredGridLayout的區別" class="headerlink" title="GridLayoutManager和StaggeredGridLayout的區別"></a>GridLayoutManager和StaggeredGridLayout的區別</h2><table border="0"><br><tr><br><td><img alt="GridLayoutManager" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re5.png" class="lozad"><br></td><td><img alt="StaggeredGridLayout" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re6.png" class="lozad"><br></td></tr><br></table><p>左圖是GridLayoutManager,右圖是StaggeredGridLayout。<br>當從顯示效果來看,已經一目瞭然。<br>GridLayoutManager是會固定高度的,所以會留下很多空白區域。<br>相反,StaggeredGridLayout並不會固定高度,以至於就算子項的高度不一致,下一行的會自動靠攏上一行。</p><h1 id="RecyclerView-的點擊事件"><a href="#RecyclerView-的點擊事件" class="headerlink" title="RecyclerView 的點擊事件"></a>RecyclerView 的點擊事件</h1><h2 id="修改-FruitAdapter-java"><a href="#修改-FruitAdapter-java" class="headerlink" title="修改 FruitAdapter.java"></a>修改 FruitAdapter.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">FruitAdapter</span>.<span class="title">ViewHolder</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  List&lt;Fruit&gt; mFruitList;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span></span>{</span><br><span class="line">        View fruitView;</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span> <span class="params">(View view)</span></span></span><br><span class="line"><span class="function">        </span>{</span><br><span class="line">            <span class="keyword">super</span>(view);</span><br><span class="line">            fruitView = view;</span><br><span class="line">            fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">            fruitName = (TextView) view.findViewById(R.id.fruitname);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="title">FruitAdapter</span> <span class="params">(List &lt;Fruit&gt; fruitList)</span></span>{</span><br><span class="line">        mFruitList = fruitList;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span></span>{</span><br><span class="line">        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fruit_item,parent,<span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">final</span> ViewHolder holder = <span class="keyword">new</span> ViewHolder(view);</span><br><span class="line">        holder.fruitView.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{</span><br><span class="line">                <span class="keyword">int</span> position = holder.getAdapterPosition();</span><br><span class="line">                Fruit fruit = mFruitList.get(position);</span><br><span class="line">                Toast.makeText(view.getContext(), <span class="string">&quot;you clicked view&quot;</span> + fruit.getName(), Toast.LENGTH_SHORT).show();</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        holder.fruitImage.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{</span><br><span class="line">                <span class="keyword">int</span> position = holder.getAdapterPosition();</span><br><span class="line">                Fruit fruit = mFruitList.get(position);</span><br><span class="line">                Toast.makeText(view.getContext(), <span class="string">&quot;you clicked image&quot;</span> + fruit.getName(), Toast.LENGTH_SHORT).show();</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">return</span> holder;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>修改ViewHolder,添加fruitView變量來保存子項最外層佈局的實例。</p><p>運行效果：<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/RecyclerView/re7.png" class="lozad"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> RecyclerView </tag>
            
            <tag> 佈局 </tag>
            
            <tag> Layout </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>為Blog添加版權説明</title>
      <link href="/posts/d87ce901/"/>
      <url>/posts/d87ce901/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>最近更換了新的Hexo主題<a href="https://github.com/iTimeTraveler/hexo-theme-hiker" rel="external nofollow noopener noreferrer" target="_blank">hexo-theme-hiker</a>,覺得挺好看的。文章底部沒有版權説明,自己動手加上。</p><h2 id="新建文件-copyright-ejs"><a href="#新建文件-copyright-ejs" class="headerlink" title="新建文件 copyright.ejs"></a>新建文件 copyright.ejs</h2><p>在<code>themes\hiker\layout\_partial</code>新建文件<code>copyright.ejs</code></p><p>打開<code>copyright.ejs</code>,添加一下內容。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;ul class=&quot;post-copyright&quot;&gt;</span><br><span class="line">          &lt;li class=&quot;post-copyright-author&quot;&gt;</span><br><span class="line">          &lt;strong&gt;&lt;%= __(&apos;copyright.author&apos;) %&gt; &lt;/strong&gt;&lt;%= config.author%&gt;&lt;/a&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">          &lt;li class=&quot;post-copyright-link&quot;&gt;</span><br><span class="line">          &lt;strong&gt;&lt;%= __(&apos;copyright.link&apos;) %&gt; &lt;/strong&gt;</span><br><span class="line">          &lt;a href=&quot;&lt;%- config.root %&gt;&lt;%- post.path %&gt;&quot; target=&quot;_blank&quot; title=&quot;&lt;%= post.title %&gt;&quot;&gt;&lt;%- config.url %&gt;/&lt;%- post.path %&gt;&lt;/a&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">          &lt;li class=&quot;post-copyright-license&quot;&gt;</span><br><span class="line">            &lt;strong&gt;&lt;%= __(&apos;copyright.license_title&apos;) %&gt;  &lt;/strong&gt;</span><br><span class="line">            &lt;%= __(&apos;copyright.left_license_content&apos;) %&gt;&lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/&quot; target=&quot;_blank&quot; title=&quot;Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)&quot;&gt;CC BY-NC-ND 4.0&lt;/a&gt;</span><br><span class="line">            &lt;%= __(&apos;copyright.right_license_content&apos;) %&gt;</span><br><span class="line">          &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;div&gt;</span><br></pre></td></tr></table></figure><h2 id="修改article-ejs文件"><a href="#修改article-ejs文件" class="headerlink" title="修改article.ejs文件"></a>修改article.ejs文件</h2><p>打開<code>themes\hiker\layout\_partial\article.ejs</code>添加一下內容,位置介於donate和comment之間</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; theme.donate.enable){ %&gt;</span><br><span class="line">        &lt;%- partial(&apos;donate&apos;) %&gt;</span><br><span class="line">      &lt;% } %&gt;</span><br><span class="line">       &lt;!-- 要添加的內容 --&gt;</span><br><span class="line">      &lt;% if (!index &amp;&amp; theme.copyright.enable){ %&gt;</span><br><span class="line">      &lt;%- partial(&apos;copyright&apos;) %&gt;</span><br><span class="line">      &lt;% } %&gt;</span><br><span class="line">      &lt;!----&gt;</span><br><span class="line">      &lt;% if (!index &amp;&amp; post.comments &amp;&amp; (theme.gentie_productKey || theme.duoshuo_shortname || theme.disqus_shortname || theme.uyan_uid || theme.wumii || theme.livere_shortname)){ %&gt;</span><br><span class="line">        &lt;%- partial(&apos;comment&apos;) %&gt;</span><br><span class="line">      &lt;% } %&gt;</span><br></pre></td></tr></table></figure><h2 id="修改-article-styl"><a href="#修改-article-styl" class="headerlink" title="修改 article.styl"></a>修改 article.styl</h2><p>修改<code>themes\hiker\source\css\_partial\article.styl</code>,在末端添加以下內容。</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-copyright</span> {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2em</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.5em</span> <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">3px</span> solid <span class="number">#FF1700</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#F9F9F9</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-copyright</span> <span class="selector-tag">li</span> {</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="修改語言文件"><a href="#修改語言文件" class="headerlink" title="修改語言文件"></a>修改語言文件</h2><p>在themes\hiker\languages中,找到你應用的語言文件,例如zh-TW,打開並添加以下內容。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span></span><br><span class="line"><span class="attr">    author:</span> <span class="string">&quot;作者: &quot;</span></span><br><span class="line"><span class="attr">    link:</span> <span class="string">&quot;文章連結: &quot;</span></span><br><span class="line"><span class="attr">    license_title:</span> <span class="string">&quot;版權聲明: &quot;</span></span><br><span class="line"><span class="attr">    left_license_content:</span> <span class="string">&quot;本網誌所有文章除特別聲明外,均採用 &quot;</span></span><br><span class="line"><span class="attr">    right_license_content:</span> <span class="string">&quot;許可協議。轉載請註明出處!&quot;</span></span><br></pre></td></tr></table></figure><h2 id="修改主題設置文件"><a href="#修改主題設置文件" class="headerlink" title="修改主題設置文件"></a>修改主題設置文件</h2><p>打開<code>themes\hiker\_config.yml</code>,添加以下內容。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#版權信息</span></span><br><span class="line"><span class="attr">copyright:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>最後當然是 hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 就可以看到結果了</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Add_a_copyright_notice_to_the_blog/COPYRIGHT.png" class="lozad"></p><h2 id="資料參考"><a href="#資料參考" class="headerlink" title="資料參考"></a>資料參考</h2><p><a href="http://okbtm.com/archives/ead2b478.html" rel="external nofollow noopener noreferrer" target="_blank">為Hexo icarus添加版權説明</a></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 主題 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-ListView</title>
      <link href="/posts/75c18a/"/>
      <url>/posts/75c18a/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>手機屏幕空間有限，能顯示的內容不多。可以藉助ListView來顯示更多的內容。<br>ListView允許用户通過上下滑動來將屏幕外的數據滾動到屏幕內，同時屏幕內原有的數據滾動出屏幕，從而顯示更多的數據內容。</p><h1 id="ListView的簡單用法"><a href="#ListView的簡單用法" class="headerlink" title="ListView的簡單用法"></a>ListView的簡單用法</h1><h2 id="修改activity-main-xml"><a href="#修改activity-main-xml" class="headerlink" title="修改activity_main.xml"></a>修改activity_main.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/listview&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>android:layout_width</code>和<code>android:layout_height</code>設置為<code>match_parent</code>可以把ListView佔滿整個布局的空間。</p><h2 id="修改MainActivity-java"><a href="#修改MainActivity-java" class="headerlink" title="修改MainActivity.java"></a>修改MainActivity.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String [] data = {<span class="string">&quot;Apple&quot;</span>,<span class="string">&quot;Banana&quot;</span>,<span class="string">&quot;Orange&quot;</span>,<span class="string">&quot;Watermelon&quot;</span>,<span class="string">&quot;Pear&quot;</span>,<span class="string">&quot;Grape&quot;</span>,<span class="string">&quot;Pineapple&quot;</span>,<span class="string">&quot;Strawberry&quot;</span>,<span class="string">&quot;Cherry&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Mango&quot;</span>,<span class="string">&quot;Apple&quot;</span>,<span class="string">&quot;Banana&quot;</span>,<span class="string">&quot;Orange&quot;</span>,<span class="string">&quot;Watermelon&quot;</span>,<span class="string">&quot;Pear&quot;</span>,<span class="string">&quot;Grape&quot;</span>,<span class="string">&quot;Pineapple&quot;</span>,<span class="string">&quot;Strawberry&quot;</span>,<span class="string">&quot;Cherry&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Mango&quot;</span>};</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="comment">//ArraryAdapter適配器，通過泛型來指定要適配的數據類型，然後在構造函數中把要適配的數據傳入。</span></span><br><span class="line">        ArrayAdapter&lt;String&gt; arrayAdapter= <span class="keyword">new</span> ArrayAdapter&lt;String&gt; (</span><br><span class="line">                MainActivity.<span class="keyword">this</span>, android.R.layout.simple_list_item_1,data);</span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.listview);</span><br><span class="line">        listView.setAdapter(arrayAdapter);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure><p>例子中以數組的方式來傳遞數據，裏面包含很多水果的名字。<br>數組中的數據無法直接傳遞給ListView,這時需要藉助適配器(Adapter)來完成。<br>Android中提供了很多適配器,這裏使用的是ArrayAdapter,它可以通過泛型來指定要適配的數據類型，然後在構造函數中把要適配的數據傳入。<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/ListView/ArrayAdapter.png" class="lozad"><br>因為數據都是字符串，所以ArrayAdapter的泛型指定為String。<br>ArrayAdapter的構造函數傳入3個數據：</p><ul><li>1是Context 傳入當前的上下文</li><li>2是ListView子項布局的ID</li><li>3是要適配的數據</li></ul><p><code>android.R.layout.simple_list_item_1</code>作為ListView子項布局的ID，這時安卓內置的布局文件。裏面只有一個TextView，可用於顯示一段文本。</p><p>最後調用ListView的setAdapter()方法將構建好的適配器對象傳遞進去。</p><p>運行效果：<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/ListView/listview1.png" class="lozad"></p><h1 id="定製ListView界面"><a href="#定製ListView界面" class="headerlink" title="定製ListView界面"></a>定製ListView界面</h1><p> 對ListView界面進行定製，讓其可以顯示更豐富的內容。<br> 為每個水果加上圖片</p><h2 id="新建fruit-java"><a href="#新建fruit-java" class="headerlink" title="新建fruit.java"></a>新建fruit.java</h2><p>定義一個實體類，作為ListView適配器的適配類型。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> imageId;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruit</span> <span class="params">(String name,<span class="keyword">int</span> imageId)</span></span>{</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImageId</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> imageId;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h2 id="新建布局文件-fruit-item-xml"><a href="#新建布局文件-fruit-item-xml" class="headerlink" title="新建布局文件 fruit_item.xml"></a>新建布局文件 fruit_item.xml</h2><p>創建ImageView來顯示水果圖片，TextView來顯示水果名字。並讓TextView在垂直方向上居中顯示。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruit_image&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/fruitname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_vertical&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">&quot;10dp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="新建-FruitAdapter-java"><a href="#新建-FruitAdapter-java" class="headerlink" title="新建 FruitAdapter.java"></a>新建 FruitAdapter.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">ArrayAdapter</span>&lt;<span class="title">Fruit</span>&gt; </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resourceId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FruitAdapter</span><span class="params">(Context context, <span class="keyword">int</span> textViewResourceId, List&lt;Fruit&gt; objects)</span></span>{</span><br><span class="line">        <span class="keyword">super</span>(context,textViewResourceId,objects);</span><br><span class="line">        resourceId = textViewResourceId;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span></span>{</span><br><span class="line">       Fruit fruit = getItem(position); <span class="comment">//獲取當前項的Fruit實例</span></span><br><span class="line">       View view= LayoutInflater.from(getContext()).inflate(resourseId,parent,<span class="keyword">false</span>);</span><br><span class="line">       ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">       TextView fruitName =(TextView) view.findViewById(R.id.fruitname);</span><br><span class="line">       fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">       fruitName.setText(fruit.getName());</span><br><span class="line">       <span class="keyword">return</span> view;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>FruitAdapter 重寫了父類的構造函數，用於將上下文，ListView子項布局的ID和要適配的數據傳遞進去。</p><p>重寫getView（）方法，這個方法在每個子項被滾動到屏幕內的時候會被調用。<br>首先通過getItem()得到當前的項的Fruit實例，然後使用LayoutInflater來為這個子項加載我們傳入的布局。</p><p><code>LayoutInflater.from(getContext()).inflate(resourseId,parent,false);</code><br>inflate接受三個參數</p><ul><li>一個是加載的布局文件id</li><li>另一個是給加載好的布局再添加一個父布局</li><li><code>false</code>表示只讓我們在父布局中聲明的layout屬性生效，但不會為這個view添加父布局。</li></ul><h2 id="修改-MainActivity-java"><a href="#修改-MainActivity-java" class="headerlink" title="修改 MainActivity.java"></a>修改 MainActivity.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        initFruits();<span class="comment">// 初始化水果數據</span></span><br><span class="line"></span><br><span class="line">       FruitAdapter arrayAdapter = <span class="keyword">new</span> FruitAdapter(MainActivity.<span class="keyword">this</span>,R.layout.fruit_item,fruitList);</span><br><span class="line"></span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.listview);</span><br><span class="line">        listView.setAdapter(arrayAdapter);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">for</span>( <span class="keyword">int</span> i =<span class="number">0</span>; i&lt;<span class="number">2</span>;i++){</span><br><span class="line">           Fruit apple = <span class="keyword">new</span> Fruit(<span class="string">&quot;Apple&quot;</span>,R.drawable.apple_pic);</span><br><span class="line">           fruitList.add(apple);</span><br><span class="line">           Fruit banana = <span class="keyword">new</span> Fruit(<span class="string">&quot;Banana&quot;</span>,R.drawable.banana_pic);</span><br><span class="line">           fruitList.add(banana);</span><br><span class="line">           Fruit orange = <span class="keyword">new</span> Fruit(<span class="string">&quot;Orange&quot;</span>,R.drawable.orange_pic);</span><br><span class="line">           fruitList.add(orange);</span><br><span class="line">           Fruit watermelon = <span class="keyword">new</span> Fruit(<span class="string">&quot;Watermelon&quot;</span>,R.drawable.watermelon_pic);</span><br><span class="line">           fruitList.add(watermelon);</span><br><span class="line">           Fruit pear = <span class="keyword">new</span> Fruit(<span class="string">&quot;Pear&quot;</span>,R.drawable.pear_pic);</span><br><span class="line">           fruitList.add(pear);</span><br><span class="line">           Fruit grape = <span class="keyword">new</span> Fruit(<span class="string">&quot;Grape&quot;</span>,R.drawable.grape_pic);</span><br><span class="line">           fruitList.add(grape);</span><br><span class="line">           Fruit pineapple = <span class="keyword">new</span> Fruit(<span class="string">&quot;Pineapple&quot;</span>,R.drawable.pineapple_pic);</span><br><span class="line">           fruitList.add(pineapple);</span><br><span class="line">           Fruit strawberry = <span class="keyword">new</span> Fruit(<span class="string">&quot;Strawberry&quot;</span>,R.drawable.strawberry_pic);</span><br><span class="line">           fruitList.add(strawberry);</span><br><span class="line">           Fruit cherry = <span class="keyword">new</span> Fruit(<span class="string">&quot;Cherry&quot;</span>,R.drawable.cherry_pic);</span><br><span class="line">           fruitList.add(cherry);</span><br><span class="line">           Fruit mango = <span class="keyword">new</span> Fruit(<span class="string">&quot;Mango&quot;</span>,R.drawable.mango_pic);</span><br><span class="line">           fruitList.add(mango);</span><br><span class="line"></span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>添加initFruit()方法來初始化所有的水果數據。</p><p>運行結果：<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/ListView/listview2.png" class="lozad"></p><h1 id="提升ListView的運行效率"><a href="#提升ListView的運行效率" class="headerlink" title="提升ListView的運行效率"></a>提升ListView的運行效率</h1><p>上面的代碼中，FruitAdapter的getView()每次都將布局重新加載了一遍，當ListView快速滾動時，就會成為性能的瓶頸。<br>為了解決這問題，需要對ListView進行優化。</p><p>修改FruitAdapter.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span></span>{</span><br><span class="line">        Fruit fruit = getItem(position); <span class="comment">//獲取當前項的Fruit實例</span></span><br><span class="line">        View view;</span><br><span class="line">        ViewHolder viewHolder;</span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>){</span><br><span class="line">            view = LayoutInflater.from(getContext()).inflate(resourceId,parent,<span class="keyword">false</span>);</span><br><span class="line">            viewHolder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line">            viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">            viewHolder.fruitName =(TextView) view.findViewById(R.id.fruitname);</span><br><span class="line">            view.setTag(viewHolder);<span class="comment">// 將ViewHolder存儲在View中。</span></span><br><span class="line">        }<span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            view = convertView;</span><br><span class="line">            viewHolder=(ViewHolder)view.getTag(); <span class="comment">//重新獲取ViewHolder</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        viewHolder.fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        viewHolder.fruitName.setText(fruit.getName());</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>{</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line">    }</span><br></pre></td></tr></table></figure><p>getView中的convertView參數，用於將之前加載好的布局進行緩存，以便以後可以進行重用。</p><ul><li>convertView為null時，使用LayoutInflater去加載布局。</li><li>如果不是Null,則直接對convertView進行重用。</li></ul><p>內部類ViewHolder用於對控件的實例進行緩存。  </p><ul><li>當convertView為null時<br>創建ViewHolder對象，並將控件的實例都存到ViewHolder去，然後調用View的setTag()方法，將ViewHolder對象存儲於View中。</li><li>當convertView不為null時<br>調用View的setTag()方法，把ViewHolder重新取出。</li></ul><h1 id="LiewView的點擊事件"><a href="#LiewView的點擊事件" class="headerlink" title="LiewView的點擊事件"></a>LiewView的點擊事件</h1><p>修改MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        initFruits();<span class="comment">// 初始化水果數據</span></span><br><span class="line"></span><br><span class="line">        FruitAdapter arrayAdapter = <span class="keyword">new</span> FruitAdapter(MainActivity.<span class="keyword">this</span>,R.layout.fruit_item,fruitList);</span><br><span class="line"></span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.listview);</span><br><span class="line">        listView.setAdapter(arrayAdapter);</span><br><span class="line">        listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener()</span><br><span class="line">        {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view,<span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span>{</span><br><span class="line">                Fruit fruit = fruitList.get(position);</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>,fruit.getName(),Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        });</span><br></pre></td></tr></table></figure><p>使用setOnItemClickListener（）為ListView註冊了一個監聽器。<br>通過position參數判斷出用户點擊的是哪一個子項。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> ListView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-創建自定義控件</title>
      <link href="/posts/44aa2b74/"/>
      <url>/posts/44aa2b74/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="自定義控件-引入布局"><a href="#自定義控件-引入布局" class="headerlink" title="自定義控件 - 引入布局"></a>自定義控件 - 引入布局</h2><p>常見控件和布局的繼承結構<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Create_a_custom_components/1.png" class="lozad"><br>所有的控件都是直接或者間接繼承於 View<br>所有的布局都是直接或者間接繼承於 ViewGroup<br>View 是 Android 中最基本的一種 UI 控件,它可以在屏幕上繪製一塊矩形區域,並能響應這塊區域的各種事件。<br>ViewGroup 是特殊的一種 View,是一個用於放置控件和布局的容器</p><p>以添加 iPhone 風格的標題欄為例：<br>當多個活動界面都要使用這個標題欄時,我們可以通過引入布局的方式,這樣可以避免每個活動界面都要寫一遍同樣的標題代碼,減少代碼重複。</p><h3 id="創建布局文件"><a href="#創建布局文件" class="headerlink" title="創建布局文件"></a>創建布局文件</h3><p>新建一個 title.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;@drawable/title_bg&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/back_bg&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Back&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/title_back&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Title Text&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/title_text&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;#fff&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;24sp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/title_edit&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">&quot;5dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;@drawable/edit_bg&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Edit&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;#fff&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>android:background 用於為控件或布局制定一個背景,可以使用顏色或者圖片<br>android:layout_margin 指定控件在上下左右方向上偏移的距離</p><h3 id="引入布局"><a href="#引入布局" class="headerlink" title="引入布局"></a>引入布局</h3><p>在創建了布局後,我們要引入布局。在需要引入界面的 Activity 界面布局中,添加<code>&lt;include layout=&quot;@layout/title&quot;/&gt;</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">&quot;@layout/title&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="隱藏系統自帶的標題欄"><a href="#隱藏系統自帶的標題欄" class="headerlink" title="隱藏系統自帶的標題欄"></a>隱藏系統自帶的標題欄</h3><p>通過調用 getSupportActionBar()方法來獲得 ActionBar 的實例,然後再調用 ActionBar 的 hide()方法將標題欄隱藏。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        ActionBar actionBar = getSupportActionBar();</span><br><span class="line">        <span class="keyword">if</span> (actionBar != <span class="keyword">null</span>){</span><br><span class="line">            actionBar.hide();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Create_a_custom_components/2.png" class="lozad"></p><h2 id="創建自定義控件"><a href="#創建自定義控件" class="headerlink" title="創建自定義控件"></a>創建自定義控件</h2><p>引入布局的方式雖然可以減少很多重複的布局代碼,但是當布局中的控件要求能夠響應事件,我們還是需要在每個活動中去為這些控件單獨編寫事件響應代碼。以標題欄為例,這些控件在每一個布局中所需的功能都是一樣的,這時我們可以使用自定義控件的方式,避免每個活動都要去編寫同樣的代碼。</p><h3 id="新建-TitleLayout"><a href="#新建-TitleLayout" class="headerlink" title="新建 TitleLayout"></a>新建 TitleLayout</h3><p>新建 TitleLayout 並繼承 LinearLayout。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleLayout</span> <span class="keyword">extends</span> <span class="title">LinearLayout</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleLayout</span><span class="params">(Context context , AttributeSet attributeSet)</span></span>{</span><br><span class="line">        <span class="keyword">super</span>(context,attributeSet);</span><br><span class="line">        LayoutInflater.from(context).inflate(R.layout.title,<span class="keyword">this</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>重寫 LinearLayout 中帶有兩個參數的構造函數。<br>通過 LayoutInflater 來對標題欄進行動態加載。<br><code>LayoutInflater.from(context).inflate(R.layout.title,this);</code></p><ul><li>from（）方法構建出一個 LayoutInflater 對象</li><li>調用 inflate（）方法就可以動態加載一個布局文件。inflate 接受兩個參數<ul><li>一個是加載的布局文件 id</li><li>另一個是給加載好的布局再添加一個父布局</li></ul></li></ul><h3 id="修改活動布局-xml"><a href="#修改活動布局-xml" class="headerlink" title="修改活動布局.xml"></a>修改活動布局.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">  //完整類名</span><br><span class="line">   <span class="tag">&lt;<span class="name">com.example.hwy01.uicustomviews.TitleLayout</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">com.example.hwy01.uicustomviews.TitleLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>添加自定義控件需要先指明控件的完整類名,如代碼中的<code>com.example.hwy01.uicustomviews.TitleLayout</code></p><h3 id="添加按鈕註冊事件"><a href="#添加按鈕註冊事件" class="headerlink" title="添加按鈕註冊事件"></a>添加按鈕註冊事件</h3><p>修改 TitleLayout</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleLayout</span> <span class="keyword">extends</span> <span class="title">LinearLayout</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleLayout</span><span class="params">(Context context , AttributeSet attributeSet)</span></span>{</span><br><span class="line">        <span class="keyword">super</span>(context,attributeSet);</span><br><span class="line"></span><br><span class="line">        LayoutInflater.from(context).inflate(R.layout.title,<span class="keyword">this</span>);</span><br><span class="line">        Button back = (Button) findViewById(R.id.title_back);</span><br><span class="line">        Button edit = (Button) findViewById(R.id.title_edit);</span><br><span class="line"></span><br><span class="line">        back.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{</span><br><span class="line">           ((Activity)getContext()).finish();</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        edit.setOnClickListener(<span class="keyword">new</span> OnClickListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{</span><br><span class="line">                Toast.makeText(getContext(),<span class="string">&quot;You clicked Edit Button&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> 控件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-四大Layout</title>
      <link href="/posts/125d29fb/"/>
      <url>/posts/125d29fb/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="LinerLayout-線性布局"><a href="#LinerLayout-線性布局" class="headerlink" title="LinerLayout 線性布局"></a>LinerLayout 線性布局</h2><p>LinerLayout, 中文名為線性布局。這個布局會將它所包含的控件在線性方向上依次排列。  </p><p>我們可以通過<code>android:orientation</code>屬性來指定排列方向。  </p><p><code>vertical</code>為垂直方向,<code>horizontal</code>為水平方向</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;horizontal&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button 1&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button 2&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button 3&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：  </p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/LINERLAYOUT2.png" class="lozad"></p><p>注意：如果是<code>vertical</code>垂直方向,則内部的控件不能將<code>android:layout_height</code>指定為<code>match_parent</code>,因爲這樣的話,單獨的一個控件就已經把整個垂直方向佔據了,接下來的控件就沒有可以放置的位置了,而導致其它的控件無法顯示。同理,如果是<code>horizontal</code>水平方向,則内部的控件不能將<code>android:layout_width</code>指定為<code>match_parent</code>  </p><p><code>android:layout_gravity</code>用於指定控件在布局中的對齊方式。  </p><p>當<code>vertical</code>垂直方向,只有水平方向上的對齊方式才會生效。  </p><p>當<code>horizontal</code>水平方向,只有垂直方向上的對齊方式才會生效。  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button 1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;top&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button 2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;center_vertical&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button 3&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;bottom&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/LINERLAYOUT1.png" class="lozad"></p><p>android:layout_weight 可以用比例的方式來指定控件的大小,其在手機屏幕的適配上起到很重要的作用。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_weight</span>=<span class="string">&quot;3&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:hint</span>=<span class="string">&quot;Type something&quot;</span></span></span><br><span class="line"><span class="tag">     /&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">android:text</span>=<span class="string">&quot;send&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/LINERLAYOUT3.png" class="lozad"></p><h2 id="RelativeLayout-相對布局"><a href="#RelativeLayout-相對布局" class="headerlink" title="RelativeLayout 相對布局"></a>RelativeLayout 相對布局</h2><p>RelativeLayout又稱爲相對布局,通過相對定位的方式讓控件出現在布局的任何地方。</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/relativelayout1.png" class="lozad">  </p><p>父容器定位屬性示意圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/relativelayout2.png" class="lozad"></p><p>圖片來自<a href="http://www.runoob.com/w3cnote/android-tutorial-relativelayout.html" rel="external nofollow noopener noreferrer" target="_blank">runoob</a>  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentLeft</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentTop</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentRight</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentTop</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button3&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button3&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerInParent</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button4&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button4&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentLeft</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentBottom</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button5&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;button5&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentRight</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentBottom</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/relativelayout3.png" class="lozad"></p><p>以上是相對于父布局定位的。Button1和父布局的左上角對齊,Button2和父布局的右上角對齊,Button3居中顯示,Button4和父布局的左下角對齊,Button5和父布局的左下角對齊。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_centerInParent</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_above</span>=<span class="string">&quot;@id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_toLeftOf</span>=<span class="string">&quot;@id/button3&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button2&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_above</span>=<span class="string">&quot;@id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_toRightOf</span>=<span class="string">&quot;@id/button3&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button4&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button4&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_below</span>=<span class="string">&quot;@id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_toLeftOf</span>=<span class="string">&quot;@id/button3&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button5&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;button5&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_below</span>=<span class="string">&quot;@id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_toRightOf</span>=<span class="string">&quot;@id/button3&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/relativelayout4.png" class="lozad"></p><p>以上是每個控件都是以Button3 控件進行定位的。  </p><ul><li><code>android:layout_above</code>讓一個控件位於另一個控件上方,需要指定相對控件id的引用。上方為<code>android:layout_above=&quot;@id/button3&quot;</code>在Button3的上方。</li><li><code>android:layout_below</code>讓一個控件位於另一個控件下方。</li><li><code>android:layout_toLeftOf</code>讓一個控件位於另一個控件左側。</li><li><code>android:layout_toRightOf</code>讓一個控件位於另一個控件右側  </li></ul><h2 id="FrameLayout-幀布局"><a href="#FrameLayout-幀布局" class="headerlink" title="FrameLayout 幀布局"></a>FrameLayout 幀布局</h2><p>FrameLayout又稱爲幀布局,所有的控件都會默認擺放在布局的左上角。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">&quot;This is TextView&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/imageview&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">&quot;@mipmap/ic_launcher&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:text</span>=<span class="string">&quot;button&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/framelayout1.png" class="lozad"></p><p>所有的控件都位於布局的左上角,而且按照順序曡在一起。</p><p>我們可以通過<code>android:layout_gravity</code>去指定控件在布局中的對齊方式。  </p><h2 id="Percent-support-lib-百分比布局"><a href="#Percent-support-lib-百分比布局" class="headerlink" title="Percent-support-lib 百分比布局"></a>Percent-support-lib 百分比布局</h2><p>只有<code>LinearLayout</code>支持使用layout_weight屬性來實現按比例指定控件大小的功能,其他的布局并不支持這屬性。因此,Android引入了一種全新的布局方式來解決這個問題—–百分比布局。可以直接指定控件在布局中所占的百分比。  </p><p>百分比布局為<code>FrameLayout</code>和<code>RelativeLayout</code>進行了功能擴展,提供了<code>PercentFrameLayout</code>和<code>PercentRelativeLayout</code>兩個全新的布局。</p><p>在<code>build.gradle</code>添加百分比布局的依賴。  </p><p>打開<code>app/build.gradle</code>,在dependencies閉包添加以下内容：</p><p><code>implementation &apos;com.android.support:percent:25.3.0&apos;</code></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> {</span><br><span class="line">    implementation <span class="keyword">fileTree</span>(dir: <span class="string">&apos;libs&apos;</span>, <span class="keyword">include</span>: [<span class="string">&apos;*.jar&apos;</span>])</span><br><span class="line">    implementation <span class="string">&apos;com.android.support:appcompat-v7:27.0.0&apos;</span></span><br><span class="line">    implementation <span class="string">&apos;com.android.support:percent:25.3.0&apos;</span></span><br><span class="line">    implementation <span class="string">&apos;com.android.support.constraint:constraint-layout:1.1.2&apos;</span></span><br><span class="line">    testImplementation <span class="string">&apos;junit:junit:4.12&apos;</span></span><br><span class="line">    androidTestImplementation <span class="string">&apos;com.android.support.test:runner:1.0.2&apos;</span></span><br><span class="line">    androidTestImplementation <span class="string">&apos;com.android.support.test.espresso:espresso-core:3.0.2&apos;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">### PercentRelativeLayout</span><br><span class="line"></span><br><span class="line">修改xml文件</span><br><span class="line"></span><br><span class="line">```XML</span><br><span class="line">&lt;android.support.percent.PercentRelativeLayout</span><br><span class="line">    xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="line">    xmlns:app=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="line">    android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:layout_height=<span class="string">&quot;match_parent&quot;</span>&gt;</span><br><span class="line">    &lt;View</span><br><span class="line">        android:id=<span class="string">&quot;@+id/top_left&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;0dp&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;0dp&quot;</span></span><br><span class="line">        android:layout_alignParentTop=<span class="string">&quot;true&quot;</span></span><br><span class="line">        android:background=<span class="string">&quot;#ff44aacc&quot;</span></span><br><span class="line">        app:layout_heightPercent=<span class="string">&quot;20%&quot;</span></span><br><span class="line">        app:layout_widthPercent=<span class="string">&quot;70%&quot;</span> <span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;View</span></span><br><span class="line"><span class="regexp">        android:id=&quot;@+id/</span>top_right<span class="string">&quot;</span></span><br><span class="line"><span class="string">        android:layout_width=&quot;</span><span class="number">0</span>dp<span class="string">&quot;</span></span><br><span class="line"><span class="string">        android:layout_height=&quot;</span><span class="number">0</span>dp<span class="string">&quot;</span></span><br><span class="line"><span class="string">        android:layout_alignParentTop=&quot;</span><span class="keyword">true</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        android:layout_toRightOf=&quot;</span>@+id<span class="regexp">/top_left&quot;</span></span><br><span class="line"><span class="regexp">        android:background=&quot;#ffe40000&quot;</span></span><br><span class="line"><span class="regexp">        app:layout_heightPercent=&quot;20%&quot;</span></span><br><span class="line"><span class="regexp">        app:layout_widthPercent=&quot;30%&quot; /</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;View</span><br><span class="line">        android:id=<span class="string">&quot;@+id/bottom&quot;</span></span><br><span class="line">        android:layout_width=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">        android:layout_height=<span class="string">&quot;0dp&quot;</span></span><br><span class="line">        android:layout_below=<span class="string">&quot;@+id/top_left&quot;</span></span><br><span class="line">        android:background=<span class="string">&quot;#ff00ff22&quot;</span></span><br><span class="line">        app:layout_heightPercent=<span class="string">&quot;80%&quot;</span> <span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>android.support.percent.PercentRelativeLayout&gt;</span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/percentrelativelayout.png" class="lozad"></p><p>可以看到通過<code>app:layout_heightPercent</code>和<code>app:layout_widthPercent</code>兩個參數進行百分比設定。</p><h3 id="PercentFrameLayout"><a href="#PercentFrameLayout" class="headerlink" title="PercentFrameLayout"></a>PercentFrameLayout</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.percent.PercentFrameLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Button1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left|top&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_widthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;right|top&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Button2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_widthPercent</span>=<span class="string">&quot;50%&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button3&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Button3&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left|bottom&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_widthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button4&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Button4&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;right|bottom&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_widthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.percent.PercentFrameLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>運行效果：</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Four_Layout/percentframelayout.png" class="lozad"></p><p>其它的屬性還有  </p><ul><li>app:layout_heightPercent</li><li>app:layout_widthPercent</li><li>app:layout_marginBottomPercent</li><li>app:layout_marginEndPercent</li><li>app:layout_marginLeftPercent</li><li>app:layout_marginPercent</li><li>app:layout_marginRightPercent</li><li>app:layout_marginStartPercent</li><li>app:layout_marginTopPercent</li></ul><p>可以參考<a href="https://github.com/JulienGenoud/android-percent-support-lib-sample" rel="external nofollow noopener noreferrer" target="_blank">android-percent-support-lib-sample</a>和<a href="https://blog.csdn.net/lmj623565791/article/details/46695347" rel="external nofollow noopener noreferrer" target="_blank">Android 百分比布局库(percent-support-lib) 解析与扩展</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> Layout </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo和Next主題的相關設置（持續更新）</title>
      <link href="/posts/31391d01/"/>
      <url>/posts/31391d01/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="字數統計和閲讀時長-網站底部-文章内"><a href="#字數統計和閲讀時長-網站底部-文章内" class="headerlink" title="字數統計和閲讀時長(網站底部/文章内)"></a>字數統計和閲讀時長(網站底部/文章内)</h1><p>效果如圖</p><p>文章内</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/post-wordcount.png" class="lozad"></p><p>網頁頂部</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/page-wordcount.png" class="lozad"></p><h2 id="安裝插件"><a href="#安裝插件" class="headerlink" title="安裝插件"></a>安裝插件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><h2 id="修改-站點配置文件"><a href="#修改-站點配置文件" class="headerlink" title="修改 站點配置文件"></a>修改 <code>站點配置文件</code></h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"> <span class="comment">#文章内是否顯示</span></span><br><span class="line"><span class="attr">  symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  time:</span> <span class="literal">true</span></span><br><span class="line"> <span class="comment"># 網頁底部是否顯示</span></span><br><span class="line"><span class="attr">  total_symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_time:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="修改-主題配置文件"><a href="#修改-主題配置文件" class="headerlink" title="修改 主題配置文件"></a>修改 <code>主題配置文件</code></h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#文章中的顯示是否顯示文字（本文字數|閱讀時長）</span></span><br><span class="line"><span class="attr">  item_text_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#網頁底部的顯示是否顯示文字（站點總字數|站點閱讀時長）</span></span><br><span class="line"><span class="attr">  item_text_total:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Average Word Length (chars count in word)</span></span><br><span class="line"><span class="attr">  awl:</span> <span class="number">4</span></span><br><span class="line">  <span class="comment"># Words Per Minute</span></span><br><span class="line"><span class="attr">  wpm:</span> <span class="number">275</span></span><br></pre></td></tr></table></figure><h1 id="文章底部添加版權信息"><a href="#文章底部添加版權信息" class="headerlink" title="文章底部添加版權信息"></a>文章底部添加版權信息</h1><p>效果如圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/copyright.png" class="lozad"></p><p>修改 <code>主題配置文件</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把 enable: 設爲true</span></span><br><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot;</span> <span class="string">rel=&quot;external</span> <span class="string">nofollow&quot;</span> <span class="string">target=&quot;_blank&quot;&gt;CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span><span class="string">&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h1 id="網頁底部信息隱藏"><a href="#網頁底部信息隱藏" class="headerlink" title="網頁底部信息隱藏"></a>網頁底部信息隱藏</h1><p>只需要把 <code>主題配置文件</code>的相關資料改爲<strong>false</strong>就行</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line"><span class="attr">  since:</span> <span class="number">2018</span></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line"><span class="attr">  icon:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">    animated:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    color:</span> <span class="string">&quot;#808080&quot;</span></span><br><span class="line"><span class="attr">  powered:</span></span><br><span class="line">    <span class="comment"># Hexo link (Powered by Hexo).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">theme:</span></span><br><span class="line">    <span class="comment"># Theme &amp; scheme info link (Theme - NexT.scheme).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Version info of NexT after scheme info (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h1 id="給文章增加陰影效果"><a href="#給文章增加陰影效果" class="headerlink" title="給文章增加陰影效果"></a>給文章增加陰影效果</h1><p>效果如圖  </p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/post-shadow.png" class="lozad"></p><p>修改<code>custom.styl</code> 文件,具體為<code>themes/next/source/css/_custom/custom.styl</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 為文章添加陰影效果</span><br><span class="line">.post {</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h1 id="為博客添加寵物"><a href="#為博客添加寵物" class="headerlink" title="為博客添加寵物"></a>為博客添加寵物</h1><p>效果如圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/live2d.png" class="lozad"></p><h2 id="安裝依賴包"><a href="#安裝依賴包" class="headerlink" title="安裝依賴包"></a>安裝依賴包</h2><p>在站點根目錄,打開Git Bash,安裝hexo-helper-live2d</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><h2 id="在站點配置文件或者主題配置文件添加以下内容"><a href="#在站點配置文件或者主題配置文件添加以下内容" class="headerlink" title="在站點配置文件或者主題配置文件添加以下内容"></a>在<code>站點配置文件</code>或者<code>主題配置文件</code>添加以下内容</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  scriptFrom:</span> <span class="string">local</span></span><br><span class="line"><span class="attr">  pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line"><span class="attr">  pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line"><span class="attr">  pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line"><span class="attr">  model:</span></span><br><span class="line"><span class="attr">    use:</span> <span class="string">live2d-widget-model-wanko</span></span><br><span class="line"><span class="attr">  display:</span></span><br><span class="line"><span class="attr">    position:</span> <span class="string">right</span></span><br><span class="line"><span class="attr">    width:</span> <span class="number">150</span></span><br><span class="line"><span class="attr">    height:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  mobile:</span></span><br><span class="line"><span class="attr">    show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="安裝需要的寵物文件"><a href="#安裝需要的寵物文件" class="headerlink" title="安裝需要的寵物文件"></a>安裝需要的寵物文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install {packagename}</span><br></pre></td></tr></table></figure><p>如效果圖所示的寵物名為haruto, 則為 <code>npm install live2d-widget-model-haruto</code>,其他寵物包點擊<a href="https://github.com/xiazeyu/live2d-widget-models" rel="external nofollow noopener noreferrer" target="_blank">live2d-widget-models</a>。如果需要修改寵物的位置,可以在<code>display</code>下添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 水平位置</span></span><br><span class="line"><span class="attr">hOffset:</span> <span class="number">0</span></span><br><span class="line"><span class="comment"># 垂直位置</span></span><br><span class="line"><span class="attr">vOffset:</span> <span class="bullet">-20</span></span><br></pre></td></tr></table></figure><p>詳細内容可參考<a href="https://github.com/EYHN/hexo-helper-live2d" rel="external nofollow noopener noreferrer" target="_blank"><strong>hexo-helper-live2d</strong></a></p><h1 id="添加網站已運行時間"><a href="#添加網站已運行時間" class="headerlink" title="添加網站已運行時間"></a>添加網站已運行時間</h1><p>效果如圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/counttime.png" class="lozad"></p><p>在<code>themes/layout/_parrials/footer.swig</code> 中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&quot;sitetime&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;script language=javascript&gt;</span><br><span class="line">function siteTime(){</span><br><span class="line">window.setTimeout(&quot;siteTime()&quot;, 1000);</span><br><span class="line">var seconds = 1000;</span><br><span class="line">var minutes = seconds * 60;</span><br><span class="line">var hours = minutes * 60;</span><br><span class="line">var days = hours * 24;</span><br><span class="line">var years = days * 365;</span><br><span class="line">var today = new Date();</span><br><span class="line">var todayYear = today.getFullYear();</span><br><span class="line">var todayMonth = today.getMonth()+1;</span><br><span class="line">var todayDate = today.getDate();</span><br><span class="line">var todayHour = today.getHours();</span><br><span class="line">var todayMinute = today.getMinutes();</span><br><span class="line">var todaySecond = today.getSeconds();</span><br><span class="line">var t1 = Date.UTC(2018,06,07,12,00,00); // 設置建立網站的時間</span><br><span class="line">var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);</span><br><span class="line">var diff = t2-t1;</span><br><span class="line">var diffYears = Math.floor(diff/years);</span><br><span class="line">var diffDays = Math.floor((diff/days)-diffYears*365);</span><br><span class="line">var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);</span><br><span class="line">var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);</span><br><span class="line">var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);</span><br><span class="line">document.getElementById(&quot;sitetime&quot;).innerHTML=&quot; 已運行&quot;+diffYears+&quot; 年 &quot;diffDays+&quot; 天 &quot;+diffHours+&quot; 小時 &quot;+diffMinutes+&quot; 分鐘 &quot;+diffSeconds+&quot; 秒&quot;;</span><br><span class="line">}</span><br><span class="line">siteTime();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>把代碼放在你想要的位置,插入位置不同,效果顯示的位置也會不同。若想要顯示為簡體或者英文,只要把對應的文字修改就行。</p><h1 id="添加標簽云"><a href="#添加標簽云" class="headerlink" title="添加標簽云"></a>添加標簽云</h1><p>效果如圖</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/tag-cloud.png" class="lozad"></p><p>在<code>next/layout/page.swig</code>中,找到</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;tag-cloud-tags&quot;&gt;</span><br><span class="line">              {{ tagcloud({min_font: 12, max_font: 30, amount: 300, color: true, start_color: &apos;#ccc&apos;, end_color: &apos;#111&apos;}) }}</span><br><span class="line">            &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>如果你想標籤頁先顯示標簽云,再顯示基本的標籤頁,可以在這段代碼之前添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">{% if site.tags.length &gt; 1 %}</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; src=&quot;/js/tagcloud.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; src=&quot;/js/tagcanvas.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;div class=&quot;widget-wrap&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;widget-title&quot;&gt;Tag Cloud&lt;/h3&gt;</span><br><span class="line">    &lt;div id=&quot;myCanvasContainer&quot; class=&quot;widget tagcloud&quot;&gt;</span><br><span class="line">        &lt;canvas width=&quot;250&quot; height=&quot;250&quot; id=&quot;resCanvas&quot; style=&quot;width=100%&quot;&gt;</span><br><span class="line">            {{ list_tags() }}</span><br><span class="line">        &lt;/canvas&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></table></figure><p>如果是先顯示預設的標籤頁,再顯示標簽云,則把上面代碼添加到後面。</p><p>如果你只想顯示標簽云就行,可以把</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;tag-cloud-tags&quot;&gt;</span><br><span class="line">              {{ tagcloud({min_font: 12, max_font: 30, amount: 300, color: true, start_color: &apos;#ccc&apos;, end_color: &apos;#111&apos;}) }}</span><br><span class="line">            &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>刪掉就行。</p><h1 id="修改界面内容顯示區域寬度"><a href="#修改界面内容顯示區域寬度" class="headerlink" title="修改界面内容顯示區域寬度"></a>修改界面内容顯示區域寬度</h1><p>Next主題默認的設置,兩邊留白的區域很大。當然我們可以修改設置<br>在<code>themes\next\source\css\_custom</code>的<code>custom.styl</code>添加下面參數  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 屏幕寬度小於1600px</span><br><span class="line">$content-desktop = 700px</span><br><span class="line"></span><br><span class="line">// 屏幕寬度大於或等於 1600px</span><br><span class="line">$content-desktop-large = 900px</span><br></pre></td></tr></table></figure><p>修改對應的參數就行,此方法不適用於Pisces主題。</p><h1 id="添加文章時-自動打開markdown編輯器"><a href="#添加文章時-自動打開markdown編輯器" class="headerlink" title="添加文章時,自動打開markdown編輯器"></a>添加文章時,自動打開markdown編輯器</h1><p>找到博客根目錄,打開scripts文件夾(沒有的話,自己創建一個)。  </p><p>創建一個JavaScript文件,可任意命名。  </p><p>打開所創建的JavaScript文件,輸入以下内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> spawn = <span class="built_in">require</span>(<span class="string">&apos;child_process&apos;</span>).exec;</span><br><span class="line"></span><br><span class="line"><span class="comment">//根據自己安裝的hexo版本選擇</span></span><br><span class="line"><span class="comment">// Hexo 2.x 複製這段</span></span><br><span class="line">hexo.on(<span class="string">&apos;new&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">path</span>)</span>{</span><br><span class="line">spawn(<span class="string">&apos;start &quot;&quot; &quot;markdown編輯器絕對路徑&quot; &apos;</span> + path);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hexo 3 複製這段</span></span><br><span class="line">hexo.on(<span class="string">&apos;new&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>{</span><br><span class="line">  spawn(<span class="string">&apos;start &quot;&quot; &quot;markdown編輯器絕對路徑&quot; &apos;</span> + data.path);</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p>注意: markdown編輯器絕對路徑 格式為(例如打開Typora)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\\Program Files\\Typora\\Typora.exe</span><br></pre></td></tr></table></figure><h1 id="添加在綫聯係功能"><a href="#添加在綫聯係功能" class="headerlink" title="添加在綫聯係功能"></a>添加在綫聯係功能</h1><p>一個在綫的聯係功能:<a href="http://www.daovoice.io/" rel="external nofollow noopener noreferrer" target="_blank">DaoVoice</a></p><h2 id="注冊DaoVoice-獲取app-id"><a href="#注冊DaoVoice-獲取app-id" class="headerlink" title="注冊DaoVoice , 獲取app_id"></a>注冊DaoVoice , 獲取app_id</h2><p>點擊 <a href="http://www.daovoice.io/" rel="external nofollow noopener noreferrer" target="_blank">DaoVoice</a> ,並點擊注冊。可以填入邀請碼：<code>98657237</code>  </p><p>得到 app_id</p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/daovoice_id.png" class="lozad"></p><h2 id="修改head-swig"><a href="#修改head-swig" class="headerlink" title="修改head.swig"></a>修改head.swig</h2><p>修改next\layout_partials\head\head.swig 文件, 添加以下内容  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">{% if theme.daovoice %}</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m){i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)})(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, {</span><br><span class="line">      app_id: &quot;{{theme.daovoice_app_id}}&quot;</span><br><span class="line">    });</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></table></figure><h2 id="修改-config-yml"><a href="#修改-config-yml" class="headerlink" title="修改_config.yml"></a>修改_config.yml</h2><p>在<code>主題配置文件</code>中,添加以下内容</p><pre><code class="bash"><span class="comment"># daovoice 配置</span>daovoice: <span class="literal">true</span>daovoice_app_id:   <span class="comment"># 填入剛才的app_id</span></code></pre><h2 id="部署到網站"><a href="#部署到網站" class="headerlink" title="部署到網站"></a>部署到網站</h2><p>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 就能看到效果了,網頁右下角多了個 圖標</p><p>具體修改圖表的樣式,位置。可以在daovoice網頁中 應用設置-聊天設置 中配置  </p><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Related_settings_for_Hexo_and_Next_theme/daovoice2.png" class="lozad"></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 主題 </tag>
            
            <tag> 教程 </tag>
            
            <tag> next </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-bulid.gradle 解析</title>
      <link href="/posts/a4ecdf66/"/>
      <url>/posts/a4ecdf66/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="外層的bulid-gradle文件"><a href="#外層的bulid-gradle文件" class="headerlink" title="外層的bulid.gradle文件"></a>外層的bulid.gradle文件</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">buildscript {</span><br><span class="line">    repositories {</span><br><span class="line">        jcenter()   <span class="comment">// 一個代碼托管倉庫</span></span><br><span class="line">    }</span><br><span class="line">    dependencies {</span><br><span class="line">        classpath <span class="string">&apos;com.android.tools.build:gradle:2.3.0&apos;</span> <span class="comment">// 聲明一個gradle插件</span></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">allprojects {</span><br><span class="line">    repositories {</span><br><span class="line">        jcenter()</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">task clean(<span class="string">type:</span> Delete) {</span><br><span class="line">    delete rootProject.buildDir</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>兩處的<strong>repositories</strong>的閉包中都聲明了<strong>jcenter()</strong> 這行配置。<br>jcenter是一個代碼托管倉庫,很多Androdi開源項目都會選擇將代碼托管到jcenter上,聲明了這個配置之後,可以在項目中引用任何jcenter上的開源項目。  </p><p><strong>dependencies閉包</strong>使用classpath聲明一個gradle插件。gradle并不是專門為構建android項目而開發,使用它時,需要聲明com.android.tools.build:gradle+版本號</p><h2 id="app目錄内的build-gradle文件"><a href="#app目錄内的build-gradle文件" class="headerlink" title="app目錄内的build.gradle文件"></a>app目錄内的build.gradle文件</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">apply <span class="string">plugin:</span> <span class="string">&apos;com.android.application&apos;</span></span><br><span class="line">android {</span><br><span class="line">    compileSdkVersion <span class="number">25</span>    <span class="comment">//指定項目的編譯版本</span></span><br><span class="line">    buildToolsVersion <span class="string">&quot;25.0.2&quot;</span> <span class="comment">//指定項目構建工具的版本</span></span><br><span class="line">    defaultConfig {</span><br><span class="line">        applicationId <span class="string">&quot;com.example.hwy01.myfirstapp&quot;</span>  <span class="comment">//指定項目的包名</span></span><br><span class="line">        minSdkVersion <span class="number">15</span>  </span><br><span class="line">        targetSdkVersion <span class="number">25</span></span><br><span class="line">        versionCode <span class="number">1</span> <span class="comment">//指定項目的版本號</span></span><br><span class="line">        versionName <span class="string">&quot;1.0&quot;</span> <span class="comment">//指定項目的版本名</span></span><br><span class="line">        testInstrumentationRunner <span class="string">&quot;android.support.test.runner.AndroidJUnitRunner&quot;</span></span><br><span class="line">    }</span><br><span class="line">    buildTypes {    <span class="comment">//用於指定生成安裝文件的相關配置</span></span><br><span class="line">        release {</span><br><span class="line">            minifyEnabled <span class="literal">false</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">&apos;proguard-android.txt&apos;</span>), <span class="string">&apos;proguard-rules.pro&apos;</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">dependencies</span><br><span class="line">{   <span class="comment">//指定當前項目所有的依賴關係</span></span><br><span class="line">    compile fileTree(<span class="string">dir:</span> <span class="string">&apos;libs&apos;</span>, <span class="string">include:</span> [<span class="string">&apos;*.jar&apos;</span>]) <span class="comment">//本地依賴聲明,表示將libs目錄下所有的.jar後綴的文件都添加到項目的構建路徑中</span></span><br><span class="line">    androidTestCompile(<span class="string">&apos;com.android.support.test.espresso:espresso-core:2.2.2&apos;</span>, {</span><br><span class="line">        exclude <span class="string">group:</span> <span class="string">&apos;com.android.support&apos;</span>, <span class="string">module:</span> <span class="string">&apos;support-annotations&apos;</span></span><br><span class="line">    })</span><br><span class="line">    compile <span class="string">&apos;com.android.support:appcompat-v7:25.2.0&apos;</span> <span class="comment">//標準的遠程依賴庫格式</span></span><br><span class="line">    compile <span class="string">&apos;com.android.support.constraint:constraint-layout:1.0.2&apos;</span></span><br><span class="line">    testCompile <span class="string">&apos;junit:junit:4.12&apos;</span> <span class="comment">//用於聲明測試用例庫的</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>第一行是應用了一個插件,一般有2個值可選：  </p><ul><li><strong>com.android.application</strong>表示這是一個應用程序模塊</li><li><strong>com.android.library</strong> 表示這是一個庫模塊。</li></ul><p>應用程序模塊和庫模塊的最大區別是,一個可以直接運行,一個衹能作爲代碼庫依附于別的應用程序模塊來運行。  </p><p><strong>buildTypes</strong>閉包用於指定生成安裝文件的相關配置。通常衹有2個子閉包：debug和release</p><ul><li>debug閉包用於指定生成測試版安裝文件的配置</li><li>release閉包用於指定生成正式版安裝文件的配置<br>debug閉包可以忽略不寫。</li></ul><h3 id="release閉包詳解"><a href="#release閉包詳解" class="headerlink" title="release閉包詳解"></a>release閉包詳解</h3><ul><li>minifyEnabled 用於指定是否對對項目的代碼進行混淆。 true表示混淆,false表示不混淆。</li><li>proguardFiles用於指定混淆時使用的規則文件。</li></ul><p><code>proguard-android.txt</code> 是在Android SDK目錄下的,裏面是所有項目通用的混淆規則。<br><code>proguard-rules.pro</code> 是在當前項目根目錄下的,裏面可以編寫當前項目特有的混淆規則  </p><p>通過Android Studio直接運行項目生成的都是測試版安裝文件</p><p><code>dependencies閉包</code> 指定當前項目所有的依賴關係  </p><p>通常Android Studio項目一共有3種依賴方式：  </p><ul><li><strong>本地依賴</strong>  </li></ul><p>可以對本地的jar包或目錄添加依賴關係  </p><ul><li><strong>庫依賴</strong>  </li></ul><p>可以對項目中的庫模塊添加依賴關係  </p><ul><li><strong>遠程依賴</strong>  </li></ul><p>可以對jcenter庫上的開源項目添加依賴關係  </p><p><code>compile &apos;com.android.support:appcompat-v7:25.2.0&apos;</code> 標準的遠程依賴庫格式<br><code>com.android.support</code>是域名部分,用於和其他公司的庫做區分。<br><code>appcompat-v7</code>是組名稱,用於和同一個公司中不同的庫做區分。<br><code>25.2.0</code>是版本號,用於和同一個庫不同的版本做區分。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
            <tag> grade </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-Android Studio工程目錄結構介紹</title>
      <link href="/posts/effd323a/"/>
      <url>/posts/effd323a/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Project模式下的項目結構"><a href="#Project模式下的項目結構" class="headerlink" title="Project模式下的項目結構"></a>Project模式下的項目結構</h2><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Android_Studio_Projects_Overview/Andoidstudioproject1.png" class="lozad"></p><h3 id="gradle-和-idea"><a href="#gradle-和-idea" class="headerlink" title=".gradle 和 .idea"></a>.gradle 和 .idea</h3><p>主要放置的都是Android studio自動生成的一些文件。</p><h3 id="app"><a href="#app" class="headerlink" title="app"></a>app</h3><p>項目的代碼資源等內容都在這個目錄</p><h3 id="gradle"><a href="#gradle" class="headerlink" title="gradle"></a>gradle</h3><p>包含gradle wrapper的配置文件</p><h3 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>用來將指定的目錄或文件排除在版本控制之外的</p><h3 id="build-gradle"><a href="#build-gradle" class="headerlink" title="build.gradle"></a>build.gradle</h3><p>這是項目全局的gradle構建腳本。</p><h3 id="gradle-properties"><a href="#gradle-properties" class="headerlink" title="gradle.properties"></a>gradle.properties</h3><p>這個文件是全局的gradle的配置文件,在這裏配置的屬性將會影響到項目中所有的gradle編譯腳本。</p><h3 id="gradlew-和-gradlew-bat"><a href="#gradlew-和-gradlew-bat" class="headerlink" title="gradlew 和 gradlew.bat"></a>gradlew 和 gradlew.bat</h3><p>這兩個文件是用來在令行介面中執行gradle 命令的,其中gradlew 是在linux和mac 系統中使用,而gradlew.bat是在windows系統中使用。  </p><h3 id="local-properties"><a href="#local-properties" class="headerlink" title="local.properties"></a>local.properties</h3><p>用來指定本機中的Android sdk路徑,通常內容都是自動生成,我們並不需要修改。</p><h3 id="settings-gradle"><a href="#settings-gradle" class="headerlink" title="settings.gradle"></a>settings.gradle</h3><p>用於指定項目中所有引入的模塊。通常情況下模塊的引入都是自動完成的,需要我們手動去修改的這個文件的場景可能比較少。</p><h3 id="iml"><a href="#iml" class="headerlink" title=".iml"></a>.iml</h3><p>.iml文件是所有IntelliJ IDEA 項目都會自動生成的一個文件,用於標識這是一個IntelliJ IDEA項目,我們不需要修改這個文件中的任何內容。</p><h2 id="App目錄下的結構"><a href="#App目錄下的結構" class="headerlink" title="App目錄下的結構"></a>App目錄下的結構</h2><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/Android_Studio_Projects_Overview/Andoidstudioproject2.png" class="lozad"></p><h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>主要是包含了一些在編譯中自動生成的文件。</p><h3 id="libs"><a href="#libs" class="headerlink" title="libs"></a>libs</h3><p>如果你的項目中使用了第三方jar包,就需要把這些jar包都放在libs目錄下,放在這個目錄下的jar包都會被自動添加到構建路徑里去。</p><h3 id="androidTest"><a href="#androidTest" class="headerlink" title="androidTest"></a>androidTest</h3><p>用來編寫Android Test測試用例的,可以對項目進行一些自動化測試。</p><h3 id="java"><a href="#java" class="headerlink" title="java"></a>java</h3><p>放置java代码的地方</p><h3 id="res"><a href="#res" class="headerlink" title="res"></a>res</h3><p>為 resource 的縮寫,專案所需的 UI 相關檔案,也就是非程式的資源,如 layout、圖像與文字。</p><h3 id="AndroidManifest-xml"><a href="#AndroidManifest-xml" class="headerlink" title="AndroidManifest.xml"></a>AndroidManifest.xml</h3><p>整個Android項目的配置文件,在程序中自定義的所有四大組建都需要在這個文件裏註冊,另外還可以在這個文件中給應用程序添加權限聲明。</p><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>用來編寫Unit Test測試用例的,是對項目進行自動化測試的另一種方式。</p><h3 id="gitignore-1"><a href="#gitignore-1" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>用來將指定的目錄或文件排除在版本控制之外的.</p><h3 id="build-gradle-1"><a href="#build-gradle-1" class="headerlink" title="build.gradle"></a>build.gradle</h3><p>這首app模塊的gradle構建腳本,這個文件中會指定很多項目構建相關的配置。</p><h3 id="proguard-rules-pro"><a href="#proguard-rules-pro" class="headerlink" title="proguard-rules.pro"></a>proguard-rules.pro</h3><p>這個文件用於指定項目代碼的混淆規則,當代碼開發完成後打開安裝包文件,如果不希望代碼被別人破解,通常會將代碼進行混淆,從而讓破解者難以閱讀。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一行代碼筆記-工具日志log</title>
      <link href="/posts/e129ca4d/"/>
      <url>/posts/e129ca4d/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Log-v"><a href="#Log-v" class="headerlink" title="Log.v()"></a>Log.v()</h2><p>verbose 級別,用於打印那些最爲瑣碎的、意義最小的日志信息。級別最低的一種。</p><h2 id="Log-d"><a href="#Log-d" class="headerlink" title="Log.d ()"></a>Log.d ()</h2><p>debug 級別,用於打印一些調試信息。</p><h2 id="Log-i"><a href="#Log-i" class="headerlink" title="Log.i ()"></a>Log.i ()</h2><p>info 級別,用於打印一些比較重要的數據可以分析用戶行爲的數據。</p><h2 id="Log-w"><a href="#Log-w" class="headerlink" title="Log.w ()"></a>Log.w ()</h2><p>warm 級別,用於打印一些警告信息,提示程序在這個地方可能會有潛在的風險,最好去修復一下。</p><h2 id="Log-e"><a href="#Log-e" class="headerlink" title="Log.e ()"></a>Log.e ()</h2><p>error 級別,用於打印程序中的錯誤信息。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 第一行代碼 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第一行代碼 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
